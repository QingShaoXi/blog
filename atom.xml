<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å–æ¯é›¶åº¦çš„é…’</title>
  
  <subtitle>ä¹¦çš„ä¸–ç•Œ~è¾“ä¸èµ·</subtitle>
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="https://qingshaoxi.github.io/blog/"/>
  <updated>2019-02-27T07:32:29.946Z</updated>
  <id>https://qingshaoxi.github.io/blog/</id>
  
  <author>
    <name>æ•…å¾€è½»å¹</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>nodejs å¼€å‘ä¼ä¸šå¾®ä¿¡ç¬¬ä¸‰æ–¹åº”ç”¨ç®€æ˜æ•™ç¨‹</title>
    <link href="https://qingshaoxi.github.io/blog/post/qywx-nodejs.html"/>
    <id>https://qingshaoxi.github.io/blog/post/qywx-nodejs.html</id>
    <published>2019-02-25T02:59:16.000Z</published>
    <updated>2019-02-27T07:32:29.946Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å…¬å¸è¦å¼€å‘ä¼ä¸šå¾®ä¿¡ç«¯çš„ worktileï¼Œä»¥å‰åšçš„æ˜¯ä¼ä¸šå¾®ä¿¡å†…éƒ¨åº”ç”¨ï¼Œç”±äºå¼€å‘çš„æ˜¯ä¼ä¸šå†…éƒ¨åº”ç”¨ï¼Œæ‰€æœ‰åªé€‚ç”¨äºç§æœ‰éƒ¨ç½²å®¢æˆ·ï¼Œå¯¹äºå…¬æœ‰äº‘å®¢æˆ·å°±æ— æ³•ä½¿ç”¨ï¼Œæ‰€æœ‰å°±å‡†å¤‡å¼€å‘ä¼ä¸šå¾®ä¿¡çš„ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨è°ƒç ”é˜¶æ®µé‡åˆ°çš„å±±çæµ·å‘³ã€‚</p><p>å¼€å‘ä¹‹å‰ä½ éœ€è¦å‰æ³¨å†Œä¸ºç¬¬ä¸‰æ–¹æœåŠ¡å•†ï¼Œç„¶åç”¨ç¬¬ä¸‰æ–¹æœåŠ¡å•†çš„è´¦å·åˆ›å»ºåº”ç”¨ï¼Œåˆ›å»ºä¹‹ååªéœ€è¦ç®¡ç†å‘˜æˆæƒåº”ç”¨ï¼Œç¬¬ä¸‰æ–¹æœåŠ¡å•†å³å¯ä¸ºç”¨æˆ·æä¾›æœåŠ¡ã€‚è¿™é‡Œæˆ‘ä»¬ä¸»è¦ç ”ç©¶ç¬¬ä¸‰æ–¹æœåŠ¡å•†æ³¨å†Œåº”ç”¨ã€‚</p><h3 id="é…ç½®å¼€å‘ä¿¡æ¯"><a class="markdownIt-Anchor" href="#é…ç½®å¼€å‘ä¿¡æ¯"></a> é…ç½®å¼€å‘ä¿¡æ¯</h3><p>åœ¨åˆ›å»ºåº”ç”¨ä¹‹å‰ï¼Œé¦–å…ˆè¦é…ç½®å¥½é€šç”¨å¼€å‘å‚æ•°</p><p><img src="https://i.loli.net/2019/02/25/5c73680394fae.png" alt="20190225115855.png"></p><p>åœ¨å¡«å†™ç³»ç»Ÿäº‹ä»¶æ¥æ”¶ url æ—¶ï¼Œè¦æ­£ç¡®å“åº”ä¼ä¸šå¾®ä¿¡éªŒè¯ url çš„è¯·æ±‚ã€‚è¿™ä¸ªå¯ä»¥å‚è€ƒä¼ä¸šå¾®ä¿¡åå°ï¼Œè‡ªå»ºåº”ç”¨çš„æ¥æ”¶æ¶ˆæ¯çš„ api è®¾ç½®ã€‚</p><p><img src="https://i.loli.net/2019/02/25/5c7369e58cffc.png" alt="20190225120700.png"></p><p>è¦æ±‚å¡«å†™åº”ç”¨çš„ URLã€Tokenã€EncodingAESKey ä¸‰ä¸ªå‚æ•°</p><ul><li>URL æ˜¯ä¼ä¸šåå°æ¥æ”¶ä¼ä¸šå¾®ä¿¡æ¨é€è¯·æ±‚çš„è®¿é—®åè®®å’Œåœ°å€ï¼Œæ”¯æŒ http æˆ– https åè®®ï¼ˆä¸ºäº†æé«˜å®‰å…¨æ€§ï¼Œå»ºè®®ä½¿ç”¨ httpsï¼‰ã€‚</li><li>Token å¯ç”±ä¼ä¸šä»»æ„å¡«å†™ï¼Œç”¨äºç”Ÿæˆç­¾åã€‚</li><li>EncodingAESKey ç”¨äºæ¶ˆæ¯ä½“çš„åŠ å¯†ï¼Œæ˜¯ AES å¯†é’¥çš„ Base64 ç¼–ç ã€‚</li></ul><h4 id="éªŒè¯-url-æœ‰æ•ˆæ€§"><a class="markdownIt-Anchor" href="#éªŒè¯-url-æœ‰æ•ˆæ€§"></a> éªŒè¯ url æœ‰æ•ˆæ€§</h4><p>å½“ç‚¹å‡»ä¿å­˜çš„æ—¶å€™ï¼Œä¼ä¸šå¾®ä¿¡ä¼šå‘ç”Ÿä¸€æ¡ get è¯·æ±‚åˆ°å¡«å†™çš„ url</p><p>æ¯”å¦‚ url è®¾ç½®çš„æ˜¯<code>https://api.worktile.com</code>, ä¼ä¸šå¾®ä¿¡å°†å‘é€å¦‚ä¸‹éªŒè¯è¯·æ±‚ï¼š</p><p>è¯·æ±‚åœ°å€ï¼š<a href="https://api.worktile.com/?msg_signature=ASDFQWEXZCVAQFASDFASDFSS%C3%97tamp=13500001234&amp;nonce=123412323&amp;echostr=ENCRYPT_STR" target="_blank" rel="noopener">https://api.worktile.com/?msg_signature=ASDFQWEXZCVAQFASDFASDFSSÃ—tamp=13500001234&amp;nonce=123412323&amp;echostr=ENCRYPT_STR</a></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>msg_signature</td><td>ä¼ä¸šå¾®ä¿¡åŠ å¯†ç­¾åï¼Œmsg_signature ç»“åˆäº†ä¼ä¸šå¡«å†™çš„ tokenã€è¯·æ±‚ä¸­çš„ timestampã€nonce å‚æ•°ã€åŠ å¯†çš„æ¶ˆæ¯ä½“</td></tr><tr><td>timestamp</td><td>æ—¶é—´æˆ³</td></tr><tr><td>nonce</td><td>éšæœºæ•°</td></tr><tr><td>echostr</td><td>åŠ å¯†çš„å­—ç¬¦ä¸²ã€‚éœ€è¦è§£å¯†å¾—åˆ°æ¶ˆæ¯å†…å®¹æ˜æ–‡ï¼Œè§£å¯†åæœ‰randomã€msg_lenã€msgã€receiveid å››ä¸ªå­—æ®µï¼Œå…¶ä¸­ msg å³ä¸ºæ¶ˆæ¯å†…å®¹æ˜æ–‡</td></tr></tbody></table><h5 id="é€šè¿‡å‚æ•°-msg_signature-å¯¹è¯·æ±‚è¿›è¡Œæ ¡éªŒ"><a class="markdownIt-Anchor" href="#é€šè¿‡å‚æ•°-msg_signature-å¯¹è¯·æ±‚è¿›è¡Œæ ¡éªŒ"></a> é€šè¿‡å‚æ•° msg_signature å¯¹è¯·æ±‚è¿›è¡Œæ ¡éªŒ</h5><p>é¦–å…ˆè¦æŠŠåˆšæ‰é…ç½®æ—¶éšæœºç”Ÿæˆçš„ token, timestamp, nonce, msg_encrypt è¿›è¡Œ sha1 åŠ å¯†ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ npm æ¨¡å— <a href="https://www.npmjs.com/package/sha1" target="_blank" rel="noopener">sha1</a> è¿›è¡ŒåŠ å¯†ï¼Œç„¶ååˆ¤æ–­å¾—åˆ°çš„ str æ˜¯å¦å’Œ msg_signature ç›¸ç­‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i sha1 --save</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sha1 = <span class="built_in">require</span>(<span class="string">'sha1'</span>);</span><br><span class="line"><span class="keyword">const</span> query = req.query;</span><br><span class="line"><span class="keyword">const</span> signature = query.msg_signature;</span><br><span class="line"><span class="keyword">const</span> timestamp = query.timestamp;</span><br><span class="line"><span class="keyword">const</span> nonce = query.nonce;</span><br><span class="line"><span class="keyword">const</span> echostr = query.echostr;</span><br><span class="line"><span class="keyword">const</span> tmpArr = [token, timestamp, nonce, echostr];</span><br><span class="line"><span class="keyword">const</span> tmpStr = sha1(tmpArr.sort().join(<span class="string">''</span>));</span><br><span class="line"><span class="keyword">if</span> (tmpStr === signature) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Check Success'</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Check Failed'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è§£å¯†-echostr-å¾—åˆ°-msg-å¹¶è¿”å›"><a class="markdownIt-Anchor" href="#è§£å¯†-echostr-å¾—åˆ°-msg-å¹¶è¿”å›"></a> è§£å¯† echostr å¾—åˆ° msg å¹¶è¿”å›</h5><p>å¯†æ–‡è§£å¯†è¿‡ç¨‹ï¼š</p><ol><li>å¯¹åˆšæ‰ç”Ÿæˆçš„ AESKey è¿›è¡Œ base64 è§£ç </li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> EncodingAESKey = <span class="string">'21IpFqj8qolJbaqPqe1rVTAK5sgkaQ3GQmUKiUQLwRe'</span>;</span><br><span class="line"><span class="keyword">let</span> aesKey = Buffer.from(EncodingAESKey + <span class="string">'='</span>, <span class="string">'base64'</span>);</span><br></pre></td></tr></table></figure><ol start="2"><li>å¯¹ AESKey è¿›è¡Œ aes-256-cbc è§£å¯†</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å»æ‰ decipheredBuff å¤´éƒ¨çš„16ä¸ªéšæœºå­—èŠ‚å’Œ4ä¸ªå­—èŠ‚çš„ msg_lenï¼Œæˆªå– msg_len é•¿åº¦çš„éƒ¨åˆ†å³ä¸ºmsgï¼Œå‰©ä¸‹çš„ä¸ºå°¾éƒ¨çš„ receiveid</span></span><br><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">'crypto'</span>);</span><br><span class="line"><span class="keyword">let</span> aesCipher = crypto.createDecipheriv(<span class="string">"aes-256-cbc"</span>, aesKey, aesKey.slice(<span class="number">0</span>, <span class="number">16</span>));</span><br><span class="line">aesCipher.setAutoPadding(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">let</span> decipheredBuff = Buffer.concat([aesCipher.update(data, <span class="string">'base64'</span>), aesCipher.final()]);</span><br><span class="line">decipheredBuff = PKCS7Decoder(decipheredBuff); <span class="comment">// å¾®ä¿¡è¦æ±‚ç”¨ pkcs7è¿›è¡Œè¡¥å…¨</span></span><br><span class="line"><span class="keyword">const</span> len_netOrder_corpid = decipheredBuff.slice(<span class="number">16</span>);</span><br><span class="line"><span class="keyword">const</span> msg_len = len_netOrder_corpid.slice(<span class="number">0</span>, <span class="number">4</span>).readUInt32BE(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> result = len_netOrder_corpid.slice(<span class="number">4</span>, msg_len + <span class="number">4</span>).toString();</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PKCS7Decoder</span> (<span class="params">buff</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> pad = buff[buff.length - <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">if</span> (pad &lt; <span class="number">1</span> || pad &gt; <span class="number">32</span>) &#123;</span><br><span class="line">    pad = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> buff.slice(<span class="number">0</span>, buff.length - pad);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>ç„¶åè¿”å› result å³å¯</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.end(result);</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•åº”ç”¨"><a class="markdownIt-Anchor" href="#æµ‹è¯•åº”ç”¨"></a> æµ‹è¯•åº”ç”¨</h3><p>åº”ç”¨åˆ›å»ºæˆåŠŸåï¼ŒæœåŠ¡å•†å¯ä»¥æˆæƒ 10 ä¸ªæµ‹è¯•ä¼ä¸š</p><p><img src="https://i.loli.net/2019/02/25/5c738cb169625.png" alt="20190225143525.png"></p><p>ä»ä¼ä¸šå¾®ä¿¡åº”ç”¨å¸‚åœºå‘èµ·æˆæƒæ—¶ï¼Œä¼ä¸šå¾®ä¿¡ç»™åˆšæ‰åº”ç”¨è®¾ç½®çš„<code>æŒ‡ä»¤å›è°ƒ url</code> å‘é€ä¸€ä¸ª post è¯·æ±‚ï¼Œæ¯”å¦‚ï¼š<br><code>https://api.worktile.com/worktile?msg_signature=b99605616153ffbfbe6ebbb500bd211e67ed714d&amp;timestamp=1551076894&amp;nonce=1551709703</code>ï¼Œç›´æ¥è¿”å›æˆåŠŸå³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.post(<span class="string">'/worktile'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'req.body'</span>, req.body);</span><br><span class="line">  res.send(<span class="string">'success'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="åº”ç”¨ä¸Šçº¿"><a class="markdownIt-Anchor" href="#åº”ç”¨ä¸Šçº¿"></a> åº”ç”¨ä¸Šçº¿</h3><p>å·²è®¤è¯ä¼ä¸šå¾®ä¿¡çš„æœåŠ¡å•†ï¼Œå¯è¿›å…¥åº”ç”¨ç®¡ç†â€”ç‚¹å‡»æäº¤ä¸Šçº¿â€”å‹¾é€‰åº”ç”¨â€”æäº¤ä¸Šçº¿ã€‚</p><h3 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h3><ul><li>æœ¬æ–‡æ›´æ–°äº 2019 å¹´ 2 æœˆ 25 æ—¥ï¼Œapi å¯èƒ½æœ‰æ—¶æ•ˆæ€§ï¼Œå¦‚æœ‰å·®å¼‚ï¼Œä»¥ <a href="https://work.weixin.qq.com/api/doc#90001/90142/90594" target="_blank" rel="noopener">å®˜æ–¹ api</a> ä¸ºå‡†ã€‚</li><li>worktile æ­£åœ¨å¼€å‘æµ‹è¯• ä¼ä¸šå¾®ä¿¡ã€é’‰é’‰ã€h5 ç«¯ï¼Œä¸Šçº¿ä¹‹åæ¬¢è¿ä½¿ç”¨ã€‚</li><li><a href="https://raw.githubusercontent.com/whyour/yiyanApi/master/server.js" target="_blank" rel="noopener">å®Œæ•´ demo</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘å…¬å¸è¦å¼€å‘ä¼ä¸šå¾®ä¿¡ç«¯çš„ worktileï¼Œä»¥å‰åšçš„æ˜¯ä¼ä¸šå¾®ä¿¡å†…éƒ¨åº”ç”¨ï¼Œç”±äºå¼€å‘çš„æ˜¯ä¼ä¸šå†…éƒ¨åº”ç”¨ï¼Œæ‰€æœ‰åªé€‚ç”¨äºç§æœ‰éƒ¨ç½²å®¢æˆ·ï¼Œå¯¹äºå…¬æœ‰äº‘å®¢æˆ·å°±æ— æ³•ä½¿ç”¨ï¼Œæ‰€æœ‰å°±å‡†å¤‡å¼€å‘ä¼ä¸šå¾®ä¿¡çš„ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨è°ƒç ”é˜¶æ®µé‡åˆ°çš„å±±çæµ·å‘³ã€‚&lt;/p&gt;
&lt;p&gt;å¼€å‘ä¹‹å‰ä½ éœ€è¦å‰æ³¨å†Œä¸ºç¬¬ä¸‰æ–¹æœåŠ¡
      
    
    </summary>
    
    
      <category term="nodejs" scheme="https://qingshaoxi.github.io/blog/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>javascript ä¸­çš„ es6 æŠ€å·§ 2</title>
    <link href="https://qingshaoxi.github.io/blog/post/javascript-pro-tips-2.html"/>
    <id>https://qingshaoxi.github.io/blog/post/javascript-pro-tips-2.html</id>
    <published>2019-02-18T03:30:45.000Z</published>
    <updated>2019-02-27T07:32:29.936Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è·å–æŸå¹´æŸæœˆæœ‰å¤šå°‘å¤©"><a class="markdownIt-Anchor" href="#è·å–æŸå¹´æŸæœˆæœ‰å¤šå°‘å¤©"></a> è·å–æŸå¹´æŸæœˆæœ‰å¤šå°‘å¤©</h3><p>æ­¤å¤„å€Ÿç”¨ Date api åˆ›å»ºæ—¶é—´çš„æ—¶å€™è¶…å‡ºçš„æ—¶é—´ä¼šè‡ªåŠ¨é¡ºå»¶åˆ°ä¸‹ä¸ªæœˆã€‚æ¯”å¦‚<code>new Date(2019, 0, 32)</code>å°±ä¼šè‡ªåŠ¨é¡ºå»¶åˆ° 2019 å¹´ 2 æœˆ 1 æ—¥ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥ç”¨ 32 å‡å» 1 å°±å¯ä»¥å¾—å‡º 1 æœˆä»½çš„å¤©æ•°ï¼Œå½“ç„¶ 32 åªæ˜¯ä¸€ä¸ªæœ€å°æ•°ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ 33ã€34â€¦<br>é‚£å¦‚æœè¯´å¾€å¤§å–å¯ä»¥ï¼Œå¾€å°å–æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚æ¯”å¦‚<code>new Date(2019, 0, 0)</code>å°±ä¼šå–åˆ° 2018 å¹´çš„ 12 æœˆ 31 æ—¥ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥å–åˆ°ä¸Šä¸ªæœˆçš„æ€»å¤©æ•°ï¼Œè¦å–æŒ‡å®šæœˆçš„å¤©æ•°ï¼Œåªéœ€ç»™æŒ‡å®šæœˆæ•° month + 1 å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸‹é¢è¿™ä¸¤ä¸ªå‡½æ•°æ˜¯ç­‰æ•ˆçš„</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDateOfMonth</span>(<span class="params">year, month</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(year, month, <span class="number">32</span>).getDate();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">32</span> - date;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDateOfMonth</span>(<span class="params">year, month</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(year, month + <span class="number">1</span>, <span class="number">0</span>).getDate();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚é—°å¹´çš„ 2 æœˆä»½å¤©æ•°</span></span><br><span class="line"><span class="comment">// 29</span></span><br><span class="line">getDateOfMonth(<span class="number">2000</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚éé—°å¹´çš„ 2 æœˆä»½å¤©æ•°</span></span><br><span class="line"><span class="comment">// 28</span></span><br><span class="line">getDateOfMonth(<span class="number">2001</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚å¤§æœˆçš„å¤©æ•°</span></span><br><span class="line"><span class="comment">// 31</span></span><br><span class="line">getDateOfMonth(<span class="number">2001</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚å°æœˆçš„å¤©æ•°</span></span><br><span class="line"><span class="comment">// 30</span></span><br><span class="line">getDateOfMonth(<span class="number">2001</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure><h3 id="å¯¹ä¸€ä¸ªæ•°å–å¹‚"><a class="markdownIt-Anchor" href="#å¯¹ä¸€ä¸ªæ•°å–å¹‚"></a> å¯¹ä¸€ä¸ªæ•°å–å¹‚</h3><p>è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Math.pow()</code>ï¼Œä½†æ˜¯æˆ‘ä»¬æ›´æ¨èä½¿ç”¨å–å¹‚è¿ç®—ç¬¦ <code>**</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> binary = <span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> binary = <span class="number">2</span> ** <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡ç»“æ„ç”¨åœ¨æ•°ç»„ä¸Š"><a class="markdownIt-Anchor" href="#å¯¹è±¡ç»“æ„ç”¨åœ¨æ•°ç»„ä¸Š"></a> å¯¹è±¡ç»“æ„ç”¨åœ¨æ•°ç»„ä¸Š</h3><h4 id="è·å–æ•°ç»„çš„é•¿åº¦"><a class="markdownIt-Anchor" href="#è·å–æ•°ç»„çš„é•¿åº¦"></a> è·å–æ•°ç»„çš„é•¿åº¦</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;<span class="number">0</span>: a, <span class="number">1</span>: b, <span class="attr">length</span>: l&#125; = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"></span><br><span class="line">a === <span class="string">'a'</span>;</span><br><span class="line">b === <span class="string">'b'</span>;</span><br><span class="line">l === <span class="number">3</span>;</span><br></pre></td></tr></table></figure><h4 id="è¿˜å¯ä»¥è·å–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ "><a class="markdownIt-Anchor" href="#è¿˜å¯ä»¥è·å–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ "></a> è¿˜å¯ä»¥è·å–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;<span class="attr">length</span>: l, [l<span class="number">-1</span>]: last, ...rest&#125; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">l === <span class="number">3</span>;</span><br><span class="line">last === <span class="number">3</span>;</span><br><span class="line">rest <span class="comment">// &#123;0: 1, 1: 2&#125;</span></span><br></pre></td></tr></table></figure><p>ä¸åªæ˜¯ lengthï¼Œæ•°ç»„çš„å…¶ä»–æ–¹æ³•ï¼Œæ¯”å¦‚ joinã€push ç­‰æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥è§£æ„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">map</span>: m, <span class="attr">push</span>: p&#125; = []</span><br><span class="line">m === <span class="built_in">Array</span>.prototype.map <span class="comment">// true</span></span><br><span class="line">m === [].__proto__.map <span class="comment">// true</span></span><br><span class="line">p === <span class="built_in">Array</span>.prototype.push <span class="comment">// true</span></span><br><span class="line">p === [].__proto__.push <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ Array çš„åŸå‹é“¾ä¹Ÿå¯ä»¥è§£æ Object.prototype ä¸Šçš„å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.__proto__.hasOwnProperty === <span class="built_in">Object</span>.prototype.hasOwnProperty <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">hasOwnProperty</span>: hop&#125; = []</span><br><span class="line">hop === <span class="built_in">Object</span>.prototype.hasOwnProperty <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥çœ‹å‡ºï¼Œè§£æ„æ“ä½œä¼šæ²¿ç€å½“å‰å¯¹è±¡åŠå…¶åŸå‹é“¾ä¸€ç›´å‘ä¸Šæ‰¾ï¼Œç›´åˆ° <code>Object.prototype.__proto__</code> å¯¹è±¡ï¼Œå¦‚æœè¢«è§£æ„çš„å¯¹è±¡åŠå…¶åŸå‹é“¾ä¸Šä¸å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™è¿”å› <code>undefined</code>ã€‚</p><h4 id="å°†æ•°ç»„è½¬ä¸ºå¯¹è±¡"><a class="markdownIt-Anchor" href="#å°†æ•°ç»„è½¬ä¸ºå¯¹è±¡"></a> å°†æ•°ç»„è½¬ä¸ºå¯¹è±¡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; ...obj &#125; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">obj <span class="comment">// =&gt; &#123;0: 1, 1: 2, 2: 3&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;è·å–æŸå¹´æŸæœˆæœ‰å¤šå°‘å¤©&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#è·å–æŸå¹´æŸæœˆæœ‰å¤šå°‘å¤©&quot;&gt;&lt;/a&gt; è·å–æŸå¹´æŸæœˆæœ‰å¤šå°‘å¤©&lt;/h3&gt;
&lt;p&gt;æ­¤å¤„å€Ÿç”¨ Date api åˆ›å»ºæ—¶é—´çš„æ—¶å€™è¶…å‡ºçš„æ—¶é—´ä¼šè‡ªåŠ¨é¡ºå»¶åˆ°ä¸‹ä¸ªæœˆã€‚æ¯”å¦‚&lt;code&gt;new 
      
    
    </summary>
    
    
      <category term="js" scheme="https://qingshaoxi.github.io/blog/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>ES6 å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—</title>
    <link href="https://qingshaoxi.github.io/blog/post/es6-fibolachian-sequence.html"/>
    <id>https://qingshaoxi.github.io/blog/post/es6-fibolachian-sequence.html</id>
    <published>2019-01-17T15:26:00.000Z</published>
    <updated>2019-02-27T07:32:29.927Z</updated>
    
    <content type="html"><![CDATA[<p>æŸä¸€å¤©ï¼Œæ—è¾¹çš„åŒäº‹é—®æˆ‘ï¼ŒçŸ¥é“æ–æ³¢ä»€ä¹ˆæ•°å—ã€‚æˆ‘è¯´ï¼Œä¸çŸ¥é“ã€‚åŒäº‹åˆè¯´ï¼Œè¿™ä¸æ˜¯é¢è¯•å¿…é—®çš„å—ã€‚æˆ‘å°´å°¬åˆä¸å¤±ä¼˜é›…çš„ä¸€ç¬‘ğŸ¤“ğŸ¤“ğŸ¤“ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—"></a> ä»€ä¹ˆæ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—</h3><p>é¦–å…ˆå®ƒæ˜¯ä¸€ä¸ªæ•°åˆ—ï¼Œåœ¨æ•°å­¦ä¸Šæ˜¯ä»¥é€’å½’çš„æ–¹æ³•å®šä¹‰</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">F_{0}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">F_{1}=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>n</mi></msub><mo>=</mo><msub><mi>F</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>F</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>2</mn></mrow></msub><mo>(</mo><mi>n</mi><mo>â‰§</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">F_{n}=F_{n-1}+F_{n-2}  (nâ‰§2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.01166em;vertical-align:-0.25583em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">â‰§</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span></li></ul><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ•°å­—æ˜¯ 0 å’Œ 1ï¼Œåé¢çš„æ•°å­—éƒ½æ˜¯å‰ä¸¤ä¸ªæ•°å­—çš„å’Œã€‚</p><p>ç°åœ¨æˆ‘ä»¬çš„é—®é¢˜æ˜¯æ±‚ç¬¬äºŒåä¸ªæ–æ³¢é‚£å¥‘æ•°æˆ–è€…æ±‚æœ€æ¥è¿‘æŸä¸ªæ•°çš„æ–æ³¢é‚£å¥‘æ•°ã€‚</p><h3 id="es5-å®ç°"><a class="markdownIt-Anchor" href="#es5-å®ç°"></a> es5 å®ç°</h3><p>å…¶å®åªéœ€è¦æ„é€ ä¸€ä¸ªé€’å½’çš„å‡½æ•°å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n===<span class="number">0</span> || n===<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> fibonacci(n<span class="number">-1</span>) + fibonacci(n<span class="number">-2</span>);</span><br><span class="line">&#125;</span><br><span class="line">fibonacci(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> cache = [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">_fibolachian</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> cache[n] === <span class="string">'number'</span></span><br><span class="line">      ? cache[n]</span><br><span class="line">      : cache[n] = _fibolachian(n - <span class="number">1</span>) + _fibolachian(n - <span class="number">2</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">fibonacci(<span class="number">50</span>);</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ç§ç²—æš´è§£å†³ï¼Œä½†æ˜¯é€Ÿåº¦ä»¤äººå ªå¿§ã€‚ç¬¬äºŒç§åˆ©ç”¨ç¼“å­˜ï¼Œæå¤§ä¼˜åŒ–å¤„ç†æ—¶é—´ã€‚è¿™ç§æ–¹æ³•æ¯æ¬¡åªèƒ½è¿”å›ä¸€ä¸ªæ•°æ®ï¼Œéƒ½æ— æ³•ä¼˜é›…åœ°è§£å†³æˆ‘ä»¬çš„é—®é¢˜ã€‚</p><h3 id="es6-å®ç°"><a class="markdownIt-Anchor" href="#es6-å®ç°"></a> es6 å®ç°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fib_generator</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [current, next] = [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> current;</span><br><span class="line">    [next, current] = [next+current, next];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fib = fib_generator();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å‰20ä¸ªæ–æ³¢é‚£å¥‘æ•°</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(fib.next().value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ–æ³¢é‚£å¥‘æ•°å°äº10000çš„æ‰€æœ‰æ•°</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> n <span class="keyword">of</span> fib_generator()) &#123;</span><br><span class="line">  <span class="keyword">if</span> (n &gt; <span class="number">5000</span>) &#123;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181</span></span><br></pre></td></tr></table></figure><p>es6å®ç°ä¸­ä¸»è¦ä½¿ç”¨äº†<code>generator function</code>ã€<code>yield</code>ã€<code>æ•°ç»„ç»“æ„</code>ç­‰ç‰¹æ€§ã€‚<br>&gt; <code>generator function</code>æ˜¯å°±æ˜¯ES6ä¸­çš„ç”Ÿæˆå™¨å‡½æ•°ï¼Œå†™èµ·æ¥å¾ˆç®€å•ï¼Œåªè¦åœ¨<code>function</code>åé¢åŠ ä¸Šä¸€ä¸ª<code>*</code>å·å³å¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo1</span>(<span class="params"></span>) </span>&#123; &#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo2</span>(<span class="params"></span>) </span>&#123; &#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">foo3</span>(<span class="params"></span>) </span>&#123; &#125;;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ä¼šäº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰ã€‚ç”Ÿæˆå™¨æ‹¥æœ‰çš„æœ€é‡è¦çš„æ–¹æ³•æ˜¯ next()ï¼Œç”¨æ¥è¿­ä»£ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params"></span>) </span>&#123; &#125;;</span><br><span class="line"><span class="keyword">let</span> bar = foo();</span><br><span class="line">bar.next(); <span class="comment">// Object &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure><p>next æ–¹æ³•è¿”å›ä¸€ä¸ªæ‹¥æœ‰ value å’Œ done ä¸¤ä¸ªå­—æ®µçš„å¯¹è±¡ã€‚</p><p>ç”Ÿæˆå™¨å‡½æ•°é€šå¸¸å’Œ yield å…³é”®å­—åŒæ—¶ä½¿ç”¨ã€‚å‡½æ•°æ‰§è¡Œåˆ°æ¯ä¸ª yield æ—¶éƒ½ä¼šä¸­æ–­å¹¶è¿”å› yield çš„å€¼ï¼ˆé€šè¿‡ next æ–¹æ³•è¿”å›å¯¹è±¡ä¸­çš„ value å­—æ®µï¼‰ã€‚ä¸‹æ¬¡è°ƒç”¨ nextï¼Œå‡½æ•°ä¼šä» yield çš„ä¸‹ä¸€ä¸ªè¯­å¥ç»§ç»­æ‰§è¡Œã€‚ç­‰åˆ°æ•´ä¸ªå‡½æ•°æ‰§è¡Œå®Œï¼Œnext æ–¹æ³•è¿”å›çš„ done å­—æ®µä¼šå˜æˆ trueã€‚</p><p>æ‰€ä»¥é€šè¿‡<code>fib.next().value</code>å°±ä¼šå¾ªç¯å¾—åˆ°å‰ 20 ä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚</p><p>å¦‚æœä¸€ç›´è°ƒç”¨ next()æ–¹æ³•ä¹Ÿå¤ªè´¹åŠ²äº†ï¼Œè¿™å°±è¦è¯´æ˜ç”Ÿæˆå™¨å‡½æ•°ä¹Ÿæ˜¯å¯éå†çš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä¸€ä¸ªå®šä¹‰äº†è¿­ä»£è¡Œä¸ºçš„å¯¹è±¡ï¼Œæ¯”å¦‚åœ¨ forâ€¦of ä¸­å¾ªç¯äº†å“ªäº›å€¼ã€‚ä¸€äº›å†…ç½®ç±»å‹ï¼Œå¦‚ Array æˆ– Map å…·æœ‰é»˜è®¤çš„è¿­ä»£è¡Œä¸ºï¼Œè€Œå…¶ä»–ç±»å‹ï¼ˆå¦‚ Objectï¼‰æ²¡æœ‰ã€‚æ‰€ä»¥åªè¦ä½¿ç”¨ for å¾ªç¯å°±å¯ä»¥äº†ï¼Œéå†å¾—åˆ°çš„å€¼å°±æ˜¯<code>yield</code>è¿”å›çš„å€¼ï¼Œç”¨ç”Ÿæˆå™¨å‡½æ•°æ¥äº§ç”Ÿæ–æ³¢é‚£å¥‘æ•°åˆ—æ—¢é«˜æ•ˆåˆç›´è§‚ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œç”Ÿæˆå™¨è¿˜æœ‰ä¸€ä¸ª return æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> g = gen();</span><br><span class="line"><span class="built_in">console</span>.log(g.next()); <span class="comment">// &#123; value: 1, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(g.return(<span class="string">'foo'</span>)); <span class="comment">// &#123; value: "foo", done: true &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(g.next()); <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥å¾—çŸ¥ return æ–¹æ³•ä¼šè¿”å›æŒ‡å®šçš„å€¼å¹¶ç»“æŸç”Ÿæˆå™¨ã€‚è€Œå½“ç”Ÿæˆå™¨å‡½æ•°å·²ç»ç»“æŸçš„æ—¶å€™ï¼Œå†å»è°ƒç”¨ return æ–¹æ³•ï¼Œåˆ™ä¹Ÿä¼šè¿”å›ç»™å®šå€¼ï¼Œå¹¶ä¸”ç»“æŸç”Ÿæˆå™¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;<span class="keyword">yield</span> <span class="number">1</span>;&#125;</span><br><span class="line"><span class="keyword">var</span> g = gen();</span><br><span class="line"><span class="built_in">console</span>.log(g.next()); <span class="comment">// &#123; value: 1, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(g.next()); <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(g.return(<span class="number">1</span>)); <span class="comment">// &#123; value: 1, done: true &#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æŸä¸€å¤©ï¼Œæ—è¾¹çš„åŒäº‹é—®æˆ‘ï¼ŒçŸ¥é“æ–æ³¢ä»€ä¹ˆæ•°å—ã€‚æˆ‘è¯´ï¼Œä¸çŸ¥é“ã€‚åŒäº‹åˆè¯´ï¼Œè¿™ä¸æ˜¯é¢è¯•å¿…é—®çš„å—ã€‚æˆ‘å°´å°¬åˆä¸å¤±ä¼˜é›…çš„ä¸€ç¬‘ğŸ¤“ğŸ¤“ğŸ¤“ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä»€ä¹ˆæ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—&quot;&gt;&lt;/a&gt; 
      
    
    </summary>
    
    
      <category term="ES6" scheme="https://qingshaoxi.github.io/blog/tags/ES6/"/>
    
      <category term="Fibonacci" scheme="https://qingshaoxi.github.io/blog/tags/Fibonacci/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨eggjsä¸­ä½¿ç”¨sharpå®Œæˆå›¾ç‰‡æ“ä½œ</title>
    <link href="https://qingshaoxi.github.io/blog/post/egg-image-resize.html"/>
    <id>https://qingshaoxi.github.io/blog/post/egg-image-resize.html</id>
    <published>2018-12-23T08:01:57.000Z</published>
    <updated>2019-02-27T07:32:29.925Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>eggæ˜¯é˜¿é‡Œå¼€å‘çš„ä¸€ä¸ªåŸºäºkoaï¼Œéµå¾ªã€Œçº¦å®šå¤§äºé…ç½®ã€çš„åŸåˆ™ï¼Œæ”¯æŒå¤šè¿›ç¨‹çš„ä¸€ä¸ªæœåŠ¡ç«¯æ¡†æ¶ï¼Œæœ‰è®¸å¤šæ’ä»¶ï¼Œç›®å‰å®˜æ–¹æ˜¯JavaScriptå†™çš„ï¼Œä½†æ˜¯é€šè¿‡æ’ä»¶æ˜¯å¯ä»¥æ”¯æŒtypescriptï¼Œç›®å‰æˆ‘ä»¬å…¬å¸å°±æœ‰å†…éƒ¨é¡¹ç›®æ˜¯åœ¨ä½¿ç”¨ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨eggjsä¸­å¯¹å›¾ç‰‡çš„å¤„ç†ã€‚<br>eggæ”¯æŒä¸¤ç§æ–¹å¼ä¸Šä¼ æ–‡ä»¶ï¼Œstreamå’Œfileï¼Œstreamå°±æ˜¯nodejsä¸­çš„æµå¼ä¸Šä¼ ï¼Œè€Œfileæ¨¡å¼æ˜¯ä¼šæŠŠå›¾ç‰‡å…ˆä¿å­˜åœ¨æœåŠ¡ç«¯ï¼Œç„¶åç”¨è·¯å¾„å–è®¿é—®ã€‚å…·ä½“å†…å®¹è§ <a href="https://eggjs.org/en/plugins/multipart.html" target="_blank" rel="noopener">egg-multipart</a>ï¼Œæœ¬æ–‡ä¸»è¦ä½¿ç”¨<a href="https://github.com/lovell/sharp" target="_blank" rel="noopener">sharp</a>å®Œæˆå›¾ç‰‡è£å‰ªæ“ä½œï¼Œå½“ç„¶sharpä¸æ­¢äºè£å‰ªã€‚</p></blockquote><h3 id="file-æ¨¡å¼"><a class="markdownIt-Anchor" href="#file-æ¨¡å¼"></a> file æ¨¡å¼</h3><p>fileæ¨¡å¼ä¸­ä¸Šä¼ ä¸€èˆ¬ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œfileæ¨¡å¼æ”¯æŒå®šæ—¶æ¸…ç†æœåŠ¡å™¨ä¸Šçš„ç¼“å­˜æ–‡ä»¶ï¼Œé€šè¿‡è®¿é—®<code>this.ctx.request.files</code>å°±å¯è®¿é—®åˆ°æ‰€æœ‰ä¸Šä¼ çš„æ–‡ä»¶ã€‚ç„¶åé€šè¿‡sharpæ“ä½œå›¾ç‰‡ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Controller = <span class="built_in">require</span>(<span class="string">'egg'</span>).Controller;</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'mz/fs'</span>);</span><br><span class="line"><span class="keyword">const</span> sharp = <span class="built_in">require</span>(<span class="string">'sharp'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="keyword">class</span> <span class="keyword">extends</span> Controller &#123;</span><br><span class="line">  <span class="keyword">async</span> upload() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; ctx &#125; = <span class="keyword">this</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(ctx.request.body);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'got %d files'</span>, ctx.request.files.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> file of ctx.request.files) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'field: '</span> + file.fieldname);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'filename: '</span> + file.filename);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'encoding: '</span> + file.encoding);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'mime: '</span> + file.mime);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'tmp filepath: '</span> + file.filepath);</span><br><span class="line">      <span class="keyword">let</span> result;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// process file or upload to cloud storage</span></span><br><span class="line">        <span class="keyword">const</span> resizeImage = <span class="keyword">await</span> sharp(file.filepath)</span><br><span class="line">          .rotate()</span><br><span class="line">          .resize(<span class="number">160</span>, <span class="number">160</span>)</span><br><span class="line">          .toBuffer();</span><br><span class="line">        result = <span class="keyword">await</span> ctx.oss.put(<span class="string">'egg-multipart-test/'</span> + file.filename, file.filepath);</span><br><span class="line">      &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">// need to remove the tmp files</span></span><br><span class="line">        <span class="keyword">await</span> ctx.cleanupRequestFiles();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">console</span>.log(result);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="streamæ¨¡å¼"><a class="markdownIt-Anchor" href="#streamæ¨¡å¼"></a> streamæ¨¡å¼</h3><p>streamæ¨¡å¼ä¸éœ€è¦ç¼“å­˜å›¾ç‰‡ï¼Œä½†æ˜¯å…³é”®æ˜¯éœ€è¦å¤åˆ¶å›¾ç‰‡æµï¼Œå¹¸è¿çš„æ˜¯sharpæ”¯æŒå¤åˆ¶å›¾ç‰‡æµï¼Œä»¥è¾“å‡ºä¸åŒè§„æ ¼çš„å›¾ç‰‡ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Controller = <span class="built_in">require</span>(<span class="string">'egg'</span>).Controller;</span><br><span class="line"><span class="keyword">const</span> sharp = <span class="built_in">require</span>(<span class="string">'sharp'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="keyword">class</span> <span class="keyword">extends</span> Controller &#123;</span><br><span class="line">  <span class="keyword">async</span> upload() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; ctx &#125; = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">const</span> parts = ctx.multipart();</span><br><span class="line">    <span class="keyword">let</span> part;</span><br><span class="line">    <span class="keyword">while</span> ((part = <span class="keyword">await</span> parts()) != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (part.length) &#123;</span><br><span class="line">        <span class="comment">// arrays are busboy fields</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'field: '</span> + part[<span class="number">0</span>]);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'value: '</span> + part[<span class="number">1</span>]);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'valueTruncated: '</span> + part[<span class="number">2</span>]);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'fieldnameTruncated: '</span> + part[<span class="number">3</span>]);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!part.filename) &#123;</span><br><span class="line">          <span class="comment">// user click `upload` before choose a file,</span></span><br><span class="line">          <span class="comment">// `part` will be file stream, but `part.filename` is empty</span></span><br><span class="line">          <span class="comment">// must handler this, such as log error.</span></span><br><span class="line">          <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// otherwise, it's a stream</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'field: '</span> + part.fieldname);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'filename: '</span> + part.filename);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'encoding: '</span> + part.encoding);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'mime: '</span> + part.mime);</span><br><span class="line">        <span class="keyword">const</span> stream = sharp();</span><br><span class="line">        file.pipe(stream);</span><br><span class="line">        <span class="keyword">const</span> rotateImg = stream.clone().rotate();</span><br><span class="line">        <span class="keyword">const</span> resizeImg = stream.clone().resize(<span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">        <span class="comment">// sharpè¿”å›çš„æ˜¯sharpç±»å‹çš„`readable stream`ï¼Œå¯ä»¥ç›´æ¥ä¼ åˆ°s3</span></span><br><span class="line">        <span class="built_in">console</span>.log(result);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'and we are done parsing the form!'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;eggæ˜¯é˜¿é‡Œå¼€å‘çš„ä¸€ä¸ªåŸºäºkoaï¼Œéµå¾ªã€Œçº¦å®šå¤§äºé…ç½®ã€çš„åŸåˆ™ï¼Œæ”¯æŒå¤šè¿›ç¨‹çš„ä¸€ä¸ªæœåŠ¡ç«¯æ¡†æ¶ï¼Œæœ‰è®¸å¤šæ’ä»¶ï¼Œç›®å‰å®˜æ–¹æ˜¯JavaScriptå†™çš„ï¼Œä½†æ˜¯é€šè¿‡æ’ä»¶æ˜¯å¯ä»¥æ”¯æŒtypescriptï¼Œç›®å‰æˆ‘ä»¬å…¬å¸å°±æœ‰å†…éƒ¨é¡¹ç›®æ˜¯åœ¨ä½¿ç”¨ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨eggjsä¸­å¯¹å›¾ç‰‡
      
    
    </summary>
    
    
      <category term="eggjs" scheme="https://qingshaoxi.github.io/blog/tags/eggjs/"/>
    
      <category term="sharp" scheme="https://qingshaoxi.github.io/blog/tags/sharp/"/>
    
  </entry>
  
  <entry>
    <title>cssæ–‡æœ¬èƒŒæ™¯åŠ¨ç”»</title>
    <link href="https://qingshaoxi.github.io/blog/post/css-text-background-animation.html"/>
    <id>https://qingshaoxi.github.io/blog/post/css-text-background-animation.html</id>
    <published>2018-12-16T12:21:36.000Z</published>
    <updated>2019-02-27T07:32:29.924Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»cssä¸­çš„æ–‡æœ¬èƒŒæ™¯åŠ¨ç”»ã€‚</p><a id="more"></a><h3 id="åˆ›å»ºhtml"><a class="markdownIt-Anchor" href="#åˆ›å»ºhtml"></a> åˆ›å»ºhtml</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// index.html</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>text background animation<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"animated"</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="cssæ–‡ä»¶"><a class="markdownIt-Anchor" href="#cssæ–‡ä»¶"></a> cssæ–‡ä»¶</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Arial, Helvetica, sans-serif;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'https://user-images.githubusercontent.com/22700758/50053518-4f026500-0171-11e9-859f-7cb5217ac40f.png'</span>) no-repeat center center/cover;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.animated</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'Charm'</span>, cursive;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">6rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'https://user-images.githubusercontent.com/22700758/50053499-3c882b80-0171-11e9-830a-48d727bc0805.png'</span>) no-repeat;</span><br><span class="line">  <span class="attribute">background-clip</span>: text;</span><br><span class="line">  <span class="attribute">-webkit-background-clip</span>: text;</span><br><span class="line">  <span class="attribute">color</span>: transparent;</span><br><span class="line">  <span class="attribute">animation</span>: moveBg <span class="number">90s</span> linear infinite;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: moveBg <span class="number">90s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">keyframes</span> moveBg &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">30%</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä»‹ç»cssä¸­çš„æ–‡æœ¬èƒŒæ™¯åŠ¨ç”»ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="css" scheme="https://qingshaoxi.github.io/blog/tags/css/"/>
    
      <category term="animation" scheme="https://qingshaoxi.github.io/blog/tags/animation/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨typescriptå’Œhtmlå¼€å‘vue</title>
    <link href="https://qingshaoxi.github.io/blog/post/vue-typescript-html.html"/>
    <id>https://qingshaoxi.github.io/blog/post/vue-typescript-html.html</id>
    <published>2018-12-02T15:49:37.000Z</published>
    <updated>2019-02-27T07:32:29.961Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç¯‡å°†ä»‹ç»å¦‚ä½•ç”¨typescriptå’Œhtmlå¼€å‘vueï¼Œå› ä¸ºåšä¸»åœ¨ä¸»è¦å¼€å‘angularï¼Œå¯¹äºjsæ–‡ä»¶å’Œæ¨¡æ¿å†™åœ¨ä¸€èµ·æ„Ÿè§‰å¾ˆè‡ƒè‚¿ï¼Œè€Œä¸”æ–¹æ³•éƒ½éœ€è¦é€—å·åˆ†éš”ï¼Œå˜é‡å£°æ˜ä¹Ÿä¸å‹å¥½ã€‚<br>æ‰€æœ‰ç¿»å±±è¶Šå²­ï¼Œå‘ç°vueå®˜æ–¹å·²ç»å¼€å‘äº†å¯¹typescriptçš„æ”¯æŒ <a href="https://github.com/vuejs/vue-class-component" target="_blank" rel="noopener">vue-class-component</a><br>è¿˜æœ‰å¯¹<code>@Prop</code>ã€<code>@Emit</code>ã€<code>@Inject</code>ã€<code>@Model</code>ã€<code>@Watch</code>ç­‰æ”¯æŒçš„ <a href="https://github.com/kaorun343/vue-property-decorator" target="_blank" rel="noopener">vue-property-decorator</a><br>ä½†æ˜¯<code>@Component</code>ä¸æ”¯æŒ<code>templateUrl</code>ï¼Œæ‰€ä»¥ç”¨åˆ°äº† <a href="https://github.com/ktsn/vue-template-loader" target="_blank" rel="noopener">vue-template-loader</a>ã€‚</p><h3 id="å®‰è£…ä¾èµ–"><a class="markdownIt-Anchor" href="#å®‰è£…ä¾èµ–"></a> å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i --save vue vue-class-component vue-property-decorator</span><br><span class="line">npm i --save-dev css-loader ts-loader typescript vue-loader vue-template-compiler vue-template-loader webpack webpack-cli</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºtsconfigjson"><a class="markdownIt-Anchor" href="#åˆ›å»ºtsconfigjson"></a> åˆ›å»ºtsconfig.json</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// tsconfig.json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">      <span class="attr">"outDir"</span>: <span class="string">"./built/"</span>,</span><br><span class="line">      <span class="attr">"sourceMap"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"strict"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"noImplicitReturns"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"module"</span>: <span class="string">"es2015"</span>,</span><br><span class="line">      <span class="attr">"moduleResolution"</span>: <span class="string">"node"</span>,</span><br><span class="line">      <span class="attr">"target"</span>: <span class="string">"es5"</span>,</span><br><span class="line">      <span class="attr">"experimentalDecorators"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"allowSyntheticDefaultImports"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"include"</span>: [</span><br><span class="line">      <span class="string">"./src/**/*"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¸¸è§webpacké…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#å¸¸è§webpacké…ç½®æ–‡ä»¶"></a> å¸¸è§webpacké…ç½®æ–‡ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.conf.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> VueLoaderPlugin = <span class="built_in">require</span>(<span class="string">'vue-loader/lib/plugin'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/index.ts'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'./dist'</span>),</span><br><span class="line">    publicPath: <span class="string">'/dist/'</span>,</span><br><span class="line">    filename: <span class="string">'build.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        loader: <span class="string">'vue-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          loaders: &#123;</span><br><span class="line">            <span class="string">'scss'</span>: <span class="string">'vue-style-loader!css-loader!sass-loader'</span>,</span><br><span class="line">            <span class="string">'sass'</span>: <span class="string">'vue-style-loader!css-loader!sass-loader?indentedSyntax'</span>,</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.ts$/</span>,</span><br><span class="line">        loader: <span class="string">'ts-loader'</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          appendTsSuffixTo: [<span class="regexp">/\.vue$/</span>],</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.html$/</span>,</span><br><span class="line">        loader: <span class="string">'vue-template-loader'</span>,</span><br><span class="line">        exclude: <span class="regexp">/index.html/</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          transformToRequire: &#123;</span><br><span class="line">            img: <span class="string">'src'</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">'.ts'</span>, <span class="string">'.js'</span>, <span class="string">'.vue'</span>, <span class="string">'.json'</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mode: <span class="string">'development'</span>,</span><br><span class="line">  devtool: <span class="string">'#source-map'</span>,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> VueLoaderPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ å£°æ˜æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ·»åŠ å£°æ˜æ–‡ä»¶"></a> æ·»åŠ å£°æ˜æ–‡ä»¶</h3><p>ç”±äºvueæ²¡æœ‰é»˜è®¤export Vueï¼Œæ‰€ä»¥éœ€è¦åœ¨é¡¹ç›®ä¸‹è‡ªå·±å£°æ˜ï¼Œé¿å…tsç¼–è¯‘å‡ºé”™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.d.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> "*.vue" &#123;</span><br><span class="line">  <span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">"vue"</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> Vue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> '*.html' &#123;</span><br><span class="line">  <span class="keyword">import</span> Vue, &#123; ComponentOptions &#125; <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">interface</span> WithRender &#123;</span><br><span class="line">    &lt;V <span class="keyword">extends</span> Vue&gt;(options: ComponentOptions&lt;V&gt;): ComponentOptions&lt;V&gt;</span><br><span class="line">    &lt;V <span class="keyword">extends</span> <span class="keyword">typeof</span> Vue&gt;(component: V): V</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> withRender: WithRender;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> withRender;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/whyour/vue-typescript-demo" target="_blank" rel="noopener">å®Œæ•´demo</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬ç¯‡å°†ä»‹ç»å¦‚ä½•ç”¨typescriptå’Œhtmlå¼€å‘vueï¼Œå› ä¸ºåšä¸»åœ¨ä¸»è¦å¼€å‘angularï¼Œå¯¹äºjsæ–‡ä»¶å’Œæ¨¡æ¿å†™åœ¨ä¸€èµ·æ„Ÿè§‰å¾ˆè‡ƒè‚¿ï¼Œè€Œä¸”æ–¹æ³•éƒ½éœ€è¦é€—å·åˆ†éš”ï¼Œå˜é‡å£°æ˜ä¹Ÿä¸å‹å¥½ã€‚&lt;br&gt;
æ‰€æœ‰ç¿»å±±è¶Šå²­ï¼Œå‘ç°vueå®˜æ–¹å·²ç»å¼€å‘äº†å¯¹typescriptçš„æ”¯æŒ &lt;a href=&quot;htt
      
    
    </summary>
    
    
      <category term="typescript" scheme="https://qingshaoxi.github.io/blog/tags/typescript/"/>
    
      <category term="vue" scheme="https://qingshaoxi.github.io/blog/tags/vue/"/>
    
      <category term="html" scheme="https://qingshaoxi.github.io/blog/tags/html/"/>
    
  </entry>
  
  <entry>
    <title>typescriptä¸­typeå’Œinterfaceçš„åŒºåˆ«</title>
    <link href="https://qingshaoxi.github.io/blog/post/typescript-types-vs-interfaces.html"/>
    <id>https://qingshaoxi.github.io/blog/post/typescript-types-vs-interfaces.html</id>
    <published>2018-11-25T14:40:03.000Z</published>
    <updated>2019-02-27T07:32:29.959Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨typescriptä¸­æœ‰ä¸¤ç§ç±»å‹ç”Ÿå‘½æ–¹å¼ï¼Œ<code>interface</code>å’Œ<code>type</code>ï¼Œæœ¬æ–‡å°†ä»‹ç»å°†ä»‹ç»<code>interface</code>å’Œ<code>type</code>åœ¨å£°æ˜æ—¶çš„ä¸åŒã€‚<br>interfaceå¯ä»¥é‡å¤å£°æ˜ï¼Œtypescriptä¼šå°†ä»–ä»¬åˆå¹¶ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Box &#123;</span><br><span class="line">    height: <span class="built_in">number</span>;</span><br><span class="line">    width: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Box &#123;</span><br><span class="line">    scale: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œtypeä¸å¯é‡å¤å£°æ˜ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Box &#123;</span><br><span class="line">    height: <span class="built_in">number</span>;</span><br><span class="line">    width: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Box &#123;</span><br><span class="line">    scale: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ts] Duplicate identifier 'Box'.</span></span><br></pre></td></tr></table></figure><p><code>interface</code>èƒ½ç”¨äºextendsæˆ–è€…<code>implements</code>ï¼Œè€Œ<code>type</code>ä¸å¯ä»¥ã€‚<br>An interface may only extend a class or another interface.<br>A class may only implement another class or interface.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨typescriptä¸­æœ‰ä¸¤ç§ç±»å‹ç”Ÿå‘½æ–¹å¼ï¼Œ&lt;code&gt;interface&lt;/code&gt;å’Œ&lt;code&gt;type&lt;/code&gt;ï¼Œæœ¬æ–‡å°†ä»‹ç»å°†ä»‹ç»&lt;code&gt;interface&lt;/code&gt;å’Œ&lt;code&gt;type&lt;/code&gt;åœ¨å£°æ˜æ—¶çš„ä¸åŒã€‚&lt;br&gt;
interfaceå¯ä»¥é‡å¤
      
    
    </summary>
    
    
      <category term="typescript" scheme="https://qingshaoxi.github.io/blog/tags/typescript/"/>
    
      <category term="interface" scheme="https://qingshaoxi.github.io/blog/tags/interface/"/>
    
      <category term="type" scheme="https://qingshaoxi.github.io/blog/tags/type/"/>
    
  </entry>
  
  <entry>
    <title>hexoåšæ–‡æ‘˜è¦ç”Ÿæˆæ–¹æ¡ˆ</title>
    <link href="https://qingshaoxi.github.io/blog/post/hexo-yilia-auto-excerpt.html"/>
    <id>https://qingshaoxi.github.io/blog/post/hexo-yilia-auto-excerpt.html</id>
    <published>2018-11-18T13:21:55.000Z</published>
    <updated>2019-02-27T07:32:29.931Z</updated>
    
    <content type="html"><![CDATA[<h3 id="npmæ¨¡å—æŒ‰é•¿åº¦æˆªå–"><a class="markdownIt-Anchor" href="#npmæ¨¡å—æŒ‰é•¿åº¦æˆªå–"></a> npmæ¨¡å—ï¼ˆæŒ‰é•¿åº¦æˆªå–ï¼‰</h3><p>npmæ¨¡å—åŸºæœ¬éƒ½æ˜¯æŒ‰ç…§å­—æ•°æˆªå–ï¼Œä½ å¯ä»¥è®¾ç½®è¦å›ºå®šé•¿åº¦çš„æ–‡ç« è®¾ä¸ºæ‘˜è¦ï¼Œä½†æ˜¯å¯¹äºä»£ç ç‰‡æ®µæ¥è¯´å¾ˆä¸æ–¹ä¾¿ã€‚<br><a href="https://www.npmjs.com/package/hexo-auto-excerpt" target="_blank" rel="noopener">hexo-auto-excerpt</a><br><a href="https://www.npmjs.com/package/hexo-excerpt" target="_blank" rel="noopener">hexo-excerpt</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-auto-excerpt</span><br></pre></td></tr></table></figure><p>åšå®¢æ ¹ç›®å½•å®‰è£…ï¼Œç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­é…ç½®<code>excerpt_length</code>å³å¯ã€‚</p><h3 id="è‡ªå®šä¹‰æŒ‰è¡Œæ•°æˆªå–"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰æŒ‰è¡Œæ•°æˆªå–"></a> è‡ªå®šä¹‰æŒ‰è¡Œæ•°æˆªå–</h3><p>ç¬¬äºŒç§æˆ‘ä»¬å¯ä»¥æŒ‰ç…§æ–‡ç« çš„è¡Œæ•°æˆªå–ï¼Œè¿™å°±è¦æ±‚ä½ åœ¨å‰é¢å‡ è¡Œå†™å‡ºæ–‡ç« çš„æ¦‚è¦ã€‚å…·ä½“å®ç°éœ€è¦æ›´æ”¹ä¸‹<code>ejs</code>æ¨¡æ¿ï¼Œæœ¬ä¸»é¢˜éœ€è¦ä¿®æ”¹<code>layout/_partial/article.ejs</code>ï¼Œåœ¨<code>div.article-entry</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç :</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">index</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">post.excerpt</span>) &#123; %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%-</span> <span class="attr">post.excerpt</span> %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> <span class="attr">if</span> (<span class="attr">theme.auto_excerpt.enable</span>) &#123; %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> <span class="attr">var</span> <span class="attr">br_position</span> = <span class="string">0</span> %&gt;</span></span><br><span class="line">        &lt;% for (var br_count = 0; br_count &lt; theme.auto_excerpt.lines; br_count++) &#123; %&gt;</span><br><span class="line">            <span class="tag">&lt;<span class="name">%</span> <span class="attr">br_position</span> = <span class="string">post.content.indexOf(</span>'\<span class="attr">n</span>',<span class="attr">br_position</span> + <span class="attr">1</span>) %&gt;</span></span><br><span class="line">            &lt;% if(br_position &lt; 0) &#123; break &#125; %&gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">br_position</span> &gt;</span> 0) &#123; %&gt;</span><br><span class="line">            <span class="tag">&lt;<span class="name">%</span> <span class="attr">show_all_content</span> = <span class="string">false</span> %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">%-</span> <span class="attr">post.content.substring</span>(<span class="attr">0</span>, <span class="attr">br_position</span> + <span class="attr">1</span>) %&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">toc</span>', &#123; <span class="attr">post:</span> <span class="attr">post</span>&#125;) %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">post.content</span> %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸»é¢˜ä¸­çš„é…ç½®æ–‡ä»¶å¢åŠ å¦‚ä¸‹è¡Œï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    lines:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·æ¯ç¯‡åšæ–‡çš„å‰ä¸‰è¡Œå°±ä¼šè¢«æˆªå–ä¸ºåšæ–‡çš„æ‘˜è¦ã€‚</p><h3 id="ä½¿ç”¨hexo-read-moreæ ‡è¯†"><a class="markdownIt-Anchor" href="#ä½¿ç”¨hexo-read-moreæ ‡è¯†"></a> ä½¿ç”¨hexo read moreæ ‡è¯†</h3><p>åœ¨åšæ–‡ä¸­ä½ æƒ³è¦æˆªå–çš„åœ°æ–¹æ·»åŠ <code>&lt;!-- more --&gt;</code>å³å¯ã€‚è¿™æ ·åœ¨æœ¬æ ‡è¯†ä¹‹å‰çš„å°±ä¸ºåšæ–‡æ‘˜è¦ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;npmæ¨¡å—æŒ‰é•¿åº¦æˆªå–&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#npmæ¨¡å—æŒ‰é•¿åº¦æˆªå–&quot;&gt;&lt;/a&gt; npmæ¨¡å—ï¼ˆæŒ‰é•¿åº¦æˆªå–ï¼‰&lt;/h3&gt;
&lt;p&gt;npmæ¨¡å—åŸºæœ¬éƒ½æ˜¯æŒ‰ç…§å­—æ•°æˆªå–ï¼Œä½ å¯ä»¥è®¾ç½®è¦å›ºå®šé•¿åº¦çš„æ–‡ç« è®¾ä¸ºæ‘˜è¦ï¼Œä½†æ˜¯å¯¹äºä»£ç ç‰‡æ®µæ¥è¯´å¾ˆä¸
      
    
    </summary>
    
    
      <category term="hexo" scheme="https://qingshaoxi.github.io/blog/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Angular6ç»„ä»¶ä¹‹é—´æ•°æ®é€šä¿¡</title>
    <link href="https://qingshaoxi.github.io/blog/post/sharing-data-between-angular-component.html"/>
    <id>https://qingshaoxi.github.io/blog/post/sharing-data-between-angular-component.html</id>
    <published>2018-11-18T08:27:11.000Z</published>
    <updated>2019-02-27T07:32:29.951Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æœ¬ç¯‡ä¸­ï¼Œå°†ä»‹ç»åŸºæœ¬çš„çˆ¶å­ç»„ä»¶ã€å…„å¼Ÿç»„ä»¶ã€ä»»æ„ç»„ä»¶ä¹‹é—´çš„æ•°æ®é€šä¿¡æ–¹å¼ã€‚</p><h3 id="parent-to-child-via-input-decorator"><a class="markdownIt-Anchor" href="#parent-to-child-via-input-decorator"></a> Parent to Child via Input Decorator</h3><p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨<code>Input Decorator</code>ï¼Œè¿™æ ·åœ¨çˆ¶ç»„ä»¶ä¸­å°±å¯ä»¥é€šè¿‡æ¨¡æ¿ä¼ é€’ç»™å­ç»„ä»¶ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent.component.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-parent'</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;app-child [childMessage]="parentMessage"&gt;&lt;/app-child&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./parent.component.css'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ParentComponent &#123;</span><br><span class="line">  <span class="keyword">public</span> parentMessage = <span class="string">"message from parent"</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// child.component.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Input &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-child'</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">      Say &#123;&#123; message &#125;&#125;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./child.component.css'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ChildComponent &#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Input</span>() childMessage: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="child-to-parent-via-viewchild"><a class="markdownIt-Anchor" href="#child-to-parent-via-viewchild"></a> Child to Parent via ViewChild</h3><p>ViewChildå…è®¸å°†ä¸€ä¸ªç»„ä»¶æ³¨å…¥å¦ä¸€ä¸ªç»„ä»¶ï¼Œä½¿çˆ¶ç»„ä»¶å¯ä»¥è®¿é—®å…¶å±æ€§å’ŒåŠŸèƒ½ã€‚ä½†æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è§†å›¾åˆå§‹åŒ–ä¹‹åï¼Œå­ç»„ä»¶æ‰å¯ç”¨ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦å®ç°AfterViewInitç”Ÿå‘½å‘¨æœŸé’©å­æ¥æ¥æ”¶æ¥è‡ªå­ç»„ä»¶çš„æ•°æ®ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent.component.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Component, ViewChild, AfterViewInit &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ChildComponent &#125; <span class="keyword">from</span> <span class="string">"../child/child.component"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-parent'</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    Message: &#123;&#123; message &#125;&#125;</span></span><br><span class="line"><span class="string">    &lt;app-child&gt;&lt;/app-child&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./parent.component.css'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ParentComponent <span class="keyword">implements</span> AfterViewInit &#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@ViewChild</span>(ChildComponent) child;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> message: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  ngAfterViewInit(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.message = <span class="keyword">this</span>.child.message;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// child.component.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Component&#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-child'</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./child.component.css'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ChildComponent &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> message = <span class="string">'Hello World!'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="child-to-parent-via-output-and-eventemitter"><a class="markdownIt-Anchor" href="#child-to-parent-via-output-and-eventemitter"></a> Child to Parent via Output and EventEmitter</h3><p>å­ç»„ä»¶è¿˜å¯ä»¥é€šè¿‡<code>emit</code>çš„æ–¹å¼å°†æ•°æ®å¹¿æ’­å‡ºå»ï¼Œè¿™æ ·å¯ä»¥åœ¨å­ç»„ä»¶éœ€è¦é€šè¿‡äº‹ä»¶è§¦å‘æ¥ä¼ é€’æ•°æ®åˆ°çˆ¶ç»„ä»¶ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent.component.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-parent'</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    Message: &#123;&#123;message&#125;&#125;</span></span><br><span class="line"><span class="string">    &lt;app-child (messageEvent)="receiveMessage($event)"&gt;&lt;/app-child&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./parent.component.css'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ParentComponent &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> message: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  receiveMessage($event): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.message = $event;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// child.component.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Output, EventEmitter &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-child'</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;button (click)="sendMessage()"&gt;Send Message&lt;/button&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./child.component.css'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ChildComponent &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> message: <span class="built_in">string</span> = <span class="string">"Hello World!"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Output</span>() messageEvent = <span class="keyword">new</span> EventEmitter&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  sendMessage(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.messageEvent.emit(<span class="keyword">this</span>.message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="share-data-between-any-components"><a class="markdownIt-Anchor" href="#share-data-between-any-components"></a> Share data between any components</h3><p>å½“ç»„ä»¶é—´æ²¡æœ‰ç›´æ¥çš„å…³ç³»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå…±äº«æœåŠ¡ï¼Œç„¶åé€šè¿‡<code>Rxjs</code>ä¸­çš„<code>BehaviorSubject</code>æ¥å­˜å‚¨æ•°æ®ï¼Œè¿™æ ·æ¯ä¸ªç»„ä»¶é€šè¿‡è®¢é˜…è¿™ä¸ªæ•°æ®ï¼Œå½“è¿™ä¸ªæ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œéƒ½å¯ä»¥è·å¾—æœ€æ–°çš„æ•°æ®ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// data.service.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Injectable &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BehaviorSubject &#125; <span class="keyword">from</span> <span class="string">'rxjs'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> DataService &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> currentMessage = <span class="keyword">new</span> BehaviorSubject&lt;<span class="built_in">string</span>&gt;(<span class="string">'default message'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  changeMessage(message: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.messageSource.next(message);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent.component.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Component, OnInit &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; DataService &#125; <span class="keyword">from</span> <span class="string">"../data.service"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-parent'</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &#123;&#123;message&#125;&#125;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./sibling.component.css'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ParentComponent <span class="keyword">implements</span> OnInit &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> message: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> data: DataService</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  ngOnInit(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.data.currentMessage.subscribe(<span class="function"><span class="params">message</span> =&gt;</span> <span class="keyword">this</span>.message = message);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// siblings.component.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Component, OnInit &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; DataService &#125; <span class="keyword">from</span> <span class="string">"../data.service"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-sibling'</span>,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &#123;&#123;message&#125;&#125;</span></span><br><span class="line"><span class="string">    &lt;button (click)="newMessage()"&gt;New Message&lt;/button&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  styleUrls: [<span class="string">'./sibling.component.css'</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> SiblingComponent <span class="keyword">implements</span> OnInit &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> message: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> data: DataService</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  ngOnInit(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.data.currentMessage.subscribe(<span class="function"><span class="params">message</span> =&gt;</span> <span class="keyword">this</span>.message = message);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  newMessage(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.data.changeMessage(<span class="string">"Hello from Sibling"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="other-library-for-angular-state-management"><a class="markdownIt-Anchor" href="#other-library-for-angular-state-management"></a> Other Library For Angular State Management</h3><p><a href="https://github.com/ngrx/platform" target="_blank" rel="noopener">ngrx</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨æœ¬ç¯‡ä¸­ï¼Œå°†ä»‹ç»åŸºæœ¬çš„çˆ¶å­ç»„ä»¶ã€å…„å¼Ÿç»„ä»¶ã€ä»»æ„ç»„ä»¶ä¹‹é—´çš„æ•°æ®é€šä¿¡æ–¹å¼ã€‚&lt;/p&gt;
&lt;h3 id=&quot;parent-to-child-via-input-decorator&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#parent-to-child-
      
    
    </summary>
    
    
      <category term="angular" scheme="https://qingshaoxi.github.io/blog/tags/angular/"/>
    
      <category term="angular6" scheme="https://qingshaoxi.github.io/blog/tags/angular6/"/>
    
      <category term="component" scheme="https://qingshaoxi.github.io/blog/tags/component/"/>
    
  </entry>
  
  <entry>
    <title>javascript ä¸­çš„ es6 æŠ€å·§</title>
    <link href="https://qingshaoxi.github.io/blog/post/javascript-pro-tips.html"/>
    <id>https://qingshaoxi.github.io/blog/post/javascript-pro-tips.html</id>
    <published>2018-11-11T12:41:31.000Z</published>
    <updated>2019-02-27T07:32:29.937Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚ä½•ä¼˜é›…åœ°å†™ä»£ç ï¼Œå¢åŠ ä»£ç çš„å¯é˜…è¯»æ€§ã€‚JavaScript Pro Tipsï¼</p><h3 id="how-to-use-consolelog"><a class="markdownIt-Anchor" href="#how-to-use-consolelog"></a> how to use console.log</h3><a id="more"></a><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> foo = &#123; name: <span class="string">'tom'</span>, age: <span class="number">30</span>, nervous: <span class="literal">false</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> bar = &#123; name: <span class="string">'dick'</span>, age: <span class="number">40</span>, nervous: <span class="literal">false</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> baz = &#123; name: <span class="string">'harry'</span>, age: <span class="number">50</span>, nervous: <span class="literal">true</span> &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'Bad Code ğŸ’©'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(foo);</span><br><span class="line"><span class="built_in">console</span>.log(bar);</span><br><span class="line"><span class="built_in">console</span>.log(baz);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'Good Code âœ…'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Computed Property Names</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'%c My Friends'</span>, <span class="string">'color: orange; font-weight: bold;'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(&#123; foo, bar, baz &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Console.table(...)</span></span><br><span class="line"><span class="built_in">console</span>.table([foo, bar, baz]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// // Console.time</span></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">'looper'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">1000000</span>) &#123; i ++ &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'looper'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// // Stack Trace Logs</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deleteMe = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.trace(<span class="string">'bye bye database'</span>);</span><br><span class="line"></span><br><span class="line">deleteMe();</span><br><span class="line">deleteMe();</span><br></pre></td></tr></table></figure><h3 id="object-destructuring"><a class="markdownIt-Anchor" href="#object-destructuring"></a> Object Destructuring</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> turtle = &#123;</span><br><span class="line">    name: <span class="string">'Bob ğŸ¢'</span>,</span><br><span class="line">    legs: <span class="number">4</span>,</span><br><span class="line">    shell: <span class="literal">true</span>, </span><br><span class="line">    <span class="keyword">type</span>: <span class="string">'amphibious'</span>,</span><br><span class="line">    meal: <span class="number">10</span>,</span><br><span class="line">    diet: <span class="string">'berries'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'Bad Code ğŸ’©'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">feed</span>(<span class="params">animal</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Feed <span class="subst">$&#123;animal.name&#125;</span> <span class="subst">$&#123;animal.meal&#125;</span> kilos of <span class="subst">$&#123;animal.diet&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'Good Code âœ…'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">feed</span>(<span class="params">&#123; name, meal, diet &#125;</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Feed <span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;meal&#125;</span> kilos of <span class="subst">$&#123;diet&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// OR</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">feed</span>(<span class="params">animal</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; name, meal, diet &#125; = animal;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Feed <span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;meal&#125;</span> kilos of <span class="subst">$&#123;diet&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(feed(turtle));</span><br></pre></td></tr></table></figure><h3 id="template-literals"><a class="markdownIt-Anchor" href="#template-literals"></a> Template Literals</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> horse = &#123;</span><br><span class="line">    name: <span class="string">'Topher ğŸ´'</span>,</span><br><span class="line">    size: <span class="string">'large'</span>,</span><br><span class="line">    skills: [<span class="string">'jousting'</span>, <span class="string">'racing'</span>],</span><br><span class="line">    age: <span class="number">7</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'Bad String Code ğŸ’©'</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">let</span> bio = horse.name + <span class="string">' is a '</span> + horse.size + <span class="string">' horse skilled in '</span> + horse.skills.join(<span class="string">' &amp; '</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'Good String Code âœ…'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; name, size, skills &#125; = horse;</span><br><span class="line">bio = <span class="string">`<span class="subst">$&#123;name&#125;</span> is a <span class="subst">$&#123;size&#125;</span> horse skilled in <span class="subst">$&#123;skills.join(' &amp; ')&#125;</span>`</span>;</span><br><span class="line"><span class="built_in">console</span>.log(bio);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Advanced Tag Example</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">horseAge</span>(<span class="params">str, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> ageStr = age &gt; <span class="number">5</span> ? <span class="string">'old'</span> : <span class="string">'young'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;str[0]&#125;</span><span class="subst">$&#123;ageStr&#125;</span> at <span class="subst">$&#123;age&#125;</span> years`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bio2 = horseAge<span class="string">`This horse is <span class="subst">$&#123;horse.age&#125;</span>`</span>;</span><br><span class="line"><span class="built_in">console</span>.log(bio2);</span><br></pre></td></tr></table></figure><h3 id="spread-syntax"><a class="markdownIt-Anchor" href="#spread-syntax"></a> Spread Syntax</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Objects</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hunter = &#123; name: <span class="string">'Hunter ğŸ¹'</span>  &#125;;</span><br><span class="line"><span class="keyword">const</span> stats = &#123; hp: <span class="number">40</span>, attack: <span class="number">60</span>, defense: <span class="number">45</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="string">'Bad Object Code ğŸ’©'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hunter[<span class="string">'hp'</span>] = stats.hp;</span><br><span class="line">hunter[<span class="string">'attack'</span>] = stats.attack;</span><br><span class="line">hunter[<span class="string">'defense'</span>] = stats.defense;</span><br><span class="line"></span><br><span class="line"><span class="comment">// OR</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> lvl0 = <span class="built_in">Object</span>.assign(hunter, stats);</span><br><span class="line"><span class="keyword">const</span> lvl1 = <span class="built_in">Object</span>.assign(hunter, &#123; hp: <span class="number">45</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="string">'Good Object Code âœ…'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> lvl0 = &#123; ...hunter, ...stats &#125;;</span><br><span class="line"><span class="keyword">const</span> lvl1 = &#123; ...hunter, hp: <span class="number">45</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Arrays</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> pokemon = [<span class="string">'Arbok'</span>, <span class="string">'Raichu'</span>, <span class="string">'Sandshrew'</span>];</span><br><span class="line"></span><br><span class="line"><span class="string">'Bad Array Code ğŸ’©'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pokemon.push(<span class="string">'Bulbasaur'</span>);</span><br><span class="line">pokemon.push(<span class="string">'Metapod'</span>);</span><br><span class="line">pokemon.push(<span class="string">'Weedle'</span>);</span><br><span class="line"></span><br><span class="line"><span class="string">'Good Array Code âœ…'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Push </span></span><br><span class="line">pokemon = [...pokemon, <span class="string">'Bulbasaur'</span>, <span class="string">'Metapod'</span>, <span class="string">'Weedle'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Shift</span></span><br><span class="line"></span><br><span class="line">pokemon = [<span class="string">'Bulbasaur'</span>, ...pokemon, <span class="string">'Metapod'</span>, <span class="string">'Weedle'</span>, ];</span><br></pre></td></tr></table></figure><h3 id="rest-params"><a class="markdownIt-Anchor" href="#rest-params"></a> rest-params</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">'Bad Function Code ğŸ’©'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">totalHitPoints</span>(<span class="params">a, b, c, d</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + c + d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">'Good Function Code âœ…'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">totalHitPoints</span>(<span class="params">...hits</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> hits.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">totalHitPoints(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,);</span><br></pre></td></tr></table></figure><h3 id="loops"><a class="markdownIt-Anchor" href="#loops"></a> loops</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> orders = [<span class="number">500</span>, <span class="number">30</span>, <span class="number">99</span>, <span class="number">15</span>, <span class="number">223</span>];</span><br><span class="line"></span><br><span class="line"><span class="string">'Bad Loop Code ğŸ’©'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> total = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> withTax = [];</span><br><span class="line"><span class="keyword">const</span> highValue = [];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; orders.length; i++) &#123; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// Reduce</span></span><br><span class="line">    total += orders[i];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Map</span></span><br><span class="line">    withTax.push(orders[i] * <span class="number">1.1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Filter</span></span><br><span class="line">    <span class="keyword">if</span> (orders[i] &gt; <span class="number">100</span>) &#123;</span><br><span class="line">        highValue.push(orders[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'Good Loop Code âœ…'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Reduce</span></span><br><span class="line"><span class="keyword">const</span> total = orders.reduce(<span class="function">(<span class="params">acc, cur</span>) =&gt;</span> acc + cur);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Map</span></span><br><span class="line"><span class="keyword">const</span> withTax = orders.map(<span class="function"><span class="params">v</span> =&gt;</span> v * <span class="number">1.1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Filter</span></span><br><span class="line"><span class="keyword">const</span> highValue = orders.filter(<span class="function"><span class="params">v</span> =&gt;</span> v &gt; <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Every</span></span><br><span class="line"><span class="comment"> * @returns false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> everyValueGreaterThan50 = orders.every(<span class="function"><span class="params">v</span> =&gt;</span> v &gt; <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Every</span></span><br><span class="line"><span class="comment"> * @returns true</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> everyValueGreaterThan10 = orders.every(<span class="function"><span class="params">v</span> =&gt;</span> v &gt; <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Some</span></span><br><span class="line"><span class="comment"> * @returns false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> someValueGreaterThan500 = orders.some(<span class="function"><span class="params">v</span> =&gt;</span> v &gt; <span class="number">500</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Some</span></span><br><span class="line"><span class="comment"> * @returns true</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> someValueGreaterThan10 = orders.some(<span class="function"><span class="params">v</span> =&gt;</span> v &gt; <span class="number">10</span>);</span><br></pre></td></tr></table></figure><h3 id="async-await"><a class="markdownIt-Anchor" href="#async-await"></a> async-await</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> random = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="built_in">Math</span>.random());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">'Bad Promise Code ğŸ’©'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sumRandomAsyncNums = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> first;</span><br><span class="line">    <span class="keyword">let</span> second;</span><br><span class="line">    <span class="keyword">let</span> third;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> random()</span><br><span class="line">        .then(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">            first = v;</span><br><span class="line">            <span class="keyword">return</span> random();</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">            second = v;</span><br><span class="line">            <span class="keyword">return</span> random();</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">            third = v;</span><br><span class="line">            <span class="keyword">return</span> first + second + third;</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`Result <span class="subst">$&#123;v&#125;</span>`</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'Good Promise Code âœ…'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sumRandomAsyncNums = <span class="keyword">async</span>() =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> first = <span class="keyword">await</span> random();</span><br><span class="line">    <span class="keyword">const</span> second = <span class="keyword">await</span> random();</span><br><span class="line">    <span class="keyword">const</span> third = <span class="keyword">await</span> random();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Result <span class="subst">$&#123;first + second + third&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">await</span> random()) &#123;</span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> randos = <span class="built_in">Promise</span>.all([</span><br><span class="line">        random(), </span><br><span class="line">        random(),</span><br><span class="line">        random()</span><br><span class="line">    ])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">const</span> r of <span class="keyword">await</span> randos) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(r);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sumRandomAsyncNums();</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¦‚ä½•ä¼˜é›…åœ°å†™ä»£ç ï¼Œå¢åŠ ä»£ç çš„å¯é˜…è¯»æ€§ã€‚JavaScript Pro Tipsï¼&lt;/p&gt;
&lt;h3 id=&quot;how-to-use-consolelog&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#how-to-use-consolelog&quot;&gt;&lt;/a&gt; how to use console.log&lt;/h3&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="https://qingshaoxi.github.io/blog/tags/javascript/"/>
    
      <category term="es6" scheme="https://qingshaoxi.github.io/blog/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>angular6æ‡’åŠ è½½ç»„ä»¶</title>
    <link href="https://qingshaoxi.github.io/blog/post/lazy-load-angular-components.html"/>
    <id>https://qingshaoxi.github.io/blog/post/lazy-load-angular-components.html</id>
    <published>2018-09-15T12:11:03.000Z</published>
    <updated>2019-02-27T07:32:29.941Z</updated>
    
    <content type="html"><![CDATA[<p>å»¶è¿ŸåŠ è½½æ˜¯Angularä¸­çš„ä¸€ç§æŠ€æœ¯ï¼Œå®ƒå…è®¸æ‚¨åœ¨æ¿€æ´»ç‰¹å®šè·¯ç”±æ—¶å¼‚æ­¥åŠ è½½JavaScriptç»„ä»¶ã€‚è¿™å¯ä»¥åœ¨åˆå§‹åŠ è½½æœŸé—´æ·»åŠ ä¸€äº›åˆå§‹æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæ‚¨æœ‰è®¸å¤šå…·æœ‰å¤æ‚è·¯ç”±çš„ç»„ä»¶ã€‚</p><h3 id="åˆ›å»ºå¹¶åˆå§‹åŒ–è·¯ç”±æ–‡ä»¶çš„app"><a class="markdownIt-Anchor" href="#åˆ›å»ºå¹¶åˆå§‹åŒ–è·¯ç”±æ–‡ä»¶çš„app"></a> åˆ›å»ºå¹¶åˆå§‹åŒ–è·¯ç”±æ–‡ä»¶çš„app</h3><p>æˆ‘ä»¬çš„appå°†é»˜è®¤åŠ è½½<code>AppComponent</code>ï¼Œç„¶åå½“ç”¨æˆ·å¯¼èˆªåˆ°æ—¶<code>lazy/load-me</code>ï¼Œå°†ä»¥å¼‚æ­¥æ–¹å¼åŠ è½½lazyæ¨¡å—ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng new lazyDemo --routing</span><br></pre></td></tr></table></figure><p>åœ¨appç»„ä»¶ä¸­æ·»åŠ é“¾æ¥åˆ°lazyæ¨¡å—çš„é“¾æ¥ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">routerLink</span>=<span class="string">"/lazy/load-me"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">router-outlet</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–lazyæ¨¡å—"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–lazyæ¨¡å—"></a> åˆå§‹åŒ–lazyæ¨¡å—</h3><p>åˆ›å»ºä¸€ä¸ªå»¶è¿ŸåŠ è½½çš„æ¨¡å—ï¼Œä»¥åŠå‡ ä¸ªç»„ä»¶ã€‚<code>--flat</code>å‚æ•°é˜»æ­¢åˆ›å»ºç›®å½•ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥é€šè¿‡Angular CLIå°†ç»„ä»¶æ·»åŠ åˆ°æ¨¡å—ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ng g module lazy --flat</span><br><span class="line">ng g component lazy-parent --module lazy</span><br><span class="line">ng g component lazy-child --module lazy</span><br></pre></td></tr></table></figure><p>åœ¨<code>lazy module</code>ä¸­éœ€è¦å¼•å…¥<code>RouterModule</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; NgModule &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; CommonModule &#125; <span class="keyword">from</span> <span class="string">'@angular/common'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; LazyParentComponent &#125; <span class="keyword">from</span> <span class="string">'./lazy-parent/lazy-parent.component'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; LazyChildComponent &#125; <span class="keyword">from</span> <span class="string">'./lazy-child/lazy-child.component'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Routes, RouterModule &#125; <span class="keyword">from</span> <span class="string">'@angular/router'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes: Routes = [</span><br><span class="line">    &#123; path: <span class="string">'load-me'</span>, component: LazyParentComponent &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  imports: [</span><br><span class="line">    CommonModule,</span><br><span class="line">    RouterModule.forChild(routes)</span><br><span class="line">  ],</span><br><span class="line">  declarations: [</span><br><span class="line">    LazyParentComponent,</span><br><span class="line">    LazyChildComponent</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> LazyModule &#123; &#125;</span><br></pre></td></tr></table></figure><p><code>LazyParentComponent</code>ç»„ä»¶çš„<code>lazy-parent.component.html</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngFor</span>=<span class="string">"let name of ['Foo', 'Bar', 'Baz']"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hi, my name is &#123;&#123;name&#125;&#125;. I'm a lazy child component.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">app-lazy-child</span>&gt;</span><span class="tag">&lt;/<span class="name">app-lazy-child</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å°†app-routeræŒ‡å‘lazy-module"><a class="markdownIt-Anchor" href="#å°†app-routeræŒ‡å‘lazy-module"></a> å°†<code>App Router</code>æŒ‡å‘<code>Lazy Module</code></h3><p>æœ€åæ˜¯å°†æ‡’æƒ°è·¯ç”±æŒ‡å‘åº”ç”¨è·¯ç”±å™¨çš„å»¶è¿Ÿæ¨¡å—ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨loadChildrenå¸¦æœ‰æ¨¡å—æ–‡ä»¶è·¯å¾„çš„å±æ€§æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œç„¶åä½¿ç”¨ï¼ƒå¼•ç”¨æ¨¡å—æœ¬èº«ã€‚è¿™å‘Šè¯‰angularåªæœ‰åœ¨<code>lazy url</code>æ¿€æ´»æ—¶æ—¶åŠ è½½<code>LazyModule</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; NgModule &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Routes, RouterModule &#125; <span class="keyword">from</span> <span class="string">'@angular/router'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes: Routes = [</span><br><span class="line">    &#123; path: <span class="string">'lazy'</span>, loadChildren: <span class="string">'./lazy.module#LazyModule'</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  imports: [RouterModule.forRoot(routes)],</span><br><span class="line">  exports: [RouterModule]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppRoutingModule &#123; &#125;</span><br></pre></td></tr></table></figure><h3 id="éªŒè¯å»¶è¿ŸåŠ è½½æ˜¯å¦æ­£å¸¸å·¥ä½œ"><a class="markdownIt-Anchor" href="#éªŒè¯å»¶è¿ŸåŠ è½½æ˜¯å¦æ­£å¸¸å·¥ä½œ"></a> éªŒè¯å»¶è¿ŸåŠ è½½æ˜¯å¦æ­£å¸¸å·¥ä½œ</h3><p>åœ¨chromeä¸­ï¼Œæ‰“å¼€å¼€å‘äººå‘˜å·¥å…·ï¼Œç„¶åå•å‡»ç½‘ç»œé€‰é¡¹å¡ã€‚å½“æ‚¨å¯¼èˆªåˆ°æƒ°æ€§URLæ—¶ï¼Œå¯ä»¥çœ‹åˆ°<code>lazy-module.js</code>ã€‚åŠ è½½éœ€è¦<code>2ms</code>ã€‚</p><p><img src="https://github.com/whyour/graph-bed/raw/master/image.png" alt="lazy-load"></p><p><a href="https://github.com/whyour/lazy-angular-components" target="_blank" rel="noopener">githubæºç </a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å»¶è¿ŸåŠ è½½æ˜¯Angularä¸­çš„ä¸€ç§æŠ€æœ¯ï¼Œå®ƒå…è®¸æ‚¨åœ¨æ¿€æ´»ç‰¹å®šè·¯ç”±æ—¶å¼‚æ­¥åŠ è½½JavaScriptç»„ä»¶ã€‚è¿™å¯ä»¥åœ¨åˆå§‹åŠ è½½æœŸé—´æ·»åŠ ä¸€äº›åˆå§‹æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæ‚¨æœ‰è®¸å¤šå…·æœ‰å¤æ‚è·¯ç”±çš„ç»„ä»¶ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ›å»ºå¹¶åˆå§‹åŒ–è·¯ç”±æ–‡ä»¶çš„app&quot;&gt;&lt;a class=&quot;markdownIt-A
      
    
    </summary>
    
    
      <category term="angular" scheme="https://qingshaoxi.github.io/blog/tags/angular/"/>
    
      <category term="route" scheme="https://qingshaoxi.github.io/blog/tags/route/"/>
    
      <category term="components" scheme="https://qingshaoxi.github.io/blog/tags/components/"/>
    
      <category term="lazy-load" scheme="https://qingshaoxi.github.io/blog/tags/lazy-load/"/>
    
  </entry>
  
  <entry>
    <title>angular6è·¯ç”±åŸºç¡€</title>
    <link href="https://qingshaoxi.github.io/blog/post/angular-router.html"/>
    <id>https://qingshaoxi.github.io/blog/post/angular-router.html</id>
    <published>2018-09-09T13:10:47.000Z</published>
    <updated>2019-02-27T07:32:29.916Z</updated>
    
    <content type="html"><![CDATA[<p>è·¯ç”±å¯¹å¤§å¤šæ•°Angularåº”ç”¨æ¥è¯´æ˜¯å…³é”®çš„ç”¨æˆ·ä½“éªŒå› ç´ ï¼Œè·¯ç”±é…ç½®å¯¹é¡µé¢åŠ è½½æ€§èƒ½ï¼Œæœç´¢å¼•æ“ä¼˜åŒ–ï¼Œå®‰å…¨æ€§å’Œç”¨æˆ·ä½“éªŒæœ‰é‡å¤§å½±å“ã€‚</p><h3 id="é€šè¿‡cliå·¥å…·åˆ›å»ºä¸€ä¸ªangularåº”ç”¨"><a class="markdownIt-Anchor" href="#é€šè¿‡cliå·¥å…·åˆ›å»ºä¸€ä¸ªangularåº”ç”¨"></a> é€šè¿‡cliå·¥å…·åˆ›å»ºä¸€ä¸ªangularåº”ç”¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng new awesome-app --routing</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºè·¯ç”±å’Œå¯¼èˆª"><a class="markdownIt-Anchor" href="#åˆ›å»ºè·¯ç”±å’Œå¯¼èˆª"></a> åˆ›å»ºè·¯ç”±å’Œå¯¼èˆª</h3><p>è·¯ç”±å°†åœ¨<code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>æ‰€åœ¨çˆ¶ç»„ä»¶ä¸­å‘ˆç°ç»„ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯<code>app.component</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; HomeComponent &#125; <span class="keyword">from</span> <span class="string">'./home/home.component'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes: Routes = [</span><br><span class="line">  &#123; path: <span class="string">'home'</span>, component: HomeComponent &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>åœ¨HTMLä¸­è®¾ç½®æŒ‡å‘æ­¤è·¯å¾„çš„é“¾æ¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">routerLink</span>=<span class="string">"/home"</span>&gt;</span>Home Page!<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œå¯ä»¥ä½¿ç”¨å¯¼èˆªå®ç°</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Router &#125; <span class="keyword">from</span> <span class="string">'@angular/router'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> HomeComponent &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> router: Router</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  goHome() &#123;</span><br><span class="line">    <span class="keyword">this</span>.router.navigate([<span class="string">'home'</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¸¦å‚æ•°çš„å­è·¯ç”±"><a class="markdownIt-Anchor" href="#å¸¦å‚æ•°çš„å­è·¯ç”±"></a> å¸¦å‚æ•°çš„å­è·¯ç”±</h3><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŠ¨ç‰©åˆ—è¡¨ï¼Œå¹¶å¸Œæœ›åœ¨å¯¼èˆªæ—¶å‘ˆç°æœ‰å…³ç‰¹å®šåŠ¨ç‰©çš„ä¸€äº›ç»†èŠ‚<code>/animals/elephant</code>ã€‚ä½†æ˜¯æˆ‘ä»¬çš„æ•°æ®åº“æœ‰æˆåƒä¸Šä¸‡çš„åŠ¨ç‰©ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ¨æ€åˆ›å»ºè¿™ä¸ªè·¯ç”±ã€‚æ·»åŠ <code>:</code>åˆ°è·¯å¾„ä¸Šä½¿å…¶æˆä¸ºåŠ¨æ€å€¼ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes: Routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'animals'</span>,</span><br><span class="line">    component: ParentComponent,</span><br><span class="line">    children: [</span><br><span class="line">        &#123; path: <span class="string">':name'</span>, component: ChildComponent &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥<code>/animals/elephant</code>URLç‰‡æ®µä¸­å¾—åˆ°åŠ¨ç‰©çš„<code>name</code>æˆ–è€…<code>id</code>ã€‚<br>åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†ä»æ•°æ®åº“å¾ªç¯æˆ‘ä»¬çš„<code>animal</code>å¯¹è±¡ï¼Œå¹¶æ ¹æ®åŠ¨ç‰©åç§°åˆ›å»ºè·¯ç”±urlã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">"let animal of animals$ | async"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> [<span class="attr">routerLink</span>]=<span class="string">"['/animals', animal.name]"</span>&gt;</span>&#123;&#123; animal.name &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">router-outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">router-outlet</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶å°†åœ¨çˆ¶ç»„ä»¶çš„<code>outlet</code>å†…æ¸²æŸ“ã€‚</p><h3 id="æ³›ç»„ä»¶404é¡µé¢"><a class="markdownIt-Anchor" href="#æ³›ç»„ä»¶404é¡µé¢"></a> æ³›ç»„ä»¶404é¡µé¢</h3><p>æˆ‘ä»¬å¯ä»¥å°†<code>**</code>è·¯å¾„ç”¨äºæ•è·è·¯ç”±ï¼Œä»¥ä¾¿ä¼˜é›…åœ°å¤„ç†ä¸å­˜åœ¨çš„æ•°æ®ã€‚ä½†æ˜¯è¦ç¡®ä¿è¿™æ˜¯<code>routes</code>æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªè·¯ç”±ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes: Routes = [&#123; path: <span class="string">'**'</span>, component: ErrorComponent &#125;];</span><br></pre></td></tr></table></figure><h3 id="redirectè·¯ç”±"><a class="markdownIt-Anchor" href="#redirectè·¯ç”±"></a> redirectè·¯ç”±</h3><p>ä½ å¯ä»¥redirectåˆ°ä¸€ä¸ªå·²ç»å­˜åœ¨çš„è·¯ç”±</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes: Routes = [</span><br><span class="line">  &#123; path: <span class="string">'animales'</span>, redirectTo: <span class="string">'animals'</span>, pathMatch: <span class="string">'full'</span> &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹active-routeçš„css"><a class="markdownIt-Anchor" href="#ä¿®æ”¹active-routeçš„css"></a> ä¿®æ”¹<code>active route</code>çš„css</h3><p>Angularå¯ä»¥è½»æ¾åœ°å°†ä¿®æ”¹<code>active route</code>CSSæ ·å¼ã€‚è·¯ç”±æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§ç»‘å®š<code>routerLinkActive</code>ï¼Œå®ƒå°†åº”ç”¨å³ä¾§æä¾›çš„æŒ‡å®šCSSç±»ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">routerLinkActive</span>=<span class="string">"highlight"</span>&gt;</span>Some Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.highlight</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5em</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#23d160</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è·¯ç”±å®ˆå«"><a class="markdownIt-Anchor" href="#è·¯ç”±å®ˆå«"></a> è·¯ç”±å®ˆå«</h3><p>è·¯ç”±å®ˆå«æ˜¯ä¸€ä¸­å¯æ³¨å…¥çš„angularæœåŠ¡ï¼Œangularæä¾›5ä¸­è·¯ç”±</p><ul><li>canActivate - æ ¹æ®æ¡ä»¶é˜»æ­¢è·¯ç”±ï¼Œé€šå¸¸æ˜¯ç”¨æˆ·çš„èº«ä»½éªŒè¯çŠ¶æ€ã€‚</li><li>canDeactivate - å¼ºåˆ¶ç”¨æˆ·ç•™åœ¨è·¯çº¿ä¸Šï¼Œé€šå¸¸ä½¿ç”¨é˜²æ­¢ä¸¢å¤±è¡¨å•ä¸Šæœªä¿å­˜çš„æ›´æ”¹ã€‚</li><li>resolve - é¢„åŠ è½½å¯ä»è·¯å¾„è®¿é—®çš„å…¶ä»–æ•°æ®ã€‚</li><li>canActivateChild - å¤„ç†å¯¼èˆªåˆ°å­è·¯ç”±çš„æƒ…å†µã€‚</li><li>canLoad - å¤„ç†å¼‚æ­¥å¯¼èˆªåˆ°æŸç‰¹æ€§æ¨¡å—çš„æƒ…å†µã€‚</li></ul><h3 id="canactivate-ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#canactivate-ç¤ºä¾‹"></a> CanActivate ç¤ºä¾‹</h3><p>æˆ‘ä»¬ä½¿ç”¨1sçš„è®¡æ—¶å™¨æ¨¡æ‹Ÿå¼‚æ­¥è°ƒç”¨ï¼Œä»¥éªŒè¯ç”¨æˆ·æ˜¯å¦ä¸ºç®¡ç†å‘˜ã€‚<code>canActivate</code>å®ˆå«ä¼šè‡ªåŠ¨è®¢é˜…å¹¶ç”¨æ”¶åˆ°çš„å¸ƒå°”å€¼æ‹’ç»æˆ–è€…å…è®¸è®¿é—®ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Injectable</span>(&#123;</span><br><span class="line">  providedIn: <span class="string">'root'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AdminGuard <span class="keyword">implements</span> CanActivate &#123;</span><br><span class="line">  canActivate(</span><br><span class="line">    next: ActivatedRouteSnapshot,</span><br><span class="line">    state: RouterStateSnapshot</span><br><span class="line">  ): Observable&lt;<span class="built_in">boolean</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> timer(<span class="number">1000</span>).pipe(</span><br><span class="line">      map(<span class="function"><span class="params">v</span> =&gt;</span> <span class="literal">false</span>),</span><br><span class="line">      tap(<span class="function"><span class="params">v</span> =&gt;</span> alert(<span class="string">'Only ADMINS allowed here!'</span>))</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåº”ç”¨å®ˆå«åˆ°è·¯ç”±ä¸Šã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes: Routes = [</span><br><span class="line">  &#123; path: <span class="string">'secret'</span>, component: SecretComponent, canActivate: [AdminGuard] &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h3 id="é¢„åŠ è½½æ•°æ®çš„è·¯ç”±ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#é¢„åŠ è½½æ•°æ®çš„è·¯ç”±ç¤ºä¾‹"></a> é¢„åŠ è½½æ•°æ®çš„è·¯ç”±ç¤ºä¾‹</h3><p>ä¿æŒä»£ç <code>DRY(Don't Repeat Yourself)</code>æœ€æœ‰æ•ˆçš„æœºåˆ¶ä¹‹ä¸€å°±æ˜¯ä½¿ç”¨<code>resolve</code>é¢„åŠ è½½æ•°æ®ï¼Œå¦‚æœéœ€è¦åœ¨å¤šä¸ªè·¯ç”±ä¸ŠæŸ¥è¯¢ç›¸åŒçš„æ•°æ®ï¼Œ<code>resolver</code>å°±å¯ä»¥æ˜¾è‘—çš„ç®€åŒ–ä»£ç ï¼Œä¸‹é¢çš„ä»£ç å…ˆä»<code>route</code>ä¸­æå–æ•°æ®ï¼Œç„¶åè¿”å›ä¸€ä¸ªå¼‚æ­¥è·å–æ•°æ®çš„<code>Observable</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Injectable</span>(&#123;</span><br><span class="line">  providedIn: <span class="string">'root'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> Preloader <span class="keyword">implements</span> Resolve&lt;<span class="built_in">any</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  resolve(</span><br><span class="line">    next: ActivatedRouteSnapshot,</span><br><span class="line">    state: RouterStateSnapshot</span><br><span class="line">  ): Observable&lt;<span class="built_in">any</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> name = next.paramMap.get(<span class="string">'id'</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Observable(<span class="function">(<span class="params">observer</span>) =&gt;</span> &#123;</span><br><span class="line">      observer.next(animal);</span><br><span class="line">      observer.complete();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–ç»„ä»¶æ—¶ï¼Œä½¿ç”¨ä¸Šé¢çš„<code>resolver</code>çš„è·¯ç”±éƒ½å¯ä»¥è®¿é—®å®ƒçš„æ•°æ®ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes: Routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'settings/:id'</span>,</span><br><span class="line">    component: SettingsComponent,</span><br><span class="line">    resolve: [PreloadData]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'playground/:id'</span>,</span><br><span class="line">    component: PlaygroundComponent,</span><br><span class="line">    resolve: [PreloadData]</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæ‚¨å¯ä»¥ä»ç»„ä»¶ä¸­ä»¥<code>Observable</code>çš„å½¢å¼è®¿é—®æ•°æ®ã€‚æ¯”åœ¨å¤šä¸ªç»„ä»¶ä¸­é‡å¤ç›¸åŒçš„æ•°æ®è·å–ä»£ç è¦ç®€æ´å¾—å¤šã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ActivatedRoute &#125; <span class="keyword">from</span> <span class="string">'@angular/router'</span>;</span><br><span class="line"><span class="meta">@Component</span>(...)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> SettingsComponent <span class="keyword">implements</span> OnInit &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> route: ActivatedRoute</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  ngOnInit() &#123;</span><br><span class="line">    <span class="keyword">this</span>.data$ = <span class="keyword">this</span>.route.data.pipe(</span><br><span class="line">      map(<span class="function"><span class="params">val</span> =&gt;</span> val[<span class="number">0</span>])</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><a href="https://github.com/whyour/angular-route-demo.git" target="_blank" rel="noopener">githubæºç </a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è·¯ç”±å¯¹å¤§å¤šæ•°Angularåº”ç”¨æ¥è¯´æ˜¯å…³é”®çš„ç”¨æˆ·ä½“éªŒå› ç´ ï¼Œè·¯ç”±é…ç½®å¯¹é¡µé¢åŠ è½½æ€§èƒ½ï¼Œæœç´¢å¼•æ“ä¼˜åŒ–ï¼Œå®‰å…¨æ€§å’Œç”¨æˆ·ä½“éªŒæœ‰é‡å¤§å½±å“ã€‚&lt;/p&gt;
&lt;h3 id=&quot;é€šè¿‡cliå·¥å…·åˆ›å»ºä¸€ä¸ªangularåº”ç”¨&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é€šè¿‡cli
      
    
    </summary>
    
    
      <category term="angular" scheme="https://qingshaoxi.github.io/blog/tags/angular/"/>
    
      <category term="router" scheme="https://qingshaoxi.github.io/blog/tags/router/"/>
    
  </entry>
  
  <entry>
    <title>webhookå®ç°æœåŠ¡å™¨è‡ªåŠ¨éƒ¨ç½²</title>
    <link href="https://qingshaoxi.github.io/blog/post/webhook-js.html"/>
    <id>https://qingshaoxi.github.io/blog/post/webhook-js.html</id>
    <published>2018-09-01T13:25:56.000Z</published>
    <updated>2019-02-27T07:32:29.962Z</updated>
    
    <content type="html"><![CDATA[<p><code>Webhook</code>æ˜¯ä¸€ç§é€šè¿‡è‡ªå®šä¹‰å›è°ƒå‡½æ•°æ¥å¢åŠ æˆ–æ›´æ”¹ç¶²é è¡¨ç°çš„æ–¹æ³•ã€‚è¿™äº›å›è°ƒå¯è¢«å¯èƒ½ä¸åŸå§‹ç½‘ç«™æˆ–åº”ç”¨ç›¸å…³çš„ç¬¬ä¸‰æ–¹ç”¨æˆ·åŠå¼€å‘è€…ä¿å­˜ã€ä¿®æ”¹ä¸ç®¡ç†ã€‚æœ¯è¯­â€œç½‘ç»œé’©å­â€ç”±æ°å¤«Â·æ—å¾·å¡ï¼ˆJeff Lindsayï¼‰äº2007å¹´é€šè¿‡ç»™è®¡ç®—æœºç¼–ç¨‹æœ¯è¯­â€œé’©å­â€ï¼ˆHookï¼‰åŠ ä¸Šå‰ç¼€å¾—ã€‚<br>ç½‘ç»œé’©å­æ˜¯â€œç”¨æˆ·å®šä¹‰çš„HTTPå›è°ƒâ€ã€‚ç½‘ç»œé’©å­é€šå¸¸è¢«æŸäº›äº‹ä»¶æ¿€æ´»ï¼Œæ¯”å¦‚å°†ä»£ç æ¨é€åˆ°æº[3]æˆ–è¯„è®ºåšå®¢ã€‚.[4]å½“æ­¤äº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒåŸç½‘ç«™å°†å‘ä¸ºç½‘ç»œé’©å­é…ç½®çš„URLå‘é€HTTPè¯·æ±‚ã€‚ç”¨æˆ·å¯é…ç½®å®ƒä»¬å¼•å‘ç½‘é¡µä¸Šçš„äº‹ä»¶ä»¥è°ƒç”¨å¦ä¸€ä¸ªç½‘ç«™çš„è¡Œä¸ºã€‚æ­¤æ“ä½œå¯ä¸ºä»»ä½•äº‹ä»¶ã€‚<br>æœ¬ç‰‡åšå®¢ä»‹ç»ä¸€ä¸ªç®€å•çš„<code>github</code>ä¸­çš„<code>webhook</code>è‡ªåŠ¨éƒ¨ç½²<code>hexo</code>åšå®¢ã€‚</p><h3 id="æœåŠ¡å™¨å®‰è£…ä¾èµ–githexonodenpm"><a class="markdownIt-Anchor" href="#æœåŠ¡å™¨å®‰è£…ä¾èµ–githexonodenpm"></a> æœåŠ¡å™¨å®‰è£…ä¾èµ–gitï¼Œhexoï¼Œnodeï¼Œnpm</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt install git</span><br><span class="line">apt install nodejs</span><br><span class="line">apt install npm</span><br><span class="line">npm i -g hexo</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºblogæ–‡ä»¶å¤¹cloneä»“åº“ä»£ç "><a class="markdownIt-Anchor" href="#åˆ›å»ºblogæ–‡ä»¶å¤¹cloneä»“åº“ä»£ç "></a> åˆ›å»ºblogæ–‡ä»¶å¤¹ï¼Œcloneä»“åº“ä»£ç </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir blog</span><br><span class="line">git <span class="built_in">clone</span> git@github.com:whyour/blog.git</span><br></pre></td></tr></table></figure><p>è‹¥æ²¡æœ‰ä½¿ç”¨å…¬é’¥ï¼Œå¯ä½¿ç”¨httpsåœ°å€å…‹éš†ï¼Œæˆ–è€…åˆ›å»ºç§˜é’¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh &amp;&amp; ssh-keygen</span><br><span class="line">cat id_rsa.pub</span><br></pre></td></tr></table></figure><p>å¤åˆ¶å…¬é’¥åˆ°githubçš„sshkeysä¸­ï¼Œå³å¯è¿›è¡Œsshå…‹éš†</p><h3 id="åˆ›å»ºä¸€ä¸ªwebhookjs"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¸€ä¸ªwebhookjs"></a> åˆ›å»ºä¸€ä¸ªwebhook.js</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi webhook.js</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> exec = <span class="built_in">require</span>(<span class="string">'child_process'</span>).exec;</span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(req.url === <span class="string">'/webhooks/push/1'</span>) &#123; <span class="comment">//å®šä¹‰webhookåœ°å€</span></span><br><span class="line">        exec(<span class="string">'sh ./webhook.sh'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    res.end();</span><br><span class="line">&#125;).listen(<span class="number">9999</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'we are in 9999'</span>);</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºwebhookshè„šæœ¬æ‰§è¡Œpullç¼–è¯‘ç­‰æ“ä½œ"><a class="markdownIt-Anchor" href="#åˆ›å»ºwebhookshè„šæœ¬æ‰§è¡Œpullç¼–è¯‘ç­‰æ“ä½œ"></a> åˆ›å»ºwebhook.shè„šæœ¬ï¼Œæ‰§è¡Œpullï¼Œç¼–è¯‘ç­‰æ“ä½œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vi webhook.sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'begin'</span> &gt; ../1.txt</span><br><span class="line"><span class="built_in">cd</span> /usr/share/nginx/blog</span><br><span class="line">git pull</span><br><span class="line">npm run hook</span><br><span class="line">cp -r /usr/share/nginx/blog/public/* /usr/share/nginx/ninesix.cc/</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'end'</span> &gt;&gt; ../1.txt</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨pm2å¯åŠ¨webhookæœåŠ¡"><a class="markdownIt-Anchor" href="#ä½¿ç”¨pm2å¯åŠ¨webhookæœåŠ¡"></a> ä½¿ç”¨pm2å¯åŠ¨webhookæœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g pm2</span><br><span class="line">pm2 start webhook.js</span><br></pre></td></tr></table></figure><h3 id="æŠŠwebhookåœ°å€å†™åˆ°githubçš„é¡¹ç›®è®¾ç½®ä¸­"><a class="markdownIt-Anchor" href="#æŠŠwebhookåœ°å€å†™åˆ°githubçš„é¡¹ç›®è®¾ç½®ä¸­"></a> æŠŠwebhookåœ°å€å†™åˆ°githubçš„é¡¹ç›®è®¾ç½®ä¸­</h3><p><code>http://ip:9999/webhooks/push/1</code></p><p>githubä¼šæµ‹è¯•å‘é€ï¼ŒæˆåŠŸä¹‹åä¼šæ˜¾ç¤ºç»¿è‰²å¯¹å‹¾</p><p><img src="/postImg/webhook.jpg" alt="webhook"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;Webhook&lt;/code&gt;æ˜¯ä¸€ç§é€šè¿‡è‡ªå®šä¹‰å›è°ƒå‡½æ•°æ¥å¢åŠ æˆ–æ›´æ”¹ç¶²é è¡¨ç°çš„æ–¹æ³•ã€‚è¿™äº›å›è°ƒå¯è¢«å¯èƒ½ä¸åŸå§‹ç½‘ç«™æˆ–åº”ç”¨ç›¸å…³çš„ç¬¬ä¸‰æ–¹ç”¨æˆ·åŠå¼€å‘è€…ä¿å­˜ã€ä¿®æ”¹ä¸ç®¡ç†ã€‚æœ¯è¯­â€œç½‘ç»œé’©å­â€ç”±æ°å¤«Â·æ—å¾·å¡ï¼ˆJeff Lindsayï¼‰äº2007å¹´é€šè¿‡ç»™è®¡ç®—æœºç¼–ç¨‹æœ¯è¯­â€œé’©å­â€ï¼ˆHook
      
    
    </summary>
    
    
      <category term="nodejs" scheme="https://qingshaoxi.github.io/blog/tags/nodejs/"/>
    
      <category term="javascript" scheme="https://qingshaoxi.github.io/blog/tags/javascript/"/>
    
      <category term="webhook" scheme="https://qingshaoxi.github.io/blog/tags/webhook/"/>
    
  </entry>
  
  <entry>
    <title>javascriptä¸­çš„es6ä¸ç®€å†™æŠ€å·§</title>
    <link href="https://qingshaoxi.github.io/blog/post/js-shorthand.html"/>
    <id>https://qingshaoxi.github.io/blog/post/js-shorthand.html</id>
    <published>2018-08-23T07:18:27.000Z</published>
    <updated>2019-02-27T07:32:29.938Z</updated>
    
    <content type="html"><![CDATA[<p>é‚£äº›æ›´ç®€æ´ï¼Œæ›´ä¼˜é›…çš„ä»£ç </p><h3 id="ä¸‰ç›®è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#ä¸‰ç›®è¿ç®—ç¬¦"></a> ä¸‰ç›®è¿ç®—ç¬¦</h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œå°†ä¸€ä¸ªå®Œæ•´çš„ if è¯­å¥ï¼Œç®€å†™ä¸ºä¸€è¡Œä»£ç ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">let</span> result;</span><br><span class="line"><span class="keyword">if</span> (a &gt; <span class="number">10</span>) &#123;</span><br><span class="line">    result = <span class="string">'greater than 10'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    result = <span class="string">'less than 10'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å†™ä¸ºï¼š</p><blockquote><p>const result = a &gt; 10 ? â€˜greater than 10â€™ : â€˜less than 10â€™;</p></blockquote><h3 id="å¾ªç¯è¯­å¥"><a class="markdownIt-Anchor" href="#å¾ªç¯è¯­å¥"></a> å¾ªç¯è¯­å¥</h3><p>å½“ä½¿ç”¨çº¯ JavaScriptï¼ˆä¸ä¾èµ–å¤–éƒ¨åº“ï¼Œå¦‚ jQuery æˆ– lodashï¼‰æ—¶ï¼Œä¸‹é¢çš„ç®€å†™ä¼šéå¸¸æœ‰ç”¨ã€‚</p><blockquote><p>for (let i = 0; i &lt; list.length; i++)</p></blockquote><p>ç®€å†™ä¸ºï¼š</p><blockquote><p>for (let index of list)</p></blockquote><h3 id="å£°æ˜å˜é‡"><a class="markdownIt-Anchor" href="#å£°æ˜å˜é‡"></a> å£°æ˜å˜é‡</h3><p>åœ¨å‡½æ•°å¼€å§‹ä¹‹å‰ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼æ˜¯ä¸€ç§å¾ˆå¥½çš„ä¹ æƒ¯ã€‚åœ¨ç”³æ˜å¤šä¸ªå˜é‡æ—¶ï¼š</p><p><code>let x;let y;let z = 3;</code></p><p>å¯ä»¥ç®€å†™ä¸ºï¼š</p><blockquote><p>let x, y, z=3;</p></blockquote><h3 id="if-è¯­å¥"><a class="markdownIt-Anchor" href="#if-è¯­å¥"></a> if è¯­å¥</h3><p>åœ¨ä½¿ç”¨ if è¿›è¡ŒåŸºæœ¬åˆ¤æ–­æ—¶ï¼Œå¯ä»¥çœç•¥èµ‹å€¼è¿ç®—ç¬¦ã€‚</p><blockquote><p><code>if (likeJavaScript === true)</code></p></blockquote><p>ç®€å†™ä¸ºï¼š</p><blockquote><p><code>if (likeJavaScript)</code></p></blockquote><h3 id="åè¿›åˆ¶æ•°"><a class="markdownIt-Anchor" href="#åè¿›åˆ¶æ•°"></a> åè¿›åˆ¶æ•°</h3><p>å¯ä»¥ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•æ¥ä»£æ›¿è¾ƒå¤§çš„æ•°æ®ï¼Œå¦‚å¯ä»¥å°† 10000000 ç®€å†™ä¸º 1e7ã€‚</p><blockquote><p><code>for (let i = 0; i &lt; 10000; i++) { }</code></p></blockquote><p>ç®€å†™ä¸ºï¼š</p><blockquote><p><code>for (let i = 0; i &lt; 1e7; i++) { }</code></p></blockquote><h3 id="å¤šè¡Œå­—ç¬¦ä¸²"><a class="markdownIt-Anchor" href="#å¤šè¡Œå­—ç¬¦ä¸²"></a> å¤šè¡Œå­—ç¬¦ä¸²</h3><p>å¦‚æœéœ€è¦åœ¨ä»£ç ä¸­ç¼–å†™å¤šè¡Œå­—ç¬¦ä¸²ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> html = <span class="string">'&lt;li class="comment-item" data-id="'</span> + post.id + <span class="string">'" data-name="'</span>+ post.name + <span class="string">'" id="comment-'</span> + post.id + <span class="string">'"&gt;'</span> +</span><br><span class="line">            <span class="string">'&lt;div class="comment-item-body"&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;a class="comment-item-avatar" href="#comment-'</span>+post.id+<span class="string">'"&gt;&lt;img src="'</span> + post.avatar + <span class="string">'"&gt;&lt;/a&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;div class="comment-item-main"&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;div class="comment-item-header"&gt;&lt;a class="comment-item-name" title="'</span> + post.name + <span class="string">'" rel="nofollow" target="_blank" href="'</span> + ( post.url ? post.url : <span class="string">'javascript:;'</span> ) + <span class="string">'"&gt;'</span> + post.name + <span class="string">'&lt;/a&gt;'</span>+ (post.isMod ?<span class="string">'&lt;span class="comment-item-badge"&gt;'</span>+_.opts.badge+<span class="string">'&lt;/span&gt;'</span> :<span class="string">''</span>)+parentPost.name+<span class="string">'&lt;span class="comment-item-bullet"&gt; â€¢ &lt;/span&gt;&lt;time class="comment-item-time" datetime="'</span> + post.createdAt + <span class="string">'"&gt;&lt;/time&gt;&lt;/div&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;div class="comment-item-content"&gt;'</span> + post.message + mediaHTML + <span class="string">'&lt;/div&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;div class="comment-item-footer"&gt;'</span> + (!!post.isPost ? <span class="string">'&lt;span class="comment-item-manage"&gt;&lt;a class="comment-item-edit" href="javascript:;"&gt;ç¼–è¾‘&lt;/a&gt;&lt;span class="comment-item-bullet"&gt; â€¢ &lt;/span&gt;&lt;a class="comment-item-delete" href="javascript:;"&gt;åˆ é™¤&lt;/a&gt;&lt;span class="comment-item-bullet"&gt; â€¢ &lt;/span&gt;&lt;/span&gt;'</span> : <span class="string">''</span>) + <span class="string">'&lt;a class="comment-item-reply" href="javascript:;"&gt;å›å¤&lt;/a&gt; &lt;/div&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;/div&gt;&lt;/div&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;ul class="comment-item-children"&gt;&lt;/ul&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;/li&gt;'</span>;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•ï¼Œåå¼•å·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`</span></span><br><span class="line"><span class="string">&lt;li class="discovery-post"&gt;</span></span><br><span class="line"><span class="string">    &lt;a class="publisher-anchor-color" href="" target="" rel=""&gt;</span></span><br><span class="line"><span class="string">        &lt;header class="discovery-post-header"&gt;</span></span><br><span class="line"><span class="string">            &lt;h3 title="<span class="subst">$&#123;item.title&#125;</span>"&gt;</span></span><br><span class="line"><span class="string">                &lt;span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2"&gt;<span class="subst">$&#123;item.title&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;/h3&gt;</span></span><br><span class="line"><span class="string">            &lt;ul class="meta"&gt;</span></span><br><span class="line"><span class="string">                &lt;li class="comments"&gt;<span class="subst">$&#123;item.posts&#125;</span>æ¡è¯„è®º &lt;/li&gt;</span></span><br><span class="line"><span class="string">                &lt;li class="time"&gt;</span></span><br><span class="line"><span class="string">                    &lt;time class="comment-item-time" datetime="<span class="subst">$&#123;item.createdAt&#125;</span>"&gt;&lt;/time&gt;</span></span><br><span class="line"><span class="string">                &lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;/ul&gt;</span></span><br><span class="line"><span class="string">        &lt;/header&gt;</span></span><br><span class="line"><span class="string">        &lt;a class="top-comment" data-role="discovery-top-comment" href="" target="" rel=""&gt;</span></span><br><span class="line"><span class="string">            &lt;img alt="å¤´åƒ" data-role="discovery-avatar" src="<span class="subst">$&#123;item.author.avatar.cache&#125;</span>"&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;</span></span><br><span class="line"><span class="string">                &lt;span class="user" data-role="discovery-top-comment-author"&gt;<span class="subst">$&#123;item.author.name&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">                â€”</span></span><br><span class="line"><span class="string">                &lt;span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3"&gt;</span></span><br><span class="line"><span class="string">                    <span class="subst">$&#123;item.message&#125;</span></span></span><br><span class="line"><span class="string">                &lt;/span&gt;</span></span><br><span class="line"><span class="string">            &lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;/a&gt; </span></span><br><span class="line"><span class="string">    &lt;/a&gt;</span></span><br><span class="line"><span class="string">&lt;/li&gt;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure><h3 id="å˜é‡èµ‹å€¼"><a class="markdownIt-Anchor" href="#å˜é‡èµ‹å€¼"></a> å˜é‡èµ‹å€¼</h3><p>å½“å°†ä¸€ä¸ªå˜é‡çš„å€¼èµ‹ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œé¦–å…ˆéœ€è¦ç¡®ä¿åŸå€¼ä¸æ˜¯ nullã€æœªå®šä¹‰çš„æˆ–ç©ºå€¼ã€‚</p><p>å¯ä»¥é€šè¿‡ç¼–å†™ä¸€ä¸ªåŒ…å«å¤šä¸ªæ¡ä»¶çš„åˆ¤æ–­è¯­å¥æ¥å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (v1 !== <span class="literal">null</span> || v1 !== <span class="literal">undefined</span> || v1 !== <span class="string">''</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> v2 = v1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç®€å†™ä¸ºä»¥ä¸‹çš„å½¢å¼ï¼š</p><blockquote><p><code>const v2 = v1 || 'other';</code></p></blockquote><h3 id="é»˜è®¤å€¼èµ‹å€¼"><a class="markdownIt-Anchor" href="#é»˜è®¤å€¼èµ‹å€¼"></a> é»˜è®¤å€¼èµ‹å€¼</h3><p>å¦‚æœé¢„æœŸå‚æ•°æ˜¯ null æˆ–æœªå®šä¹‰ï¼Œåˆ™ä¸éœ€è¦å†™å…­è¡Œä»£ç æ¥åˆ†é…é»˜è®¤å€¼ã€‚æˆ‘ä»¬å¯ä»¥åªä½¿ç”¨ä¸€ä¸ªç®€çŸ­çš„é€»è¾‘è¿ç®—ç¬¦ï¼Œåªç”¨ä¸€è¡Œä»£ç å°±èƒ½å®Œæˆç›¸åŒçš„æ“ä½œï¼ŒåŒå˜é‡èµ‹å€¼ã€‚</p><p>ç®€å†™ä¸ºï¼š</p><blockquote><p><code>const dbHost = process.env.HOST || 'localhost';</code></p></blockquote><h3 id="å¯¹è±¡å±æ€§"><a class="markdownIt-Anchor" href="#å¯¹è±¡å±æ€§"></a> å¯¹è±¡å±æ€§</h3><p>ES6 æä¾›äº†ä¸€ä¸ªå¾ˆç®€å•çš„åŠæ³•ï¼Œæ¥åˆ†é…å±æ€§çš„å¯¹è±¡ã€‚å¦‚æœå±æ€§åä¸ key åç›¸åŒï¼Œåˆ™å¯ä»¥ä½¿ç”¨ç®€å†™ã€‚</p><blockquote><p><code>const obj = { x:x, y:y };</code></p></blockquote><p>ç®€å†™ä¸ºï¼š</p><blockquote><p><code>const obj = { x, y };</code></p></blockquote><h3 id="ç®­å¤´å‡½æ•°"><a class="markdownIt-Anchor" href="#ç®­å¤´å‡½æ•°"></a> ç®­å¤´å‡½æ•°</h3><p>ç»å…¸å‡½æ•°å¾ˆå®¹æ˜“è¯»å†™ï¼Œä½†æ˜¯å¦‚æœæŠŠå®ƒä»¬åµŒå¥—åœ¨å…¶å®ƒå‡½æ•°ä¸­è¿›è¡Œè°ƒç”¨æ—¶ï¼Œæ•´ä¸ªå‡½æ•°å°±ä¼šå˜å¾—æœ‰äº›å†—é•¿å’Œæ··ä¹±ã€‚è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥ç®€å†™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeOut(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'yes'</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>ç®€å†™ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setTimeOut(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'yes'</span>), <span class="number">0</span>);</span><br></pre></td></tr></table></figure><h3 id="éšå¼è¿”å›å€¼"><a class="markdownIt-Anchor" href="#éšå¼è¿”å›å€¼"></a> éšå¼è¿”å›å€¼</h3><p>è¿”å›å€¼æ˜¯æˆ‘ä»¬é€šå¸¸ç”¨æ¥è¿”å›å‡½æ•°æœ€ç»ˆç»“æœçš„å…³é”®å­—ã€‚åªæœ‰ä¸€ä¸ªè¯­å¥çš„ç®­å¤´å‡½æ•°ï¼Œå¯ä»¥éšå¼è¿”å›ç»“æœï¼ˆå‡½æ•°å¿…é¡»çœç•¥æ‹¬å·ï¼ˆ{ }ï¼‰ï¼Œä»¥ä¾¿çœç•¥è¿”å›å…³é”®å­—ï¼‰ã€‚</p><p>è¦è¿”å›å¤šè¡Œè¯­å¥ï¼ˆä¾‹å¦‚å¯¹è±¡æ–‡æœ¬ï¼‰ï¼Œéœ€è¦ä½¿ç”¨ï¼ˆï¼‰è€Œä¸æ˜¯{ }æ¥åŒ…è£¹å‡½æ•°ä½“ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿ä»£ç ä»¥å•ä¸ªè¯­å¥çš„å½¢å¼è¿›è¡Œæ±‚å€¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a*a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å†™ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">square = <span class="function"><span class="params">a</span> =&gt;</span> a*a;</span><br></pre></td></tr></table></figure><h3 id="é»˜è®¤å‚æ•°å€¼"><a class="markdownIt-Anchor" href="#é»˜è®¤å‚æ•°å€¼"></a> é»˜è®¤å‚æ•°å€¼</h3><p>å¯ä»¥ä½¿ç”¨ if è¯­å¥æ¥å®šä¹‰å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚ES6 ä¸­è§„å®šäº†å¯ä»¥åœ¨å‡½æ•°å£°æ˜ä¸­å®šä¹‰é»˜è®¤å€¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">volume</span>(<span class="params">l, w ,h</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (w === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        w = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (h === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        h = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l * w * h;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å†™ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">volume = <span class="function">(<span class="params">l, w = <span class="number">1</span>, h = <span class="number">2</span></span>) =&gt;</span> l * w * h;</span><br></pre></td></tr></table></figure><h3 id="è§£æ„èµ‹å€¼"><a class="markdownIt-Anchor" href="#è§£æ„èµ‹å€¼"></a> è§£æ„èµ‹å€¼</h3><h4 id="äº¤æ¢å˜é‡çš„å€¼"><a class="markdownIt-Anchor" href="#äº¤æ¢å˜é‡çš„å€¼"></a> äº¤æ¢å˜é‡çš„å€¼</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">[x, y] = [y, x];</span><br></pre></td></tr></table></figure><h4 id="å‡½æ•°è¿”å›å¤šä¸ªå€¼"><a class="markdownIt-Anchor" href="#å‡½æ•°è¿”å›å¤šä¸ªå€¼"></a> å‡½æ•°è¿”å›å¤šä¸ªå€¼</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> [a, b, c] = example();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    foo: <span class="number">1</span>,</span><br><span class="line">    bar: <span class="number">2</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123; foo, bar &#125; = example();</span><br></pre></td></tr></table></figure><h4 id="å‡½æ•°å‚æ•°çš„å®šä¹‰"><a class="markdownIt-Anchor" href="#å‡½æ•°å‚æ•°çš„å®šä¹‰"></a> å‡½æ•°å‚æ•°çš„å®šä¹‰</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‚æ•°æ˜¯ä¸€ç»„æœ‰æ¬¡åºçš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">[x, y, z]</span>) </span>&#123; ... &#125;</span><br><span class="line">f([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°æ˜¯ä¸€ç»„æ— æ¬¡åºçš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">&#123;x, y, z&#125;</span>) </span>&#123; ... &#125;</span><br><span class="line">f(&#123;<span class="attr">z</span>: <span class="number">3</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">x</span>: <span class="number">1</span>&#125;);</span><br></pre></td></tr></table></figure><h4 id="æå–jsonæ•°æ®"><a class="markdownIt-Anchor" href="#æå–jsonæ•°æ®"></a> æå–jsonæ•°æ®</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonData = &#123;</span><br><span class="line">  id: <span class="number">42</span>,</span><br><span class="line">  status: <span class="string">"OK"</span>,</span><br><span class="line">  data: [<span class="number">867</span>, <span class="number">5309</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; id, status, <span class="attr">data</span>: number &#125; = jsonData;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(id, status, number);</span><br><span class="line"><span class="comment">// 42, "OK", [867, 5309]</span></span><br></pre></td></tr></table></figure><h4 id="å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼"><a class="markdownIt-Anchor" href="#å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼"></a> å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">jQuery.ajax = <span class="function"><span class="keyword">function</span> (<span class="params">url, &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">  async = true,</span></span></span><br><span class="line"><span class="function"><span class="params">  beforeSend = function (</span>) </span>&#123;&#125;,</span><br><span class="line">  cache = <span class="literal">true</span>,</span><br><span class="line">  complete = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  crossDomain = <span class="literal">false</span>,</span><br><span class="line">  global = <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// ... more config</span></span><br><span class="line">&#125; = &#123;&#125;) &#123;</span><br><span class="line">  <span class="comment">// ... do stuff</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="éå†-map-ç»“æ„"><a class="markdownIt-Anchor" href="#éå†-map-ç»“æ„"></a> éå† Map ç»“æ„</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set(<span class="string">'first'</span>, <span class="string">'hello'</span>);</span><br><span class="line">map.set(<span class="string">'second'</span>, <span class="string">'world'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key + <span class="string">" is "</span> + value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// first is hello</span></span><br><span class="line"><span class="comment">// second is world</span></span><br></pre></td></tr></table></figure><h4 id="åŠ è½½æ¨¡å—æŒ‡å®šæ–¹æ³•"><a class="markdownIt-Anchor" href="#åŠ è½½æ¨¡å—æŒ‡å®šæ–¹æ³•"></a> åŠ è½½æ¨¡å—æŒ‡å®šæ–¹æ³•</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; Store, Action &#125; = <span class="built_in">require</span>(<span class="string">"ngx-tethys"</span>);</span><br></pre></td></tr></table></figure><h4 id="å±•å¼€è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#å±•å¼€è¿ç®—ç¬¦"></a> å±•å¼€è¿ç®—ç¬¦</h4><p>å±•å¼€è¿ç®—ç¬¦æ˜¯åœ¨ ES6 ä¸­å¼•å…¥çš„ï¼Œä½¿ç”¨å±•å¼€è¿ç®—ç¬¦èƒ½å¤Ÿè®© JavaScript ä»£ç æ›´åŠ æœ‰æ•ˆå’Œæœ‰è¶£ã€‚</p><p>ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦å¯ä»¥æ›¿æ¢æŸäº›æ•°ç»„å‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> odd = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> even = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">const</span> arr = odd.concat(even);</span><br></pre></td></tr></table></figure><p>ç®€å†™ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> odd = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, ...odd];</span><br></pre></td></tr></table></figure><p>å’Œ concat( ) åŠŸèƒ½ä¸åŒçš„æ˜¯ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦åœ¨ä»»ä½•ä¸€ä¸ªæ•°ç»„ä¸­æ’å…¥å¦ä¸€ä¸ªæ•°ç»„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> odd = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span> ];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nums = [<span class="number">2</span>, ...odd, <span class="number">4</span> , <span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">ä¹Ÿå¯ä»¥å°†å±•å¼€è¿ç®—ç¬¦å’Œ ES6 è§£æ„ç¬¦å·ç»“åˆä½¿ç”¨ï¼š</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; a, b, ...z &#125; = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span>, <span class="attr">d</span>: <span class="number">4</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(b) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(z) <span class="comment">// &#123; c: 3, d: 4 &#125;</span></span><br></pre></td></tr></table></figure><h3 id="arrayfind"><a class="markdownIt-Anchor" href="#arrayfind"></a> Array.find</h3><p>å¦‚æœä½ æ›¾ç»ç¼–å†™è¿‡æ™®é€š JavaScript ä¸­çš„ find å‡½æ•°ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä½¿ç”¨äº† for å¾ªç¯ã€‚åœ¨ ES6 ä¸­ï¼Œä»‹ç»äº†ä¸€ç§åä¸º findï¼ˆï¼‰çš„æ–°æ•°ç»„å‡½æ•°ï¼Œå¯ä»¥å®ç° for å¾ªç¯çš„ç®€å†™ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pets = [</span><br><span class="line">    &#123;<span class="attr">type</span>: <span class="string">'dog'</span>, <span class="attr">name</span>: <span class="string">'killer'</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">type</span>: <span class="string">'cat'</span>, <span class="attr">name</span>: <span class="string">'hiller'</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">type</span>: <span class="string">'pig'</span>, <span class="attr">name</span>: <span class="string">'miller'</span>&#125;</span><br><span class="line">]</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findDog</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> pets) &#123;</span><br><span class="line">        <span class="keyword">if</span> (pets[i].type === <span class="string">'dog'</span> &amp;&amp; pets[i].name === name) &#123;</span><br><span class="line">            <span class="keyword">return</span> pets[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å†™ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pet = pets.find(<span class="function"><span class="params">pet</span> =&gt;</span> pet.type === <span class="string">'dog'</span> &amp;&amp; pet.name === <span class="string">'Tom'</span>);</span><br></pre></td></tr></table></figure><h3 id="object-key"><a class="markdownIt-Anchor" href="#object-key"></a> Object [key]</h3><p>è™½ç„¶å°† foo.bar å†™æˆ foo [â€˜barâ€™] æ˜¯ä¸€ç§å¸¸è§çš„åšæ³•ï¼Œä½†æ˜¯è¿™ç§åšæ³•æ„æˆäº†ç¼–å†™å¯é‡ç”¨ä»£ç çš„åŸºç¡€ã€‚</p><blockquote><p>keyå¯æ¥å—ä¸€ä¸ªå˜é‡;</p></blockquote><h3 id="åŒä½æ“ä½œç¬¦"><a class="markdownIt-Anchor" href="#åŒä½æ“ä½œç¬¦"></a> åŒä½æ“ä½œç¬¦</h3><p>ä½æ“ä½œç¬¦æ˜¯ JavaScript åˆçº§æ•™ç¨‹çš„åŸºæœ¬çŸ¥è¯†ç‚¹ï¼Œä½†æ˜¯æˆ‘ä»¬å´ä¸å¸¸ä½¿ç”¨ä½æ“ä½œç¬¦ã€‚å› ä¸ºåœ¨ä¸å¤„ç†äºŒè¿›åˆ¶çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰äººæ„¿æ„ä½¿ç”¨ 1 å’Œ 0ã€‚</p><p>ä½†æ˜¯åŒä½æ“ä½œç¬¦å´æœ‰ä¸€ä¸ªå¾ˆå®ç”¨çš„æ¡ˆä¾‹ã€‚ä½ å¯ä»¥ä½¿ç”¨åŒä½æ“ä½œç¬¦æ¥æ›¿ä»£ Math.floor( )ã€‚åŒå¦å®šä½æ“ä½œç¬¦çš„ä¼˜åŠ¿åœ¨äºå®ƒæ‰§è¡Œç›¸åŒçš„æ“ä½œè¿è¡Œé€Ÿåº¦æ›´å¿«ã€‚</p><blockquote><p><code>Math.floor(4.9) === 4 //true</code></p></blockquote><p>ç®€å†™ä¸ºï¼š</p><blockquote><p><code>~~4.9 === 4 //true</code></p></blockquote><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> <strong>æ€»ç»“</strong></h3><p>ä¸Šè¿°æ˜¯ä¸€äº›å¸¸ç”¨çš„ JavaScript ç®€å†™æŠ€å·§ï¼Œå¦‚æœæœ‰å…¶å®ƒæœªæåŠçš„ç®€å†™æŠ€å·§ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶è¡¥å……ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é‚£äº›æ›´ç®€æ´ï¼Œæ›´ä¼˜é›…çš„ä»£ç &lt;/p&gt;
&lt;h3 id=&quot;ä¸‰ç›®è¿ç®—ç¬¦&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä¸‰ç›®è¿ç®—ç¬¦&quot;&gt;&lt;/a&gt; ä¸‰ç›®è¿ç®—ç¬¦&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œå°†ä¸€ä¸ªå®Œæ•´çš„ if è¯­å¥ï¼Œç®€å†™ä¸ºä¸€è¡Œä»£ç ã€‚&lt;/p&gt;
&lt;figur
      
    
    </summary>
    
    
      <category term="javascript" scheme="https://qingshaoxi.github.io/blog/tags/javascript/"/>
    
      <category term="es6" scheme="https://qingshaoxi.github.io/blog/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Guardå’ŒResolveè¿›è¡ŒéªŒè¯å’Œæƒé™æ§åˆ¶</title>
    <link href="https://qingshaoxi.github.io/blog/post/angular-router-guard.html"/>
    <id>https://qingshaoxi.github.io/blog/post/angular-router-guard.html</id>
    <published>2018-07-29T15:23:35.000Z</published>
    <updated>2019-02-27T07:32:29.915Z</updated>
    
    <content type="html"><![CDATA[<p>Angular2æä¾›äº†2ç§ç»„ä»¶ï¼Œ<code>Guard</code>å’Œ<code>Resolve</code>ã€‚<code>Guard</code>é¡¾åæ€ä¹‰å°±æ˜¯ç”¨æ¥ä¿æŠ¤ä¸€ä¸ªè·¯å¾„ã€‚å¯ä»¥ç”¨æ¥åˆ¤æ–­ç”¨æˆ·åªæœ‰åœ¨æ»¡è¶³ä¸€å®šçš„æ¡ä»¶çš„æƒ…å†µä¸‹æ‰èƒ½æ‰“å¼€è¿™ä¸ªè·¯å¾„å¯¹åº”çš„é¡µé¢ã€‚<code>Resolve</code>ç”¨æ¥åœ¨è¿›å…¥æŸä¸ªè·¯å¾„ä¹‹å‰å…ˆè·å–æ•°æ®ã€‚</p><h2 id="guard"><a class="markdownIt-Anchor" href="#guard"></a> Guard</h2><p><code>Guard</code>å…¶å®æ˜¯ä¸€ç³»åˆ—æ¥å£ï¼Œåªè¦ä½ å®ç°äº†å®ƒçš„æ–¹æ³•ï¼Œé…ç½®äº†è¿™äº›<code>Guard</code>ï¼ŒAngularè·¯ç”±æ¡†æ¶å°±ä¼šæ ¹æ®è¿™ä¸ªæ–¹æ³•è¿”å›çš„<code>true</code>æˆ–<code>false</code>æ¥åˆ¤æ–­æ˜¯å¦æ¿€æ´»è¿™ä¸ªè·¯ç”±ã€‚å®ƒåŒ…æ‹¬å‡ ç§ç±»å‹ï¼š</p><ul><li>CanActivate<br>è¿™ç§ç±»å‹çš„<code>Guard</code>ç”¨æ¥æ§åˆ¶æ˜¯å¦å…è®¸è¿›å…¥å½“å‰çš„è·¯å¾„ã€‚</li><li>CanActivateChild<br>è¿™ç§ç±»å‹çš„<code>Guard</code>ç”¨æ¥æ§åˆ¶æ˜¯å¦å…è®¸è¿›å…¥å½“å‰è·¯å¾„çš„æ‰€æœ‰å­è·¯å¾„ã€‚</li><li>CanDeactivate<br>ç”¨æ¥æ§åˆ¶æ˜¯å¦èƒ½ç¦»å¼€å½“å‰é¡µé¢è¿›å…¥åˆ«çš„è·¯å¾„</li><li>CanLoad<br>ç”¨äºæ§åˆ¶ä¸€ä¸ªå¼‚æ­¥åŠ è½½çš„å­æ¨¡å—æ˜¯å¦å…è®¸è¢«åŠ è½½ã€‚</li></ul><p>ä»¥<code>CanActivate</code>ä¸ºä¾‹ï¼Œè¿™ä¸ªæ¥å£çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> CanActivate &#123;</span><br><span class="line"></span><br><span class="line">    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable&lt;<span class="built_in">boolean</span>&gt; | <span class="built_in">Promise</span>&lt;<span class="built_in">boolean</span>&gt; | <span class="built_in">boolean</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ¥å£å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼Œå½“ä½ å®ç°è¿™ä¸ªæ¥å£ï¼Œå¹¶æŠŠå®ƒé…ç½®åˆ°æŸä¸€ä¸ªè·¯ç”±ä¸Šä»¥åï¼Œå½“ç”¨æˆ·è¿›å…¥è¿™ä¸ªè·¯ç”±çš„è·¯å¾„ä¹‹å‰ï¼Œå°±ä¼šè°ƒç”¨å®ƒé‡Œé¢çš„<code>canActivate()</code>æ–¹æ³•ï¼Œå®ƒç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯å°†è¦æ¿€æ´»çš„è·¯ç”±ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è·¯ç”±å™¨å½“å‰çš„çŠ¶æ€ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å‹çš„ç»“æœï¼Œæˆ–è€…æ˜¯å¸ƒå°”å‹çš„<code>Promise</code>æˆ–<code>Observable</code>ã€‚</p><h2 id="resolve"><a class="markdownIt-Anchor" href="#resolve"></a> Resolve</h2><p>è¿™è·ŸAngular1ä¸­ui-routeråº“çš„<code>resolve</code>ç±»ä¼¼ï¼Œå°±æ˜¯ç”¨æ¥åœ¨æ‰“å¼€ä¸€ä¸ªé¡µé¢ä¹‹å‰å…ˆè·å–æ•°æ®ï¼Œè€Œä¸æ˜¯è¿›å…¥é¡µé¢ä»¥åå†åŠ è½½ã€‚è¿™ä¸ªæ¥å£ä¸­çš„æ–¹æ³•ï¼Œå¯ä»¥è¿”å›ä»»æ„çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ª<code>Promise</code>ï¼Œæˆ–è€…<code>Observable</code></p><p>å¦‚æœåœ¨ä¸€ä¸ªè·¯å¾„ä¸ŠåŒæ—¶è®¾ç½®äº†<code>CanActivate</code>å’Œ<code>Resolve</code>ï¼Œé¦–å…ˆ<code>CanActivate</code>æ¥å£çš„æ–¹æ³•ä¼šè¢«æ‰§è¡Œï¼Œå½“è¿™ä¸ªè·¯ç”±å¯ä»¥è¢«æ¿€æ´»æ—¶ï¼Œ<code>Resolve</code>æ¥å£çš„æ–¹æ³•æ‰ä¼šè¢«æ‰§è¡Œã€‚</p><h2 id="å®ä¾‹"><a class="markdownIt-Anchor" href="#å®ä¾‹"></a> å®ä¾‹</h2><p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥é€šè¿‡ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„å®ä¾‹ï¼Œæ¥çœ‹çœ‹ï¼Œ<code>CanActivate</code>ï¼Œ<code>CanActivateChild</code>ï¼Œ<code>CanDeactivate</code>å’Œ<code>Resolve</code>çš„ç”¨æ³•ã€‚</p><h3 id="åœºæ™¯"><a class="markdownIt-Anchor" href="#åœºæ™¯"></a> åœºæ™¯</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€çœ‹è¦è§£å†³çš„ä¸€äº›é—®é¢˜ï¼š</p><ol><li>ç³»ç»Ÿçš„é»˜è®¤é¡µæ˜¯homeé¡µé¢ï¼Œè¿™ä¸ªé¡µé¢ä¸éœ€è¦ç™»å½•ä¹Ÿå¯ä»¥æ‰“å¼€ã€‚</li><li>ç™»é™†ä»¥åï¼Œç®¡ç†å‘˜å’Œç”¨æˆ·åˆ†åˆ«è¿›å…¥ä¸åŒçš„é¡µé¢ã€‚</li><li>æ‰€æœ‰çš„todoæ¨¡å—çš„é¡µé¢éƒ½éœ€è¦ç”¨æˆ·è§’è‰²ï¼Œç®¡ç†é¡µé¢éœ€è¦ç®¡ç†å‘˜è§’è‰²</li><li>åœ¨è¿›å…¥ä»»åŠ¡åˆ—è¡¨é¡µé¢ä¹‹å‰ï¼Œéœ€è¦è·å–ä»»åŠ¡åˆ—è¡¨æ•°æ®ï¼Œè€Œä¸æ˜¯è¿›å…¥é¡µé¢ä»¥åå†è·å–æ•°æ®ã€‚</li><li>å½“ç”¨æˆ·ç¦»å¼€ä»»åŠ¡è¯¦æƒ…é¡µæ—¶ï¼Œæç¤ºæ˜¯å¦ç¡®è®¤è¦ç¦»å¼€ã€‚</li></ol><h3 id="é»˜è®¤é¡µé¢home"><a class="markdownIt-Anchor" href="#é»˜è®¤é¡µé¢home"></a> é»˜è®¤é¡µé¢home</h3><p>é»˜è®¤é¡µé¢å°±æ˜¯å½“ç”¨æˆ·ç›´æ¥æ‰“å¼€ä½ çš„ç½‘é¡µåŸŸåï¼Œæ²¡æœ‰è¾“å…¥ä»»ä½•è·¯å¾„çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤æ‰“å¼€çš„é¡µé¢ï¼Œåœ¨ä¹‹å‰çš„æ•™ç¨‹å·²ç»è®²è¿‡ï¼Œè¿™æ˜¯åœ¨é…ç½®è·¯ç”±çš„æ—¶å€™ï¼Œç”¨<code>redirect</code>å®ç°ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    path: <span class="string">''</span>,</span><br><span class="line"></span><br><span class="line">    redirectTo: <span class="string">'/home'</span>,</span><br><span class="line"></span><br><span class="line">    pathMatch: <span class="string">'full'</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="authservice"><a class="markdownIt-Anchor" href="#authservice"></a> AuthService</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæƒé™éªŒè¯çš„æœåŠ¡<code>AuthService</code>ï¼Œé™¤äº†ç”¨æ¥è¿›è¡Œç™»é™†æ“ä½œï¼Œè¿˜ç”¨äºéªŒè¯æ˜¯å¦ç™»é™†ï¼Œæ˜¯å¦å…·æœ‰æ‹¥æœ‰æŸç§è§’è‰²ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Observable &#125; <span class="keyword">from</span> <span class="string">'rxjs/Observable'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'rxjs/add/observable/of'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AuthService &#123;</span><br><span class="line"></span><br><span class="line">    account: Account;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// simulation to login.</span></span><br><span class="line"></span><br><span class="line">    login(role: <span class="built_in">string</span>): Observable&lt;Account&gt; &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> account = <span class="keyword">new</span> Account();</span><br><span class="line"></span><br><span class="line">        account.id = <span class="number">11</span>;</span><br><span class="line"></span><br><span class="line">        account.name = <span class="string">'super man'</span>;</span><br><span class="line"></span><br><span class="line">        account.roles = [role];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.account = account;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Observable.of(account);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    getAccount(): Account &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.account;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    isLogdedin(): <span class="built_in">boolean</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.account &amp;&amp; <span class="keyword">this</span>.account.id != <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    hasRole(role: <span class="built_in">string</span>): <span class="built_in">boolean</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.account &amp;&amp; <span class="keyword">this</span>.account.roles.includes(role);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æœ€ä¸Šé¢æˆ‘ä»¬æ³¨æ„åˆ°æˆ‘ä»¬å¼•å…¥äº†<code>Observable</code>å’Œå®ƒçš„ä¸€ä¸ªæ–¹æ³•<code>of</code>ã€‚è¿™æ˜¯ç”±äºæˆ‘ä»¬çš„ç™»é™†æ“ä½œä¸€èˆ¬éƒ½æ˜¯å»æœåŠ¡å™¨ç«¯è¿›è¡Œç™»é™†éªŒè¯ï¼Œè€Œä½¿ç”¨<code>Http</code>æœåŠ¡ä»æœåŠ¡å™¨ç«¯è·å–æ•°æ®ä¸€èˆ¬éƒ½æ˜¯è¿”å›<code>Observable</code>ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿä½¿ç”¨<code>Observable</code>æ¥è¿”å›ç™»é™†åçš„ç”¨æˆ·ä¿¡æ¯ã€‚æˆ‘ä»¬å¼•å…¥<code>of</code>æ–¹æ³•ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å¯¹<code>Observable</code>çš„æ“ä½œéƒ½æ˜¯éœ€è¦ä»€ä¹ˆæ“ä½œç¬¦å°±å¼•å…¥ä»€ä¹ˆï¼Œè€Œä¸æ˜¯ç›´æ¥å¼•å…¥æ‰€æœ‰çš„ã€‚<br>æœ€åçš„<code>hasRole(role)</code>æ–¹æ³•çš„ç”¨é€”æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡µé¢ä¸Šé€šè¿‡<code>ngIf=&quot;hasRole('CUSTOMER')&quot;</code>çš„æ–¹å¼æ¥æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºæŸä¸ªé¡µé¢å…ƒç´ ã€‚</p><h3 id="è·¯ç”±å®šä¹‰"><a class="markdownIt-Anchor" href="#è·¯ç”±å®šä¹‰"></a> è·¯ç”±å®šä¹‰</h3><p>ä¹‹å‰todoæ¨¡å—çš„è·¯ç”±æ˜¯è¿™æ ·ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> TodoRoutes: Route[] = [</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        path: <span class="string">'todo'</span>,</span><br><span class="line"></span><br><span class="line">        children: [</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                path: <span class="string">'list'</span>,</span><br><span class="line"></span><br><span class="line">                component: TodoListComponent</span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                path: <span class="string">'detail/:id'</span>,</span><br><span class="line"></span><br><span class="line">                component: TodoDetailComponent</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>åœ¨è·¯å¾„<code>todo</code>ä¸‹é¢ï¼Œæœ‰ä¸¤ä¸ªå­è·¯ç”±ï¼Œåˆ†åˆ«æ˜¯åˆ—è¡¨å’Œè¯¦æƒ…ã€‚<br>ç„¶åå†é’ˆå¯¹ä¸‹é¢çš„éœ€æ±‚ï¼Œä¸€ä¸ªä¸ªæ¥è§£å†³ï¼š</p><ol><li>æ‰€æœ‰çš„todoæ¨¡å—çš„é¡µé¢éƒ½éœ€è¦ç”¨æˆ·è§’è‰²</li><li>ç¦»å¼€è¯¦æƒ…é¡µéœ€è¦ç¡®è®¤</li><li>è¿›å…¥åˆ—è¡¨é¡µé¢ä¹‹å‰éœ€è¦å…ˆè·å–ä»»åŠ¡åˆ—è¡¨æ•°æ®</li></ol><h3 id="æ§åˆ¶æ‰€æœ‰todoæ¨¡å—çš„éƒ½éœ€è¦ç”¨æˆ·è§’è‰²"><a class="markdownIt-Anchor" href="#æ§åˆ¶æ‰€æœ‰todoæ¨¡å—çš„éƒ½éœ€è¦ç”¨æˆ·è§’è‰²"></a> æ§åˆ¶æ‰€æœ‰todoæ¨¡å—çš„éƒ½éœ€è¦ç”¨æˆ·è§’è‰²</h3><p>å¯¹äºç¬¬ä¸€ä¸ªï¼Œæˆ‘ä»¬è¦ä¿æŠ¤æ‰€æœ‰çš„todoæ¨¡å—çš„é¡µé¢ï¼Œä¹Ÿå°±æ˜¯â€™/todoâ€™è·¯å¾„çš„æ‰€æœ‰å­è·¯å¾„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>CanActivateChild</code>ã€‚è¿™æ ·ï¼Œåœ¨æ¯è¿›å…¥ä¸€ä¸ªtodoçš„å­è·¯å¾„çš„æ—¶å€™ï¼Œéƒ½ä¼šå…ˆè¿›è¡Œæ£€æŸ¥æ¥åˆ¤æ–­èƒ½å¦è¿›å…¥ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Injectable &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; CanActivateChild, Router,</span><br><span class="line"></span><br><span class="line">    ActivatedRouteSnapshot, RouterStateSnapshot &#125; <span class="keyword">from</span> <span class="string">'@angular/router'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; AuthService &#125; <span class="keyword">from</span> <span class="string">'../services/auth.service'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; TodoDetailComponent &#125; <span class="keyword">from</span> <span class="string">'./detail/detail.component'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> MyTodoGuard <span class="keyword">implements</span> CanActivateChild &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> authService: AuthService, <span class="keyword">private</span> router: Router</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.authService.isLogdedin()) &#123;</span><br><span class="line"></span><br><span class="line">            alert(<span class="string">'You need to login!'</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.router.navigate([<span class="string">'/home'</span>]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.authService.hasRole(<span class="string">'CUSTOMER'</span>)) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ª<code>Guard</code>çš„å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯ç”¨<code>authService</code>æ¥åˆ¤æ–­æ˜¯å¦ç™»é™†ï¼Œä»¥åŠæ˜¯å¦å…·æœ‰â€™CUSTOMERâ€™è§’è‰²ã€‚<br>æ³¨æ„è¿™ä¸ª<code>Guard</code>çš„å®ç°ä¹Ÿå¿…é¡»æ˜¯<code>Injectable</code>çš„ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦Angularçš„ä¾èµ–æ³¨å…¥å¸®æˆ‘ä»¬åˆ›å»ºå®ä¾‹å’Œè‡ªåŠ¨æ³¨å…¥ã€‚</p><h3 id="ç¦»å¼€è¯¦æƒ…é¡µéœ€è¦ç¡®è®¤"><a class="markdownIt-Anchor" href="#ç¦»å¼€è¯¦æƒ…é¡µéœ€è¦ç¡®è®¤"></a> ç¦»å¼€è¯¦æƒ…é¡µéœ€è¦ç¡®è®¤</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹æ€ä¹ˆå®ç°ç¦»å¼€è¯¦æƒ…é¡µæ—¶çš„ç¡®è®¤ï¼Œä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨<code>CanDeactivate</code>ï¼Œå¹¶æŠŠå®ƒå®šä¹‰åœ¨è¯¦æƒ…é¡µçš„è·¯ç”±å®šä¹‰ä¸Šã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> CanLeaveTodoDetailGuard <span class="keyword">implements</span> CanDeactivate&lt;TodoDetailComponent\&gt; &#123;</span><br><span class="line"></span><br><span class="line">    canDeactivate(component: TodoDetailComponent, route: ActivatedRouteSnapshot, state: RouterStateSnapshot) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> confirm(<span class="string">'Confirm?'</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç®€å•ï¼Œä¸Šé¢çš„æ–¹æ³•ç›´æ¥è°ƒç”¨<code>confirm('confirm?')</code>å¹¶è¿”å›å®ƒçš„ç»“æœï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å‹çš„ç»“æœï¼Œè¡¨ç¤ºç”¨æˆ·æ˜¯å¦ç¡®è®¤ã€‚å¦‚æœç”¨æˆ·å–æ¶ˆäº†ï¼Œå°±ä¸ä¼šç¦»å¼€è¯¦æƒ…é¡µã€‚</p><h3 id="è¿›å…¥åˆ—è¡¨é¡µé¢ä¹‹å‰éœ€è¦å…ˆè·å–æ•°æ®"><a class="markdownIt-Anchor" href="#è¿›å…¥åˆ—è¡¨é¡µé¢ä¹‹å‰éœ€è¦å…ˆè·å–æ•°æ®"></a> è¿›å…¥åˆ—è¡¨é¡µé¢ä¹‹å‰éœ€è¦å…ˆè·å–æ•°æ®</h3><p>æœ€åï¼Œå†çœ‹çœ‹ç”¨<code>Resolve</code>æ¥å®ç°è¿›å…¥ä¸€ä¸ªé¡µé¢ä¹‹å‰çš„æ•°æ®åˆå§‹åŒ–ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Injectable &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Resolve, ActivatedRouteSnapshot, RouterStateSnapshot &#125; <span class="keyword">from</span> <span class="string">'@angular/router'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Todo &#125; <span class="keyword">from</span> <span class="string">'./todo'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; TodoService &#125; <span class="keyword">from</span> <span class="string">'./todo.service'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> MyTodoResolver <span class="keyword">implements</span> Resolve&lt;Todo\&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> todoService: TodoService</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Get my todo list.'</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.todoService.getAllTodos();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ª<code>resolve()</code>æ–¹æ³•ä¸­ï¼Œç›´æ¥è¿”å›è°ƒç”¨<code>todoService</code>çš„<code>getAllTodos()</code>æ–¹æ³•çš„ç»“æœã€‚å¯¹è¿™ä¸ª<code>getAllTodos()</code>æ–¹æ³•æˆ‘ä»¬åšä¸€äº›ä¿®æ”¹ï¼Œè®©ä»–è¿”å›ä¸€äº›æµ‹è¯•æ•°æ®ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Observable &#125; <span class="keyword">from</span> <span class="string">'rxjs/Observable'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'rxjs/add/observable/of'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'rxjs/add/operator/delay'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¥ç•¥ä¸­é—´çš„éƒ¨åˆ†</span></span><br><span class="line"></span><br><span class="line">  getAllTodos(): Observable&lt;Todo[]&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> todo1 = <span class="keyword">new</span> Todo();</span><br><span class="line"></span><br><span class="line">    todo1.id = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    todo1.title = <span class="string">'test task 1'</span>;</span><br><span class="line"></span><br><span class="line">    todo1.createdDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line">    todo1.complete = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> todo2 = <span class="keyword">new</span> Todo();</span><br><span class="line"></span><br><span class="line">    todo2.id = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    todo2.title = <span class="string">'test task 2'</span>;</span><br><span class="line"></span><br><span class="line">    todo2.createdDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line">    todo2.complete = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.todos = [todo1, todo2];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Observable.of(<span class="keyword">this</span>.todos).delay(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªæ–¹æ³•é‡Œæˆ‘ä»¬åˆ›å»ºäº†2ä¸ªæµ‹è¯•çš„ä»»åŠ¡ï¼Œå°è£…æˆ<code>Observable</code>è¿”å›ï¼Œå¹¶æ·»åŠ äº†ä¸€ä¸ª3ç§’é’Ÿçš„å»¶æ—¶ï¼Œæ¥æ¨¡æ‹Ÿä»æœåŠ¡å™¨ç«¯è·å–æ•°æ®çš„è¿‡ç¨‹ã€‚<br>é€šè¿‡<code>Resolve</code>æ–¹å¼è·å–çš„æ•°æ®ï¼Œä¼šæ”¾åœ¨è¢«æ¿€æ´»çš„å½“å‰è·¯ç”±çš„<code>data</code>å±æ€§é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­æ¥è·å¾—ã€‚æ‰€ä»¥ï¼Œéœ€è¦ä¿®æ”¹<code>TodoListComponent</code>ï¼Œä»è·¯ç”±çš„æ•°æ®<code>data</code>ä¸­è·å–<code>todos</code>çš„å€¼ã€‚ç„¶åå°±å¯ä»¥åœ¨é¡µé¢ä¸­æ˜¾ç¤ºï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> TodoListComponent &#123;</span><br><span class="line"></span><br><span class="line">    newTodo: Todo = <span class="keyword">new</span> Todo();</span><br><span class="line"></span><br><span class="line">    todos: Todo[];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> todoService: TodoService, <span class="keyword">private</span> route: ActivatedRoute</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.todos = <span class="keyword">this</span>.route.snapshot.data[<span class="string">'todos'</span>];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çœç•¥å…¶ä»–</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœ€ç»ˆçš„todoæ¨¡å—è·¯ç”±é…ç½®"><a class="markdownIt-Anchor" href="#æœ€ç»ˆçš„todoæ¨¡å—è·¯ç”±é…ç½®"></a> æœ€ç»ˆçš„todoæ¨¡å—è·¯ç”±é…ç½®</h3><p>æœ€åæˆ‘ä»¬å†çœ‹çœ‹åŠ ä¸Šä¸Šé¢çš„<code>Guard</code>å’Œ<code>Resolve</code>çš„è·¯ç”±é…ç½®ä»¥åï¼Œtodoæ¨¡å—çš„è·¯ç”±é…ç½®ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> TodoRoutes: Route[] = [</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        path: <span class="string">'todo'</span>,</span><br><span class="line"></span><br><span class="line">        canActivateChild: [MyTodoGuard],</span><br><span class="line"></span><br><span class="line">        children: [</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                path: <span class="string">'list'</span>,</span><br><span class="line"></span><br><span class="line">                component: TodoListComponent,</span><br><span class="line"></span><br><span class="line">                resolve: &#123; todos: MyTodoResolver &#125;</span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                path: <span class="string">'detail/:id'</span>,</span><br><span class="line"></span><br><span class="line">                component: TodoDetailComponent,</span><br><span class="line"></span><br><span class="line">                canDeactivate: [ CanLeaveTodoDetailGuard ]</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨â€™todoâ€™çš„è·¯ç”±ä¸ŠåŠ äº†ä¸€ä¸ª<code>canActivateChild</code>æ§åˆ¶èƒ½å¦æ¿€æ´»å­è·¯å¾„, åœ¨<code>list</code>çš„å­è·¯å¾„ä¸Šé…ç½®äº†ä¸€ä¸ª<code>resolve</code>æ¥è·å–æ•°æ®ï¼Œåœ¨<code>detail/:id</code>ä¸Šé…ç½®äº†ä¸€ä¸ª<code>canDeactivate</code>æ¥æ§åˆ¶èƒ½å¦ç¦»å¼€ã€‚</p><p>æœ€åï¼Œåˆ«å¿˜äº†æˆ‘ä»¬è¿˜éœ€è¦åœ¨<code>todo</code>æ¨¡å—çš„å®šä¹‰<code>TodoModule</code>é‡Œé¢çš„<code>providers</code>é‡Œæ·»åŠ è¿™äº›ï¼Œè¿™æ ·ä¾èµ–æ³¨å…¥åŠŸèƒ½æ‰èƒ½ä½¿ç”¨è¿™äº›æœåŠ¡ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line"></span><br><span class="line">  imports:      [CommonModule, FormsModule ],</span><br><span class="line"></span><br><span class="line">  declarations: [TodoListComponent, TodoDetailComponent, TodoItemComponent],</span><br><span class="line"></span><br><span class="line">  providers:    [TodoService, MyTodoResolver, MyTodoGuard, CanLeaveTodoDetailGuard]</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> TodoModule &#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="é€šç”¨çš„è§’è‰²éªŒè¯guard"><a class="markdownIt-Anchor" href="#é€šç”¨çš„è§’è‰²éªŒè¯guard"></a> é€šç”¨çš„è§’è‰²éªŒè¯Guard</h3><hr><p>åœ¨ä¸Šé¢çš„<code>MyTodoGuard</code>é‡Œé¢ï¼Œæˆ‘ä»¬åˆ¤æ–­å½“å‰çš„ç”¨æˆ·æ˜¯å¦å…·æœ‰<code>CUSTOMER</code>è§’è‰²ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤ŸæŠŠè¿™ä¸ªéœ€è¦åˆ¤æ–­çš„<code>CUSTOMER</code>è§’è‰²é€šè¿‡ä¸€ç§æ–¹å¼æ¥ä¼ é€’åˆ°è¿™ä¸ªæ–¹æ³•é‡Œé¢ï¼Œç„¶åé€šè¿‡ä¼ é€’ä¸åŒçš„å‚æ•°ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•æ¥åˆ¤æ–­è¿›å…¥ä»»æ„é¡µé¢çš„ç”¨æˆ·æ˜¯å¦å…·æœ‰æŸä¸ªè§’è‰²ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Angular2è·¯ç”±é‡Œé¢çš„<code>data</code>å±æ€§æ¥å®ç°ã€‚<br>å½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè·¯ç”±æ—¶ï¼Œå¯ä»¥é€šè¿‡<code>data</code>å±æ€§æ¥ç»™è¿™ä¸ªè·¯ç”±æ·»åŠ ä¸€äº›æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> TodoRoutes: Route[] = [</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        path: <span class="string">'todo'</span>,</span><br><span class="line"></span><br><span class="line">        data: &#123;</span><br><span class="line"></span><br><span class="line">            role: <span class="string">'CUSTOMER'</span></span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        canActivateChild: [MyTodoGuard],</span><br><span class="line"></span><br><span class="line">        children: [</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                path: <span class="string">'list'</span>,</span><br><span class="line"></span><br><span class="line">                component: TodoListComponent,</span><br><span class="line"></span><br><span class="line">                resolve: &#123;</span><br><span class="line"></span><br><span class="line">                    todos: MyTodoResolver</span><br><span class="line"></span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                data: &#123;</span><br><span class="line"></span><br><span class="line">                    title: <span class="string">'åˆ—è¡¨'</span></span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                path: <span class="string">'detail/:id'</span>,</span><br><span class="line"></span><br><span class="line">                component: TodoDetailComponent,</span><br><span class="line"></span><br><span class="line">                canDeactivate: [ CanLeaveTodoDetailGuard ],</span><br><span class="line"></span><br><span class="line">                data: &#123;</span><br><span class="line"></span><br><span class="line">                    title: <span class="string">'è¯¦æƒ…'</span></span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç»™â€™todoâ€™è¿™ä¸ªè·¯ç”±æ·»åŠ äº†1ä¸ªå˜é‡ï¼Œè§’è‰²ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªè·¯ç”±å®šä¹‰çš„ç»„ä»¶ä»¥åŠå®ƒæ‰€æœ‰çš„å­ç»„ä»¶ä¸­çš„å½“å‰è·¯ç”±ä¸­å¾—åˆ°è¿™äº›æ•°æ®ã€‚è€Œä¸”åœ¨å­è·¯ç”±é‡Œï¼Œéƒ½æ·»åŠ äº†ä¸€ä¸ª<code>title</code>çš„å˜é‡ã€‚ç„¶ååœ¨<code>TodoListComponent</code>é‡Œé¢å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå˜é‡ï¼Œæ¯”å¦‚åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> TodoListComponent &#123;</span><br><span class="line"></span><br><span class="line">    newTodo: Todo = <span class="keyword">new</span> Todo();</span><br><span class="line"></span><br><span class="line">    todos: Todo[];</span><br><span class="line"></span><br><span class="line">    title: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> todoService: TodoService, <span class="keyword">private</span> route: ActivatedRoute</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.todos = <span class="keyword">this</span>.route.snapshot.data[<span class="string">'todos'</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.title = <span class="keyword">this</span>.route.data[<span class="string">'title'</span>];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çœç•¥å…¶ä»–</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼ï¼Œåœ¨æ¯ä¸ªè·¯ç”±ä¸Šé…ç½®titleå±æ€§ï¼Œç„¶åå°±å¯ä»¥ç”¨ä¸€ç§é€šç”¨çš„æ–¹å¼æ¥å®ç°åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºé¢åŒ…å±‘å¯¼èˆªæ çš„åŠŸèƒ½ã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨è¿™ä¸ªå®ä¾‹ä¸­ï¼Œæˆ‘ä»¬è¦ç”¨<code>data</code>ä¸Šæ·»åŠ çš„<code>role: 'CUSTOMER'</code>ï¼Œç”¨å®ƒæ¥è¡¨ç¤ºå½“å‰çš„è¿™ä¸ªè·¯å¾„ï¼Œéœ€è¦æœ‰<code>CUSTOMER</code>è§’è‰²çš„ç”¨æˆ·æ‰èƒ½è®¿é—®ã€‚ç„¶ååœ¨<code>MyTodoGuard</code>é‡Œç”¨å®ƒæ¥åˆ¤æ–­ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> MyTodoGuard <span class="keyword">implements</span> CanActivateChild &#123;</span><br><span class="line"></span><br><span class="line">    canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.authService.isLogdedin()) &#123;</span><br><span class="line"></span><br><span class="line">            alert(<span class="string">'You need to login!'</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.router.navigate([<span class="string">'/home'</span>]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> requiredRole = next.data[<span class="string">'role'</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (requiredRole == <span class="literal">null</span> || <span class="keyword">this</span>.authService.hasRole(requiredRole)) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä»å°†è¦æ¿€æ´»çš„è·¯ç”±çš„æ•°æ®é‡Œé¢å¾—åˆ°<code>role</code>ï¼Œç„¶ååˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦å…·æœ‰è¿™ä¸ªè§’è‰²ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬çš„è¿™ä¸ª<code>MyTodoGuard</code>ï¼Œå¯ä»¥æŠŠå®ƒå®šä¹‰åœ¨æ ¹è·¯å¾„ä¸Šï¼Œå°±å¯ä»¥ä½œä¸ºä¸€ä¸ªé€šç”¨çš„ç”¨æˆ·æƒé™éªŒè¯çš„<code>Guard</code>æ¥ä½¿ç”¨ã€‚åªè¦è·¯å¾„ä¸Šå­˜åœ¨è¿™ä¸ªå€¼ï¼Œå°±è¯´æ˜éœ€è¦æƒé™ã€‚</p><p>å‚è€ƒèµ„æ–™</p><ul><li><a href="http://codin.im/2016/11/12/angular2-route-2-guard-resolve/" target="_blank" rel="noopener">angular2-route-2-guard-resolve</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Angular2æä¾›äº†2ç§ç»„ä»¶ï¼Œ&lt;code&gt;Guard&lt;/code&gt;å’Œ&lt;code&gt;Resolve&lt;/code&gt;ã€‚&lt;code&gt;Guard&lt;/code&gt;é¡¾åæ€ä¹‰å°±æ˜¯ç”¨æ¥ä¿æŠ¤ä¸€ä¸ªè·¯å¾„ã€‚å¯ä»¥ç”¨æ¥åˆ¤æ–­ç”¨æˆ·åªæœ‰åœ¨æ»¡è¶³ä¸€å®šçš„æ¡ä»¶çš„æƒ…å†µä¸‹æ‰èƒ½æ‰“å¼€è¿™ä¸ªè·¯å¾„å¯¹åº”çš„é¡µé¢ã€‚&lt;code&gt;Resolv
      
    
    </summary>
    
    
      <category term="angular" scheme="https://qingshaoxi.github.io/blog/tags/angular/"/>
    
      <category term="router" scheme="https://qingshaoxi.github.io/blog/tags/router/"/>
    
      <category term="guard" scheme="https://qingshaoxi.github.io/blog/tags/guard/"/>
    
  </entry>
  
  <entry>
    <title>æ°´è°ƒæ­Œå¤´Â·æ˜æœˆå‡ æ—¶æœ‰</title>
    <link href="https://qingshaoxi.github.io/blog/post/shui-diao-ge-tou.html"/>
    <id>https://qingshaoxi.github.io/blog/post/shui-diao-ge-tou.html</id>
    <published>2018-07-26T13:15:19.000Z</published>
    <updated>2019-02-27T07:32:29.953Z</updated>
    
    <content type="html"><![CDATA[<p>æ°´è°ƒæ­Œå¤´Â·æ˜æœˆå‡ æ—¶æœ‰<br>[å®‹] è‹è½¼<br>ä¸™è¾°ä¸­ç§‹ï¼Œæ¬¢é¥®è¾¾æ—¦ï¼Œå¤§é†‰ï¼Œä½œæ­¤ç¯‡ã€‚å…¼æ€€å­ç”±ã€‚<br>æ˜æœˆå‡ æ—¶æœ‰ï¼ŒæŠŠé…’é—®é’å¤©ã€‚<br>ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿ<br>æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œ<br>é«˜å¤„ä¸èƒœå¯’ã€‚<br>èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼</p><p>è½¬æœ±é˜ï¼Œä½ç»®æˆ·ï¼Œç…§æ— çœ ã€‚<br>ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿ<br>äººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œ<br>æ­¤äº‹å¤éš¾å…¨ã€‚<br>ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿ</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ°´è°ƒæ­Œå¤´Â·æ˜æœˆå‡ æ—¶æœ‰&lt;br&gt;
[å®‹] è‹è½¼&lt;br&gt;
ä¸™è¾°ä¸­ç§‹ï¼Œæ¬¢é¥®è¾¾æ—¦ï¼Œå¤§é†‰ï¼Œä½œæ­¤ç¯‡ã€‚å…¼æ€€å­ç”±ã€‚&lt;br&gt;
æ˜æœˆå‡ æ—¶æœ‰ï¼ŒæŠŠé…’é—®é’å¤©ã€‚&lt;br&gt;
ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿ&lt;br&gt;
æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œ&lt;br&gt;
é«˜å¤„ä¸èƒœå¯’ã€‚&lt;br&gt;
èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼&lt;/p&gt;
&lt;p
      
    
    </summary>
    
    
      <category term="poetry" scheme="https://qingshaoxi.github.io/blog/tags/poetry/"/>
    
      <category term="æ°´è°ƒæ­Œå¤´" scheme="https://qingshaoxi.github.io/blog/tags/%E6%B0%B4%E8%B0%83%E6%AD%8C%E5%A4%B4/"/>
    
      <category term="è‹è½¼" scheme="https://qingshaoxi.github.io/blog/tags/%E8%8B%8F%E8%BD%BC/"/>
    
  </entry>
  
  <entry>
    <title>ĞŸĞĞ ĞĞ“</title>
    <link href="https://qingshaoxi.github.io/blog/post/%D0%9F%D0%9E%D0%A0%D0%9E%D0%93.html"/>
    <id>https://qingshaoxi.github.io/blog/post/ĞŸĞĞ ĞĞ“.html</id>
    <published>2018-07-21T14:17:24.000Z</published>
    <updated>2019-02-27T07:32:29.966Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Ğ¿Ğ¾Ñ€Ğ¾Ğ³é—¨æ§›"><a class="markdownIt-Anchor" href="#Ğ¿Ğ¾Ñ€Ğ¾Ğ³é—¨æ§›"></a> ĞŸĞĞ ĞĞ“(é—¨æ§›)</h3><p>é—¨ æ§›</p><p>æˆ‘æ¢¦è§ä¸€å¹¢å¤§æ¥¼ã€‚</p><p>æ­£å¢™ä¸Šä¸€é“çª„å°çš„é—¨æ•å¼€ç€ï¼›é—¨é‡Œé˜´æ£®æ£®çš„ã€é»‘æ²‰æ²‰çš„ã€‚é«˜é«˜çš„é—¨æ§›å‰ç«™ç€ä¸€ä½å§‘å¨˜â€¦ä¸€ä½ä¿„ç½—æ–¯å§‘å¨˜ã€‚</p><p>é˜µé˜µå¯’æ°”ä»èŒ«èŒ«å†¥è‰²ä¸­é£˜äº†å‡ºæ¥ï¼›éšç€è¿™ä¸€é˜µé˜µå†·é£•é£•çš„å¯’æ°”ï¼Œä»å¤§æ¥¼æ·±å¤„ä¼ æ¥ä¸€ä¸ªç¼“æ…¢ã€ä½æ²‰çš„å£°éŸ³ã€‚</p><p>â€œä½ å‘€ï¼Œæƒ³è¦è·¨è¿›è¿™é“é—¨æ§›ï¼Œâ€”â€”ä½ çŸ¥é“æ˜¯ä»€ä¹ˆåœ¨ç­‰å¾…ä½ å—ï¼Ÿâ€</p><p>â€œçŸ¥é“ï¼Œâ€å§‘å¨˜å›ç­”é“ã€‚</p><p>â€œæ˜¯å¯’å†·ã€é¥¥é¥¿ã€ä»‡æ¨ã€è®¥ç¬‘ã€è”‘è§†ã€å±ˆè¾±ã€ç›‘ç‹±ã€ç–¾ç—…ã€ç”šè‡³æ­»äº¡ï¼ŒçŸ¥é“å—ï¼Ÿâ€</p><p>â€œçŸ¥é“ã€‚â€</p><p>â€œè¿œç¦»å°˜ä¸–ã€å­¤è‹¦ä¼¶ä»ƒå‘¢ï¼Ÿâ€</p><p>â€œçŸ¥é“ã€‚æˆ‘å·²ä½œå¥½å‡†å¤‡ã€‚æˆ‘èƒ½å¤Ÿæ‰¿å—ä¸€åˆ‡è‹¦éš¾ã€ä¸€åˆ‡æ‰“å‡»ã€‚â€</p><p>â€œä¸ä»…èƒ½æ‰¿å—æ¥è‡ªæ•Œäººçš„æ‰“å‡»ï¼Œè€Œä¸”ä¹Ÿèƒ½æ‰¿å—æ¥è‡ªäº²äººã€æ¥è‡ªæœ‹å‹çš„æ‰“å‡»å—ï¼Ÿâ€</p><p>â€œæ˜¯çš„â€¦ä¹Ÿèƒ½æ‰¿å—æ¥è‡ªä»–ä»¬çš„æ‰“å‡»ã€‚â€</p><p>â€œå¥½ã€‚ä½ å‡†å¤‡ä½œå‡ºç‰ºç‰²å—ï¼Ÿâ€</p><p>â€œæ˜¯çš„ã€‚â€</p><p>â€œå»ä½œæ— åçš„ç‰ºç‰²å—ï¼Ÿä½ ä¸€æ—¦æ­»å»ï¼Œä»»ä½•äººâ€¦ç”šè‡³ä»»ä½•äººéƒ½ä¸ä¼šçŸ¥é“ï¼Œè¯¥æ‚¼å¿µçš„æ˜¯ä½•è®¸äººï¼â€</p><p>â€œæˆ‘æ—¢ä¸éœ€è¦æ„Ÿæ¿€ï¼Œä¹Ÿä¸éœ€è¦æ€œæ‚¯ã€‚æˆ‘ä¸éœ€è¦å‡ºåã€‚â€</p><p>â€œä½ å‡†å¤‡çŠ¯ç½ªå—ï¼Ÿâ€</p><p>å§‘å¨˜ä½ä¸‹äº†å¤´â€¦</p><p>â€œå¯¹çŠ¯ç½ªæˆ‘ä¹Ÿä½œäº†å‡†å¤‡ã€‚â€</p><p>é‚£å£°éŸ³æ²¡æœ‰é©¬ä¸Šè¿½é—®ä¸‹å»ã€‚</p><p>â€œä½ çŸ¥é“å—ï¼Œâ€é‚£å£°éŸ³ç»ˆäºè¯´é“ï¼Œâ€œä½ å¯èƒ½ä¼šæ”¾å¼ƒç°åœ¨çš„ä¿¡ä»°ï¼Œä½ å¯èƒ½ä¼šè®¤è¯†åˆ°è‡ªå·±å—éª—ä¸Šå½“ï¼Œç™½ç™½æ¯æ‰äº†è‡ªå·±çš„é’æ˜¥å¹´åï¼Ÿâ€</p><p>â€œè¿™æˆ‘ä¹ŸçŸ¥é“ã€‚ä¸è¿‡æˆ‘è¿˜æ˜¯è¦è¿›å»ã€‚â€</p><p>â€œè¿›æ¥å§ï¼â€</p><p>å§‘å¨˜è·¨è¿›äº†é—¨æ§›ï¼Œä¸€é“æ²‰ç”¸ç”¸çš„é—¨å¸˜åœ¨å¥¹èº«åè½äº†ä¸‹æ¥ã€‚</p><p>â€œå‚»å§‘å¨˜ï¼â€æœ‰äººåœ¨åé¢å’¬ç‰™åˆ‡é½¿åœ°è¯´ã€‚</p><p>â€œåœ£å¥³ï¼â€ä¸çŸ¥ä»å“ªå„¿ä¼ æ¥è¿™æ ·çš„å›ç­”ã€‚</p><p>ĞŸĞĞ ĞĞ“</p><p>Ğ¯ Ğ²Ğ¸Ğ¶Ñƒ Ğ³Ñ€Ğ¾Ğ¼Ğ°Ğ´Ğ½Ğ¾Ğµ Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ.<br>Ğ’ Ğ¿ĞµÑ€ĞµĞ´Ğ½ĞµĞ¹ ÑÑ‚ĞµĞ½Ğµ ÑƒĞ·ĞºĞ°Ñ Ğ´Ğ²ĞµÑ€ÑŒ Ñ€Ğ°ÑĞºÑ€Ñ‹Ñ‚Ğ° Ğ½Ğ°ÑÑ‚ĞµĞ¶ÑŒ; Ğ·Ğ° Ğ´Ğ²ĞµÑ€ÑŒÑ â€” ÑƒĞ³Ñ€ÑĞ¼Ğ°Ñ Ğ¼Ğ³Ğ»Ğ°. ĞŸĞµÑ€ĞµĞ´ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¼ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğ¼ ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ´ĞµĞ²ÑƒÑˆĞºĞ°â€¦ Ğ ÑƒÑÑĞºĞ°Ñ Ğ´ĞµĞ²ÑƒÑˆĞºĞ°.<br>ĞœĞ¾Ñ€Ğ¾Ğ·Ğ¾Ğ¼ Ğ´Ñ‹ÑˆĞ¸Ñ‚ Ñ‚Ğ° Ğ½ĞµĞ¿Ñ€Ğ¾Ğ³Ğ»ÑĞ´Ğ½Ğ°Ñ Ğ¼Ğ³Ğ»Ğ°; Ğ¸ Ğ²Ğ¼ĞµÑÑ‚Ğµ Ñ Ğ»ĞµĞ´ĞµĞ½ÑÑ‰ĞµĞ¹ ÑÑ‚Ñ€ÑƒÑ‘Ğ¹ Ğ²Ñ‹Ğ½Ğ¾ÑĞ¸Ñ‚ÑÑ Ğ¸Ğ· Ğ³Ğ»ÑƒĞ±Ğ¸Ğ½Ñ‹ Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¼ĞµĞ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹, Ğ³Ğ»ÑƒÑ…Ğ¾Ğ¹ Ğ³Ğ¾Ğ»Ğ¾Ñ.<br>â€” Ğ Ñ‚Ñ‹, Ñ‡Ñ‚Ğ¾ Ğ¶ĞµĞ»Ğ°ĞµÑˆÑŒ Ğ¿ĞµÑ€ĞµÑÑ‚ÑƒĞ¿Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ¾Ñ‚ Ğ¿Ğ¾Ñ€Ğ¾Ğ³, Ğ·Ğ½Ğ°ĞµÑˆÑŒ Ğ»Ğ¸ Ñ‚Ñ‹, Ñ‡Ñ‚Ğ¾ Ñ‚ĞµĞ±Ñ Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµÑ‚?<br>â€” Ğ—Ğ½Ğ°Ñ,â€” Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ´ĞµĞ²ÑƒÑˆĞºĞ°.<br>â€” Ğ¥Ğ¾Ğ»Ğ¾Ğ´, Ğ³Ğ¾Ğ»Ğ¾Ğ´, Ğ½ĞµĞ½Ğ°Ğ²Ğ¸ÑÑ‚ÑŒ, Ğ½Ğ°ÑĞ¼ĞµÑˆĞºĞ°, Ğ¿Ñ€ĞµĞ·Ñ€ĞµĞ½Ğ¸Ğµ, Ğ¾Ğ±Ğ¸Ğ´Ğ°, Ñ‚ÑÑ€ÑŒĞ¼Ğ°, Ğ±Ğ¾Ğ»ĞµĞ·Ğ½ÑŒ Ğ¸ ÑĞ°Ğ¼Ğ°Ñ ÑĞ¼ĞµÑ€Ñ‚ÑŒ?<br>â€” Ğ—Ğ½Ğ°Ñ.<br>â€” ĞÑ‚Ñ‡ÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ, Ğ¾Ğ´Ğ¸Ğ½Ğ¾Ñ‡ĞµÑÑ‚Ğ²Ğ¾?<br>â€” Ğ—Ğ½Ğ°Ñâ€¦ Ğ¯ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ°. Ğ¯ Ğ¿ĞµÑ€ĞµĞ½ĞµÑÑƒ Ğ²ÑĞµ ÑÑ‚Ñ€Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ, Ğ²ÑĞµ ÑƒĞ´Ğ°Ñ€Ñ‹.<br>â€” ĞĞµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ñ‚ Ğ²Ñ€Ğ°Ğ³Ğ¾Ğ² â€” Ğ½Ğ¾ Ğ¸ Ğ¾Ñ‚ Ñ€Ğ¾Ğ´Ğ½Ñ‹Ñ…, Ğ¾Ñ‚ Ğ´Ñ€ÑƒĞ·ĞµĞ¹?<br>â€” Ğ”Ğ°â€¦ Ğ¸ Ğ¾Ñ‚ Ğ½Ğ¸Ñ….<br>â€” Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾. Ğ¢Ñ‹ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ° Ğ½Ğ° Ğ¶ĞµÑ€Ñ‚Ğ²Ñƒ?<br>â€” Ğ”Ğ°.<br>â€” ĞĞ° Ğ±ĞµĞ·Ñ‹Ğ¼ÑĞ½Ğ½ÑƒÑ Ğ¶ĞµÑ€Ñ‚Ğ²Ñƒ? Ğ¢Ñ‹ Ğ¿Ğ¾Ğ³Ğ¸Ğ±Ğ½ĞµÑˆÑŒ â€” Ğ¸ Ğ½Ğ¸ĞºÑ‚Ğ¾â€¦ Ğ½Ğ¸ĞºÑ‚Ğ¾ Ğ½Ğµ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ°Ğ¶Ğµ Ğ·Ğ½Ğ°Ñ‚ÑŒ, Ñ‡ÑŒÑ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸Ñ‚ÑŒ!..<br>â€” ĞœĞ½Ğµ Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ½Ğ¸ Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ğ½Ğ¾ÑÑ‚Ğ¸, Ğ½Ğ¸ ÑĞ¾Ğ¶Ğ°Ğ»ĞµĞ½Ğ¸Ñ. ĞœĞ½Ğµ Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¸Ğ¼ĞµĞ½Ğ¸.<br>â€” Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ° Ğ»Ğ¸ Ñ‚Ñ‹ Ğ½Ğ° Ğ¿Ñ€ĞµÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ğµ?<br>Ğ”ĞµĞ²ÑƒÑˆĞºĞ° Ğ¿Ğ¾Ñ‚ÑƒĞ¿Ğ¸Ğ»Ğ° Ğ³Ğ¾Ğ»Ğ¾Ğ²Ñƒâ€¦<br>â€” Ğ˜ Ğ½Ğ° Ğ¿Ñ€ĞµÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ğµ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ°.<br>Ğ“Ğ¾Ğ»Ğ¾Ñ Ğ½Ğµ Ñ‚Ğ¾Ñ‚Ñ‡Ğ°Ñ Ğ²Ğ¾Ğ·Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ğ» ÑĞ²Ğ¾Ğ¸ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹.<br>â€” Ğ—Ğ½Ğ°ĞµÑˆÑŒ Ğ»Ğ¸ Ñ‚Ñ‹,â€” Ğ·Ğ°Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ğ» Ğ¾Ğ½, Ğ½Ğ°ĞºĞ¾Ğ½ĞµÑ†,â€” Ñ‡Ñ‚Ğ¾ Ñ‚Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑˆÑŒ Ñ€Ğ°Ğ·ÑƒĞ²ĞµÑ€Ğ¸Ñ‚ÑŒÑÑ Ğ² Ñ‚Ğ¾Ğ¼, Ñ‡ĞµĞ¼Ñƒ Ğ²ĞµÑ€Ğ¸ÑˆÑŒ Ñ‚ĞµĞ¿ĞµÑ€ÑŒ, Ğ¼Ğ¾Ğ¶ĞµÑˆÑŒ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ, Ñ‡Ñ‚Ğ¾ Ğ¾Ğ±Ğ¼Ğ°Ğ½ÑƒĞ»Ğ°ÑÑŒ Ğ¸ Ğ´Ğ°Ñ€Ğ¾Ğ¼ Ğ¿Ğ¾Ğ³ÑƒĞ±Ğ¸Ğ»Ğ° ÑĞ²Ğ¾Ñ Ğ¼Ğ¾Ğ»Ğ¾Ğ´ÑƒÑ Ğ¶Ğ¸Ğ·Ğ½ÑŒ?<br>â€” Ğ—Ğ½Ğ°Ñ Ğ¸ ÑÑ‚Ğ¾. Ğ˜ Ğ²ÑÑ‘-Ñ‚Ğ°ĞºĞ¸ Ñ Ñ…Ğ¾Ñ‡Ñƒ Ğ²Ğ¾Ğ¹Ñ‚Ğ¸.<br>â€” Ğ’Ğ¾Ğ¹Ğ´Ğ¸!<br>Ğ”ĞµĞ²ÑƒÑˆĞºĞ° Ğ¿ĞµÑ€ĞµÑˆĞ°Ğ³Ğ½ÑƒĞ»Ğ° Ğ¿Ğ¾Ñ€Ğ¾Ğ³ â€” Ğ¸ Ñ‚ÑĞ¶Ñ‘Ğ»Ğ°Ñ Ğ·Ğ°Ğ²ĞµÑĞ° ÑƒĞ¿Ğ°Ğ»Ğ° Ğ·Ğ° Ğ½ĞµÑ.<br>â€” Ğ”ÑƒÑ€Ğ°!â€” Ğ¿Ñ€Ğ¾ÑĞºÑ€ĞµĞ¶ĞµÑ‚Ğ°Ğ» ĞºÑ‚Ğ¾-Ñ‚Ğ¾ ÑĞ·Ğ°Ğ´Ğ¸.<br>â€” Ğ¡Ğ²ÑÑ‚Ğ°Ñ!â€” Ğ¿Ñ€Ğ¸Ğ½ĞµÑĞ»Ğ¾ÑÑŒ Ğ¾Ñ‚ĞºÑƒĞ´Ğ°-Ñ‚Ğ¾ Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Ğ¿Ğ¾Ñ€Ğ¾Ğ³é—¨æ§›&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#Ğ¿Ğ¾Ñ€Ğ¾Ğ³é—¨æ§›&quot;&gt;&lt;/a&gt; ĞŸĞĞ ĞĞ“(é—¨æ§›)&lt;/h3&gt;
&lt;p&gt;é—¨ æ§›&lt;/p&gt;
&lt;p&gt;æˆ‘æ¢¦è§ä¸€å¹¢å¤§æ¥¼ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å¢™ä¸Šä¸€é“çª„å°çš„é—¨æ•å¼€ç€ï¼›é—¨é‡Œé˜´æ£®æ£®çš„ã€é»‘æ²‰æ²‰çš„ã€‚é«˜é«˜çš„
      
    
    </summary>
    
    
      <category term="poetry" scheme="https://qingshaoxi.github.io/blog/tags/poetry/"/>
    
      <category term="å± æ ¼æ¶…å¤«" scheme="https://qingshaoxi.github.io/blog/tags/%E5%B1%A0%E6%A0%BC%E6%B6%85%E5%A4%AB/"/>
    
      <category term="é—¨æ§›" scheme="https://qingshaoxi.github.io/blog/tags/%E9%97%A8%E6%A7%9B/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•ä½¿ç”¨nodejsæš´åŠ›æŠ“å–æ‹‰é’©å…¬å¸ä¿¡æ¯</title>
    <link href="https://qingshaoxi.github.io/blog/post/lagou-company-spider.html"/>
    <id>https://qingshaoxi.github.io/blog/post/lagou-company-spider.html</id>
    <published>2018-07-04T08:07:33.000Z</published>
    <updated>2019-02-27T07:32:29.940Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é¦–å…ˆæ•´ç†æ€è·¯"><a class="markdownIt-Anchor" href="#é¦–å…ˆæ•´ç†æ€è·¯"></a> é¦–å…ˆæ•´ç†æ€è·¯</h3><blockquote><p>æ‹‰å‹¾å…¬å¸ä¸»é¡µåœ°å€ <code>https://www.lagou.com/gongsi/id.html</code>, æ‰€ä»¥æˆ‘ä»¬ä¸»è¦è¦å¾—åˆ°å…¬å¸idï¼Œç„¶åç”¨idè¯·æ±‚ä¸»é¡µï¼ŒæŠ“å–ä¸»é¡µä¸­æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ã€‚<br>è¿›å…¥å…¬å¸é¡µé¢ï¼Œæµ‹è¯•ä¸­å‘ç°ï¼Œæ¯ä¸ªåŸå¸‚ä»£ç æ˜¯0-359ä¸­çš„ä¸€ä¸ªï¼Œæ‰€ä»¥æ„é€ ä¸€ä¸ª0-359çš„æ•°ç»„ï¼Œ<code>a = [...Array(360).keys()]</code><br>èèµ„é˜¶æ®µæ˜¯ <code>b = [...Array(8).keys()]</code>,0-8çš„æ•°ç»„<br>è¡Œä¸šé¢†åŸŸæ˜¯ <code>c = [24, 25, 33, 27, 29, 45, 31, 28, 47, 34, 35, 43, 32, 41, 26, 48, 38, 49, 15793, 15794, 10594]</code><br>ç„¶åç”¨è¿™ä¸‰ä¸ªæ•°ç»„æ’åˆ—ç»„åˆï¼Œç„¶åå»è®¿é—®<code>https://www.lagou.com/gongsi/a[i]-b[j]-c[k]</code><br>ä»æœç´¢åˆ°çš„åˆ—è¡¨ä¸­æ‰¾åˆ°å…¬å¸idæ‰€åœ¨ä½ç½® <code>ids = Array.from($('#company_list .item_con_list').children()) .map(item =&gt; $(item).find('a').data('lg-tj-cid'))</code><br>å‚¨å­˜ids</p></blockquote><h3 id="ä»£ç å®ç°"><a class="markdownIt-Anchor" href="#ä»£ç å®ç°"></a> ä»£ç å®ç°</h3><p>è¯¦è§<a href="https://github.com/whyour/lagou-company-spider" target="_blank" rel="noopener">github</a><br>æœ‰é—®é¢˜å¯ä»¥è¯„è®ºæˆ–è€…æissue</p><h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3><p><a href="https://github.com/sindresorhus/p-queue" target="_blank" rel="noopener">p-queue</a><br><a href="https://github.com/sindresorhus/p-retry" target="_blank" rel="noopener">p-retry</a><br><a href="https://github.com/GoogleChrome/puppeteer" target="_blank" rel="noopener">puppeteer</a><br><a href="https://github.com/yesvods/lagou-spider" target="_blank" rel="noopener">lagou-spider</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;é¦–å…ˆæ•´ç†æ€è·¯&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é¦–å…ˆæ•´ç†æ€è·¯&quot;&gt;&lt;/a&gt; é¦–å…ˆæ•´ç†æ€è·¯&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‹‰å‹¾å…¬å¸ä¸»é¡µåœ°å€ &lt;code&gt;https://www.lagou.com/gongsi/id.
      
    
    </summary>
    
    
      <category term="nodejs" scheme="https://qingshaoxi.github.io/blog/tags/nodejs/"/>
    
      <category term="puppeteer" scheme="https://qingshaoxi.github.io/blog/tags/puppeteer/"/>
    
      <category term="lagou" scheme="https://qingshaoxi.github.io/blog/tags/lagou/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•ç”¨nodejså’Œmongodbå†™ä¸€ä¸ªçš„api</title>
    <link href="https://qingshaoxi.github.io/blog/post/api.html"/>
    <id>https://qingshaoxi.github.io/blog/post/api.html</id>
    <published>2018-06-30T08:39:26.000Z</published>
    <updated>2019-02-27T07:32:29.917Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å…ˆç»™vpsä¸Šè£…ä¸Šnodejså’Œmongodb"><a class="markdownIt-Anchor" href="#å…ˆç»™vpsä¸Šè£…ä¸Šnodejså’Œmongodb"></a> å…ˆç»™vpsä¸Šè£…ä¸Š<code>nodejs</code>å’Œ<code>mongodb</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt install nodejs</span><br><span class="line">apt install mongodb</span><br></pre></td></tr></table></figure><h3 id="å†™ä¸€ä¸ªç”¨expressæ¡†æ¶çš„node-serverç”¨koaä¹Ÿä¸€æ ·"><a class="markdownIt-Anchor" href="#å†™ä¸€ä¸ªç”¨expressæ¡†æ¶çš„node-serverç”¨koaä¹Ÿä¸€æ ·"></a> å†™ä¸€ä¸ªç”¨expressæ¡†æ¶çš„ï¼Œnode serverï¼Œç”¨koaä¹Ÿä¸€æ ·</h3><h4 id="åˆ›å»ºä¸€ä¸ªmongoose-schemeç›¸å½“äºå­˜å…¥æ•°æ®åº“çš„æ•°æ®ç»“æ„æ¨¡å‹"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¸€ä¸ªmongoose-schemeç›¸å½“äºå­˜å…¥æ•°æ®åº“çš„æ•°æ®ç»“æ„æ¨¡å‹"></a> åˆ›å»ºä¸€ä¸ªmongoose scheme,ç›¸å½“äºå­˜å…¥æ•°æ®åº“çš„æ•°æ®ç»“æ„æ¨¡å‹</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</span><br><span class="line"><span class="keyword">var</span> Schema = mongoose.Schema;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = mongoose.model(<span class="string">'yiYan'</span>, <span class="keyword">new</span> Schema(&#123;</span><br><span class="line">    content: <span class="built_in">String</span>,</span><br><span class="line">    <span class="keyword">from</span>: <span class="built_in">String</span>,</span><br><span class="line">    <span class="keyword">type</span>: <span class="built_in">String</span>,</span><br><span class="line">    creator: <span class="built_in">String</span>,</span><br><span class="line">    yid: <span class="built_in">String</span>,</span><br><span class="line">    created_at: &#123;<span class="keyword">type</span>: <span class="built_in">Number</span>, <span class="keyword">default</span>: (<span class="built_in">Date</span>.now()/<span class="number">1000</span>).toPrecision(<span class="number">10</span>)&#125;</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºä¸€ä¸ªnode-server"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¸€ä¸ªnode-server"></a> åˆ›å»ºä¸€ä¸ªnode server</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&apos;express&apos;);</span><br><span class="line">var app = express();</span><br><span class="line">var mongoose = require(&apos;mongoose&apos;);</span><br><span class="line"></span><br><span class="line">var config = require(&apos;./config&apos;); //è¯»å–é…ç½®æ–‡ä»¶config.jsä¿¡æ¯</span><br><span class="line">var Yiyan = require(&apos;./app/models/yiyan&apos;); //è·å– yiyan model ä¿¡æ¯</span><br><span class="line">var port = process.env.PORT || 8080; // è®¾ç½®å¯åŠ¨ç«¯å£</span><br><span class="line">// è®¾ç½®responseå¤´ä¿¡æ¯</span><br><span class="line">app.use(function (req, res, next) &#123;</span><br><span class="line">    res.setHeader(&apos;Access-Control-Allow-Origin&apos;, &apos;https://ninesix.cc&apos;);</span><br><span class="line">    res.setHeader(&apos;Access-Control-Allow-Methods&apos;, &apos;GET, POST, OPTIONS, PUT, PATCH,DELETE&apos;);</span><br><span class="line">    res.setHeader(&apos;Access-Control-Allow-Credentials&apos;, true);</span><br><span class="line">    next();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(&apos;/&apos;, function (req, res) &#123;</span><br><span class="line">    res.send(&apos;Hello! The API is at http://localhost:&apos; + port + &apos;/api&apos;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// API è·¯ç”± -------------------</span><br><span class="line">app.get(&apos;/yiyan&apos;, function (req, res) &#123;</span><br><span class="line"></span><br><span class="line">    Yiyan.aggregate([&#123; $sample: &#123; size: 1 &#125; &#125;], function (err, data) &#123;</span><br><span class="line">        if (err) throw err;</span><br><span class="line">        res.send(&#123; code: 200, data: data[0] &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(&apos;/yi&apos;, function (req, res) &#123;</span><br><span class="line"></span><br><span class="line">    var user = new Yiyan(&#123;</span><br><span class="line">        content: &quot;è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å†…å®¹&quot;,</span><br><span class="line">        from: &quot;hunter&quot;,</span><br><span class="line">        type: &quot;e&quot;,</span><br><span class="line">        creator: &quot;hunter&quot;,</span><br><span class="line">        yid: &quot;12345&quot;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    user.save(function (err, data) &#123;</span><br><span class="line">        res.send(data);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(port);</span><br><span class="line">console.log(&apos;Magic happens at http://localhost:&apos; + port);</span><br></pre></td></tr></table></figure><h4 id="è®¾ç½®mongodbæœåŠ¡å™¨é…ç½®"><a class="markdownIt-Anchor" href="#è®¾ç½®mongodbæœåŠ¡å™¨é…ç½®"></a> è®¾ç½®mongodbæœåŠ¡å™¨é…ç½®</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="string">'database'</span>: <span class="string">'mongodb://ç”¨æˆ·å:å¯†ç @æœåŠ¡å™¨IP:27017/collectionå'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨æœåŠ¡"><a class="markdownIt-Anchor" href="#å¯åŠ¨æœåŠ¡"></a> å¯åŠ¨æœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node server.js</span><br></pre></td></tr></table></figure><blockquote><p>å®Œæ•´æºç  <a href="https://github.com/whyour/yiyanApi.git" target="_blank" rel="noopener">node api</a><br>æˆ‘çš„api <a href="https://api.ninesix.cc/yiyan" target="_blank" rel="noopener">yiyan</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å…ˆç»™vpsä¸Šè£…ä¸Šnodejså’Œmongodb&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å…ˆç»™vpsä¸Šè£…ä¸Šnodejså’Œmongodb&quot;&gt;&lt;/a&gt; å…ˆç»™vpsä¸Šè£…ä¸Š&lt;code&gt;nodejs&lt;/code&gt;å’Œ&lt;code&gt;mongodb&lt;/
      
    
    </summary>
    
    
      <category term="nodejs" scheme="https://qingshaoxi.github.io/blog/tags/nodejs/"/>
    
      <category term="mongodb" scheme="https://qingshaoxi.github.io/blog/tags/mongodb/"/>
    
      <category term="restful" scheme="https://qingshaoxi.github.io/blog/tags/restful/"/>
    
  </entry>
  
  <entry>
    <title>èˆŸå¤œä¹¦æ‰€è§</title>
    <link href="https://qingshaoxi.github.io/blog/post/zhou-ye-shu-suo-jian.html"/>
    <id>https://qingshaoxi.github.io/blog/post/zhou-ye-shu-suo-jian.html</id>
    <published>2018-06-18T09:22:03.000Z</published>
    <updated>2019-02-27T07:32:29.965Z</updated>
    
    <content type="html"><![CDATA[<p>æœˆé»‘è§æ¸”ç¯ï¼Œ<br>å­¤å…‰ä¸€ç‚¹è¤ã€‚<br>å¾®å¾®é£ç°‡æµªï¼Œ<br>æ•£ä½œæ»¡æ²³æ˜Ÿã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœˆé»‘è§æ¸”ç¯ï¼Œ&lt;br&gt;
å­¤å…‰ä¸€ç‚¹è¤ã€‚&lt;br&gt;
å¾®å¾®é£ç°‡æµªï¼Œ&lt;br&gt;
æ•£ä½œæ»¡æ²³æ˜Ÿã€‚&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="poetry" scheme="https://qingshaoxi.github.io/blog/tags/poetry/"/>
    
      <category term="æŸ¥æ…è¡Œ" scheme="https://qingshaoxi.github.io/blog/tags/%E6%9F%A5%E6%85%8E%E8%A1%8C/"/>
    
  </entry>
  
  <entry>
    <title>angular6ä¸­ä½¿ç”¨httpInterceptorå¤„ç†å‰ç«¯è¯·æ±‚</title>
    <link href="https://qingshaoxi.github.io/blog/post/httpInterceptor.html"/>
    <id>https://qingshaoxi.github.io/blog/post/httpInterceptor.html</id>
    <published>2018-06-15T11:36:34.000Z</published>
    <updated>2019-02-27T07:32:29.933Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨å‰ç«¯é¡¹ç›®ä¸­ï¼Œå¾€å¾€åœ¨è¯·æ±‚æœåŠ¡ç«¯çš„ api çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›è·¨åŸŸã€ç»Ÿä¸€å‰ç¼€ã€æ·»åŠ  cookie ç­‰ header ä¿¡æ¯çš„å¤„ç†ï¼Œè¿™æ—¶å€™ï¼Œåœ¨  angular ä¸­ï¼Œå°±ç”¨åˆ°äº† <code>httpInterceptor</code>ï¼Œä¸‹é¢ä»‹ç»å¦‚ä½•åœ¨ angular ä¸­ä½¿ç”¨ httpInterceptorã€‚</p><h3 id="åœ¨angularé¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºservice"><a class="markdownIt-Anchor" href="#åœ¨angularé¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºservice"></a> åœ¨<code>angular</code>é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º<code>service</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng g service httpInterceptor</span><br></pre></td></tr></table></figure><p>httpInterceptorService å…¶å®å°±æ˜¯ä¸€ä¸ªå®ç°äº† angular ä¸­ HttpInterceptor æ¥å£çš„ serviceï¼Œç„¶åå®ç°æ¥å£ä¸­çš„ intercept æ–¹æ³•ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Injectable &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>(&#123;</span><br><span class="line">  providedIn: <span class="string">'root'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> HttpInterceptorService &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¼•å…¥angularcommonhttp-æ¨¡å—"><a class="markdownIt-Anchor" href="#å¼•å…¥angularcommonhttp-æ¨¡å—"></a> å¼•å…¥@angular/common/http æ¨¡å—</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  HttpEvent, HttpInterceptor, HttpHandler,</span><br><span class="line">  HttpRequest, HttpResponse</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'@angular/common/http'</span>;</span><br></pre></td></tr></table></figure><h3 id="å¼•å…¥-rxjs-æ“ä½œç¬¦"><a class="markdownIt-Anchor" href="#å¼•å…¥-rxjs-æ“ä½œç¬¦"></a> å¼•å…¥ rxjs æ“ä½œç¬¦</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Observable &#125; <span class="keyword">from</span> <span class="string">'rxjs'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; finalize, tap, catchError, map &#125; <span class="keyword">from</span> <span class="string">'rxjs/operators'</span>;</span><br></pre></td></tr></table></figure><h3 id="finally-code"><a class="markdownIt-Anchor" href="#finally-code"></a> finally code</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> HttpInterceptorService <span class="keyword">implements</span> HttpInterceptor &#123;</span><br><span class="line">  intercept(req: HttpRequest&lt;<span class="built_in">any</span>&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;<span class="built_in">any</span>&gt;&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> secureReq: HttpRequest&lt;<span class="built_in">any</span>&gt; = req;</span><br><span class="line">    <span class="keyword">const</span> url = <span class="string">`<span class="subst">$&#123;config.apiUrl&#125;</span>/api/`</span>;   <span class="comment">//æ·»åŠ apiç»Ÿä¸€å‰ç¼€</span></span><br><span class="line">    <span class="keyword">const</span> params = req.params.append(<span class="string">'t'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>().getTime().toString());  <span class="comment">//è¯·æ±‚ä¸­æ·»åŠ æ—¶é—´æˆ³</span></span><br><span class="line">    secureReq = req.clone(&#123;</span><br><span class="line">        url: url + req.url,</span><br><span class="line">        params: params</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">const</span> started = <span class="built_in">Date</span>.now();</span><br><span class="line">    <span class="keyword">let</span> ok: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">return</span> next.handle(secureReq).pipe(</span><br><span class="line">        tap(</span><br><span class="line">            <span class="comment">// Succeeds when there is a response; ignore other events</span></span><br><span class="line">            event =&gt; &#123;</span><br><span class="line">                <span class="keyword">const</span> response = event <span class="keyword">as</span> HttpResponse&lt;<span class="built_in">any</span>&gt;;</span><br><span class="line">                ok = event <span class="keyword">instanceof</span> HttpResponse ? <span class="string">'succeeded'</span> : <span class="string">''</span>;</span><br><span class="line">                <span class="keyword">if</span> (response.body) &#123;    <span class="comment">//è¯·æ±‚çš„bodyç›´æ¥æ‹¿åˆ°è¿”å›çš„æ•°æ®ï¼Œè¿™æ—¶å¯åˆ¤æ–­é”™è¯¯ç ç­‰ä¿¡æ¯ã€‚</span></span><br><span class="line">                    (event <span class="keyword">as</span> <span class="built_in">any</span>).body = response.body.data;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            error =&gt; &#123;</span><br><span class="line">                error.method = req.method;</span><br><span class="line">                ok = <span class="string">'failed'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        ),</span><br><span class="line">        finalize(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> elapsed = <span class="built_in">Date</span>.now() - started;  <span class="comment">//å¯è®¡ç®—å‡ºè¯·æ±‚æ‰€æ¶ˆè€—æ—¶é—´</span></span><br><span class="line">            <span class="keyword">const</span> msg = <span class="string">`<span class="subst">$&#123;req.method&#125;</span> "<span class="subst">$&#123;req.urlWithParams&#125;</span>" <span class="subst">$&#123;ok&#125;</span> in <span class="subst">$&#123;elapsed&#125;</span> ms.`</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(msg);</span><br><span class="line">        &#125;));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨å‰ç«¯é¡¹ç›®ä¸­ï¼Œå¾€å¾€åœ¨è¯·æ±‚æœåŠ¡ç«¯çš„ api çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›è·¨åŸŸã€ç»Ÿä¸€å‰ç¼€ã€æ·»åŠ  cookie ç­‰ header ä¿¡æ¯çš„å¤„ç†ï¼Œè¿™æ—¶å€™ï¼Œåœ¨  angular ä¸­ï¼Œå°±ç”¨åˆ°äº† &lt;code&gt;httpInterceptor&lt;/code&gt;ï¼Œä¸‹é¢ä»‹ç»å¦‚ä½•åœ¨ angular ä¸­ä½¿ç”¨ h
      
    
    </summary>
    
    
      <category term="angular" scheme="https://qingshaoxi.github.io/blog/tags/angular/"/>
    
      <category term="angular6" scheme="https://qingshaoxi.github.io/blog/tags/angular6/"/>
    
      <category term="httpInterceptor" scheme="https://qingshaoxi.github.io/blog/tags/httpInterceptor/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨angular/cliå’Œtypescriptå¼€å‘npmæ¨¡å—</title>
    <link href="https://qingshaoxi.github.io/blog/post/ts-npm.html"/>
    <id>https://qingshaoxi.github.io/blog/post/ts-npm.html</id>
    <published>2018-06-01T02:49:19.000Z</published>
    <updated>2019-02-27T07:32:29.958Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1ä½¿ç”¨angularcliæ–°å»ºä¸€ä¸ªé¡¹ç›®"><a class="markdownIt-Anchor" href="#1ä½¿ç”¨angularcliæ–°å»ºä¸€ä¸ªé¡¹ç›®"></a> 1.ä½¿ç”¨angular/cliæ–°å»ºä¸€ä¸ªé¡¹ç›®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng new ng-hcharts</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¹‹å‰ç¡®è®¤ä½ ä»¥å…¨å±€å®‰è£…<code>angular/cli</code></p><h3 id="2åœ¨packagejsonä¸­çš„scriptåŠ å…¥"><a class="markdownIt-Anchor" href="#2åœ¨packagejsonä¸­çš„scriptåŠ å…¥"></a> 2.åœ¨<code>package.json</code>ä¸­çš„scriptåŠ å…¥</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">"build": "rimraf ./built/* ./codegen/* &amp;&amp; ngc -p tsconfig-dist.json",</span><br><span class="line">"build:ngm": "ngm build -p src --clean"</span><br></pre></td></tr></table></figure><p>è¿™é‡Œé¢ç”¨åˆ°äº†ä¸¤ä¸ªå…¶ä»–æ¨¡å—<a href="https://github.com/valor-software/ngm-cli" target="_blank" rel="noopener">ngm-cli</a>å’Œ<a href="https://github.com/isaacs/rimraf" target="_blank" rel="noopener">rimraf</a>éœ€è¦å…¨å±€å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g ngm-cli</span><br><span class="line">npm i -g rimraf</span><br></pre></td></tr></table></figure><h3 id="3åœ¨srcç›®å½•ä¸­æ–°å»ºä¸€ä¸ªç»„ä»¶ä½ éœ€è¦å‘å¸ƒçš„ç»„ä»¶"><a class="markdownIt-Anchor" href="#3åœ¨srcç›®å½•ä¸­æ–°å»ºä¸€ä¸ªç»„ä»¶ä½ éœ€è¦å‘å¸ƒçš„ç»„ä»¶"></a> 3.åœ¨<code>src</code>ç›®å½•ä¸­æ–°å»ºä¸€ä¸ªç»„ä»¶ï¼Œä½ éœ€è¦å‘å¸ƒçš„ç»„ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng g component ng-hcharts</span><br></pre></td></tr></table></figure><h3 id="4åœ¨srcç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªpackagejson"><a class="markdownIt-Anchor" href="#4åœ¨srcç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªpackagejson"></a> 4.åœ¨srcç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªpackage.json</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"ng-hcharts"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.6"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"Responsive highcharts for Angular2+ base on highcharts"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">"repository"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"git"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"git+ssh://git@github.com/whyour/ng-hcharts.git"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"keywords"</span>: [</span><br><span class="line">    <span class="string">"highcharts"</span>,</span><br><span class="line">    <span class="string">"angular2+"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"whyour"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">  <span class="attr">"bugs"</span>: &#123;</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://github.com/whyour/ng-hcharts/issues"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"homepage"</span>: <span class="string">"https://github.com/whyour/ng-hcharts#readme"</span>,</span><br><span class="line">  <span class="attr">"peerDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"@angular/common"</span>: <span class="string">"^6.0.3"</span>,</span><br><span class="line">    <span class="attr">"@angular/compiler"</span>: <span class="string">"^6.0.3"</span>,</span><br><span class="line">    <span class="attr">"@angular/core"</span>: <span class="string">"^6.0.3"</span>,</span><br><span class="line">    <span class="attr">"typescript"</span>: <span class="string">"~2.7.2"</span>,</span><br><span class="line">    <span class="attr">"highcharts"</span>: <span class="string">"^6.1.0"</span>,    </span><br><span class="line">    <span class="attr">"rxjs"</span>: <span class="string">"^6.2.0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€‰æ‹©æˆ–è®¾ç½®è‡ªå·±æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚ç„¶ååˆå§‹åŒ–ä¸€ä¸ªtsconfig.json</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc --init</span><br></pre></td></tr></table></figure><p>ç¡®è®¤ä½ å…¨å±€å®‰è£…äº†typescript</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"outDir"</span>: <span class="string">"../built"</span>,</span><br><span class="line">    <span class="attr">"rootDir"</span>: <span class="string">"./"</span>,</span><br><span class="line">    <span class="attr">"target"</span>: <span class="string">"es5"</span>,</span><br><span class="line">    <span class="attr">"module"</span>: <span class="string">"es2015"</span>,</span><br><span class="line">    <span class="attr">"moduleResolution"</span>: <span class="string">"node"</span>,</span><br><span class="line">    <span class="attr">"emitDecoratorMetadata"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"experimentalDecorators"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"sourceMap"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"inlineSources"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"noEmitHelpers"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"noImplicitAny"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"declaration"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"skipLibCheck"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"stripInternal"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"strictNullChecks"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"allowSyntheticDefaultImports"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"suppressImplicitAnyIndexErrors"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"noUnusedLocals"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"noUnusedParameters"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"lib"</span>: [</span><br><span class="line">      <span class="string">"dom"</span>,</span><br><span class="line">      <span class="string">"es6"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"types"</span>: [</span><br><span class="line">      <span class="string">"jasmine"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"exclude"</span>: [</span><br><span class="line">    <span class="string">"node_modules"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"files"</span>: [</span><br><span class="line">    <span class="string">"../scripts/typings.d.ts"</span>,</span><br><span class="line">    <span class="string">"./index.ts"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"angularCompilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"genDir"</span>: <span class="string">"../temp/factories"</span>,</span><br><span class="line">    <span class="attr">"strictMetadataEmit"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"skipTemplateCodegen"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"fullTemplateTypeCheck"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5æ‰“åŒ…ç»„ä»¶"><a class="markdownIt-Anchor" href="#5æ‰“åŒ…ç»„ä»¶"></a> 5.æ‰“åŒ…ç»„ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br><span class="line">npm run build:ngm</span><br></pre></td></tr></table></figure><h3 id="6å‘å¸ƒnpmåŒ…"><a class="markdownIt-Anchor" href="#6å‘å¸ƒnpmåŒ…"></a> 6.å‘å¸ƒnpmåŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> built</span><br><span class="line">npm run patch</span><br><span class="line">npm run publish</span><br></pre></td></tr></table></figure><p><code>npm run patch</code>ä¼šå¢åŠ ä¸€ä¸ªbugç‰ˆæœ¬ï¼Œå‡å¦‚å½“å‰ç‰ˆæœ¬æ˜¯<code>1.0.0</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm run patch /* æ‰§è¡Œä¹‹åç‰ˆæœ¬å°±æ˜¯`1.0.1` */</span><br><span class="line">/* å†æ‰§è¡Œ */</span><br><span class="line">npm run patch /* æ‰§è¡Œä¹‹åç‰ˆæœ¬å°±æ˜¯`1.0.2` */</span><br></pre></td></tr></table></figure><p>è¯¦è§<a href="https://docs.npmjs.com/cli/version" target="_blank" rel="noopener">npm-version</a><br>å®Œæ•´æ¨¡å—<a href="https://github.com/whyour/ng-hcharts" target="_blank" rel="noopener">ng-hcharts</a><br><a href="https://github.com/whyour/ng-hcharts-ele" target="_blank" rel="noopener">ng-hcharts-ele</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1ä½¿ç”¨angularcliæ–°å»ºä¸€ä¸ªé¡¹ç›®&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#1ä½¿ç”¨angularcliæ–°å»ºä¸€ä¸ªé¡¹ç›®&quot;&gt;&lt;/a&gt; 1.ä½¿ç”¨angular/cliæ–°å»ºä¸€ä¸ªé¡¹ç›®&lt;/h3&gt;
&lt;figure class=&quot;highlig
      
    
    </summary>
    
    
      <category term="angular" scheme="https://qingshaoxi.github.io/blog/tags/angular/"/>
    
      <category term="angular/cli" scheme="https://qingshaoxi.github.io/blog/tags/angular-cli/"/>
    
      <category term="typescript" scheme="https://qingshaoxi.github.io/blog/tags/typescript/"/>
    
      <category term="npm" scheme="https://qingshaoxi.github.io/blog/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>TLS 1.3 is coming</title>
    <link href="https://qingshaoxi.github.io/blog/post/tls1-3.html"/>
    <id>https://qingshaoxi.github.io/blog/post/tls1-3.html</id>
    <published>2018-05-24T06:04:14.000Z</published>
    <updated>2019-02-27T07:32:29.957Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯tls-13"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯tls-13"></a> ä»€ä¹ˆæ˜¯TLS 1.3 ï¼Ÿ</h3><blockquote><p><code>TLS 1.3</code>å°±æ˜¯<code>TLS</code>çš„å‡çº§ç‰ˆæœ¬ï¼ŒTLSæ˜¯ä¸€ç§ä¸ºäº†äº’è”ç½‘é€šä¿¡å®‰å…¨ä¿éšœçš„ä¸€ç§å®‰å…¨åè®®ï¼Œç§°ä¸º<code>ä¼ è¾“å±‚å®‰å…¨æ€§åè®®</code>(Transport Layer Security)ã€‚</p></blockquote><p>æˆªè‡³2018å¹´3æœˆ21æ—¥ï¼ŒTLS 1.3æ˜¯ä¸€ä¸ªå·²ç»æˆä¸ºå»ºè®®æ ‡å‡†ï¼ˆProposed Standardï¼‰[10]çš„äº’è”ç½‘è‰æ¡ˆ[11]ã€‚å®ƒåŸºäºæ›´æ—©çš„TLS 1.2è§„èŒƒï¼Œä¸TLS 1.2çš„ä¸»è¦åŒºåˆ«åŒ…æ‹¬ï¼š</p><ul><li>å°†å¯†é’¥åå•†å’Œè®¤è¯ç®—æ³•ä»å¯†ç åŒ…ä¸­åˆ†ç¦»å‡ºæ¥ã€‚</li><li>ç§»é™¤è„†å¼±å’Œè¾ƒå°‘ä½¿ç”¨çš„å‘½åæ¤­åœ†æ›²çº¿æ”¯æŒ</li><li>ç§»é™¤MD5å’ŒSHA-224å¯†ç æ•£åˆ—å‡½æ•°çš„æ”¯æŒ</li><li>è¯·æ±‚æ•°å­—ç­¾åï¼Œå³ä¾¿ä½¿ç”¨ä¹‹å‰çš„é…ç½®</li><li>é›†æˆHKDFå’ŒåŠçŸ­æš‚DHæè®®</li><li>æ›¿æ¢ä½¿ç”¨PSKå’Œç¥¨æ®çš„æ¢å¤</li><li>æ”¯æŒ1-RTTæ¡æ‰‹å¹¶åˆæ­¥æ”¯æŒ0-RTT</li><li>é€šè¿‡åœ¨(EC)DHå¯†é’¥åè®®æœŸé—´ä½¿ç”¨ä¸´æ—¶å¯†é’¥æ¥ä¿è¯å®Œå–„çš„å‰å‘å®‰å…¨æ€§ã€‚</li><li>æ”¾å¼ƒè®¸å¤šä¸å®‰å…¨æˆ–è¿‡æ—¶ç‰¹æ€§çš„æ”¯æŒï¼ŒåŒ…æ‹¬æ•°æ®å‹ç¼©ã€é‡æ–°åå•†ã€éAEADå¯†ç æœ¬ã€é™æ€RSAå’Œé™æ€DHå¯†é’¥äº¤æ¢ã€è‡ªå®šä¹‰DHEåˆ†ç»„ã€ç‚¹æ ¼å¼åå•†ã€æ›´æ”¹å¯†ç æœ¬è§„èŒƒçš„åè®®ã€UNIXæ—¶é—´çš„Helloæ¶ˆæ¯ï¼Œä»¥åŠé•¿åº¦å­—æ®µADè¾“å…¥åˆ°AEADå¯†ç æœ¬</li><li>ç¦æ­¢ç”¨äºå‘åå…¼å®¹æ€§çš„SSLå’ŒRC4åå•†</li><li>é›†æˆä¼šè¯æ•£åˆ—çš„ä½¿ç”¨</li><li>å¼ƒç”¨è®°å½•å±‚ç‰ˆæœ¬å·å’Œå†»ç»“æ•°ä»¥æ”¹è¿›å‘åå…¼å®¹æ€§</li><li>å°†ä¸€äº›å®‰å…¨ç›¸å…³çš„ç®—æ³•ç»†èŠ‚ä»é™„å½•ç§»åŠ¨åˆ°æ ‡å‡†ï¼Œå¹¶å°†ClientKeyShareé™çº§åˆ°é™„å½•</li><li>æ·»åŠ å¸¦æœ‰Poly1305æ¶ˆæ¯éªŒè¯ç çš„ChaCha20æµåŠ å¯†</li><li>æ·»åŠ Ed25519å’ŒEd448æ•°å­—ç­¾åç®—æ³•</li><li>æ·»åŠ x25519å’Œx448å¯†é’¥äº¤æ¢åè®®</li></ul><blockquote><p>å› ä¸ºæœ¬åšä½¿ç”¨çš„æ˜¯nginxï¼Œæ‰€ä»¥è¦å…ˆæŠŠopensslå‡çº§åˆ°1.1.1ï¼Œç›®å‰çš„ç‰ˆæœ¬æ˜¯1.1.0ï¼Œæ‰€ä»¥åªè¦ç¼–è¯‘å®‰è£…opensslå°±å¯ä»¥ï¼Œä¸éœ€è¦ç¼–è¯‘nginxï¼Œç›®å‰chromeæ”¯æŒçš„æ˜¯draft23ï¼Œå‘æ–‡æ—¶é—´æˆªæ­¢é€‚ç”¨openssl1.1.1 pre2ï¼Œè¿›å…¥æœåŠ¡å™¨ä»»æ„ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl https://www.openssl.org/<span class="built_in">source</span>/old/1.1.1/openssl-1.1.1-pre2.tar.gz</span><br><span class="line">tar -zxf openssl-1.1.1-pre2.tar.gz</span><br><span class="line"><span class="built_in">cd</span>  openssl-1.1.1-pre2</span><br><span class="line">./config  --prefix=/usr/<span class="built_in">local</span> --openssldir=/usr/<span class="built_in">local</span>/ssl</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>å¦‚æœ/usr/localä¸‹æ²¡æœ‰sslæ–‡ä»¶å¤¹ï¼Œè¦è‡ªå·±æ–°å»ºä¸€ä¸ªsslæ–‡ä»¶å¤¹<code>mkdir ssl</code></p><p>æŸ¥çœ‹opensslç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl version -a</span><br></pre></td></tr></table></figure><p><code>debian</code>æˆ–è€…<code>Ubuntu</code>ä¸‹å®‰è£…<code>nginx</code>æœ€æ–°<code>stable</code>ç‰ˆï¼Œè¦å…ˆæŠŠ<code>nginx</code>çš„åŒ…åœ°å€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb http://nginx.org/packages/debian/ stretch nginx</span><br><span class="line">deb-src http://nginx.org/packages/debian/ stretch nginx</span><br></pre></td></tr></table></figure><p>åŠ å…¥æœåŠ¡å™¨<code>source.list</code>,æˆ‘çš„æ˜¯<code>debian</code>åœ¨<code>/etc/apt/source.list</code>ï¼Œç„¶åæ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install nginx</span><br></pre></td></tr></table></figure><p>ç„¶åæŸ¥çœ‹nginxç‰ˆæœ¬<code>nginx -V</code>ï¼Œç»“æœå¦‚ä¸‹å›¾ï¼š<br><img src="https://i.loli.net/2019/01/05/5c30cee3b9ad9.jpg" alt="nginx-version.jpg"><br>æœ€åä¿®æ”¹nginxé…ç½®æ–‡ä»¶ï¼Œåœ¨443ç«¯å£serverä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><blockquote><p>ssl_ciphers EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:<br>EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:<br>EECDH+ECDSA+3DES:EECDH+aRSA+3DES:RSA+3DES:!MD5;<br>ssl_protocols TLSv1.2 TLSv1.3;</p></blockquote><p>å¦å¤–ï¼Œchromeè¦è¿›å…¥<code>chrome://flags</code>ï¼Œæœç´¢tlsï¼Œé€‰æ‹© enabled(draft23)</p><p>å¼€å¯å‰æˆªå›¾<br><img src="https://s2.ax1x.com/2019/01/06/FHC540.jpg" alt="tls1-2.jpg"><br>å¼€å¯åæˆªå›¾<br><img src="https://s2.ax1x.com/2019/01/06/FHCoCV.jpg" alt="tls1-3.jpg"></p><h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3><ul><li><a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="noopener">ä¼ è¾“å±‚å®‰å…¨æ€§åè®®</a></li><li><a href="https://imququ.com/post/enable-tls-1-3.html" target="_blank" rel="noopener">ä½ç‰ˆæœ¬opensslå¼€å¯tls1.3</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ä»€ä¹ˆæ˜¯tls-13&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä»€ä¹ˆæ˜¯tls-13&quot;&gt;&lt;/a&gt; ä»€ä¹ˆæ˜¯TLS 1.3 ï¼Ÿ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;TLS 1.3&lt;/code&gt;å°±æ˜¯&lt;code&gt;TLS&lt;/co
      
    
    </summary>
    
    
      <category term="TLS" scheme="https://qingshaoxi.github.io/blog/tags/TLS/"/>
    
      <category term="TLS1.3" scheme="https://qingshaoxi.github.io/blog/tags/TLS1-3/"/>
    
  </entry>
  
  <entry>
    <title>debian9 ä¸­æ–‡æ˜¾ç¤ºä¹±ç </title>
    <link href="https://qingshaoxi.github.io/blog/post/locale.html"/>
    <id>https://qingshaoxi.github.io/blog/post/locale.html</id>
    <published>2018-05-20T15:13:27.000Z</published>
    <updated>2019-02-27T07:32:29.942Z</updated>
    
    <content type="html"><![CDATA[<h3 id="debian9ä¿®å¤æ–‡ä»¶ä¸­éƒ¨åˆ†ä¸­æ–‡æ˜¾ç¤ºä¹±ç "><a class="markdownIt-Anchor" href="#debian9ä¿®å¤æ–‡ä»¶ä¸­éƒ¨åˆ†ä¸­æ–‡æ˜¾ç¤ºä¹±ç "></a> debian9ä¿®å¤æ–‡ä»¶ä¸­éƒ¨åˆ†ä¸­æ–‡æ˜¾ç¤ºä¹±ç </h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">LANGUAGE</span>=en_US.UTF-8</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">LANG</span>=en_US.UTF-8</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">LC_ALL</span>=en_US.UTF-8</span><br><span class="line">locale-gen en_US.UTF-8</span><br><span class="line">apt-<span class="builtin-name">get</span> install locale</span><br><span class="line">dpkg-reconfigure locales</span><br></pre></td></tr></table></figure><blockquote><p><code>dpkg-reconfigure locales</code>é…ç½®æ˜¯åªé€‰ä¸­<code>en_US.UTF-8</code>ï¼Œç„¶åtabé”®ç¡®è®¤ã€‚</p></blockquote><p><code>locale</code> å‘½ä»¤æŸ¥çœ‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;debian9ä¿®å¤æ–‡ä»¶ä¸­éƒ¨åˆ†ä¸­æ–‡æ˜¾ç¤ºä¹±ç &quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#debian9ä¿®å¤æ–‡ä»¶ä¸­éƒ¨åˆ†ä¸­æ–‡æ˜¾ç¤ºä¹±ç &quot;&gt;&lt;/a&gt; debian9ä¿®å¤æ–‡ä»¶ä¸­éƒ¨åˆ†ä¸­æ–‡æ˜¾ç¤ºä¹±ç &lt;/h3&gt;
&lt;figure class=&quot;highli
      
    
    </summary>
    
    
      <category term="debian" scheme="https://qingshaoxi.github.io/blog/tags/debian/"/>
    
      <category term="linux" scheme="https://qingshaoxi.github.io/blog/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>angular6ä¸­ä½¿ç”¨highCharts</title>
    <link href="https://qingshaoxi.github.io/blog/post/ng-highcharts.html"/>
    <id>https://qingshaoxi.github.io/blog/post/ng-highcharts.html</id>
    <published>2018-05-06T14:17:25.000Z</published>
    <updated>2019-02-27T07:32:29.943Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å…¨å±€å®‰è£…-angularclinext"><a class="markdownIt-Anchor" href="#å…¨å±€å®‰è£…-angularclinext"></a> å…¨å±€å®‰è£… angular/cli@next</h3><p><code>npm i -g @angular/cli@next</code></p><h3 id="åˆ›å»ºæ–°é¡¹ç›®"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ–°é¡¹ç›®"></a> åˆ›å»ºæ–°é¡¹ç›®</h3><p><code>ng new ng6hc</code></p><h3 id="è¿›å…¥-ng6hc-cd-ng6hc-æ‰§è¡Œ-npm-i"><a class="markdownIt-Anchor" href="#è¿›å…¥-ng6hc-cd-ng6hc-æ‰§è¡Œ-npm-i"></a> è¿›å…¥ ng6hc <code>cd ng6hc</code> æ‰§è¡Œ <code>npm i</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ng6hc</span><br><span class="line">npm i</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-highcharts-ä¾èµ–"><a class="markdownIt-Anchor" href="#å®‰è£…-highcharts-ä¾èµ–"></a> å®‰è£… highcharts ä¾èµ–</h3><p><code>npm install highcharts-angular</code><br>Get package from NPM in your Angular app:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install highcharts-angular</span><br></pre></td></tr></table></figure><p>åœ¨ app.module.ts æ·»åŠ  HighchartsChartComponent:</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">import</span> &#123; HighchartsChartComponent &#125; <span class="keyword">from</span> <span class="string">'highcharts-angular'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚è¿‡ç¼–è¯‘ä¸é€šè¿‡ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼å¼•å…¥ï¼Œéœ€è¦åœ¨appæ–‡ä»¶å¤¹ä¸‹åˆ›å»º highcharts-chart.component.ts æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// import &#123; HighchartsChartComponent &#125; from './highcharts-chart.component';</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  declarations: [</span><br><span class="line">    HighchartsChartComponent,</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install highcharts --save</span><br></pre></td></tr></table></figure><p>ç„¶å app.component.ts, å¼•å…¥ highcharts</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Highcharts <span class="keyword">from</span> <span class="string">'highcharts'</span>;</span><br></pre></td></tr></table></figure><p>åœ¨ app.component.html ä¸­ä½¿ç”¨ç»„ä»¶ <code>highcharts-chart</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">highcharts-chart</span> </span></span><br><span class="line"><span class="tag">  [<span class="attr">Highcharts</span>]=<span class="string">"Highcharts"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">  [<span class="attr">constructorType</span>]=<span class="string">"chartConstructor"</span></span></span><br><span class="line"><span class="tag">  [<span class="attr">options</span>]=<span class="string">"chartOptions"</span></span></span><br><span class="line"><span class="tag">  [<span class="attr">callbackFunction</span>]=<span class="string">"chartCallback"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">  [(<span class="attr">update</span>)]=<span class="string">"updateFlag"</span></span></span><br><span class="line"><span class="tag">  [<span class="attr">oneToOne</span>]=<span class="string">"oneToOneFlag"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">"width: 100%; height: 400px; display: block;"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">highcharts-chart</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œ-ng-serve"><a class="markdownIt-Anchor" href="#è¿è¡Œ-ng-serve"></a> è¿è¡Œ ng serve</h3><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src="https://i.loli.net/2019/02/26/5c74fc5dacba0.png" alt="ng6hc.png"><br><a href="https://github.com/whyour/ng6hc.git" target="_blank" rel="noopener">demo åœ°å€</a></p><h3 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h3><p>åæœŸåšäº†ä¸€ä¸ªç”¨ angular å†™çš„ highcharts ç»„ä»¶ï¼Œ<a href="https://github.com/whyour/ng-hcharts" target="_blank" rel="noopener">ng-hcharts</a> å¯ä»¥æ”¯æŒ angular2+é¡¹ç›®ä¸­ä½¿ç”¨ã€‚å¦å¤–ä¸ºäº†è‡ªé€‚åº”å®½åº¦ï¼Œåœ¨è°ƒç”¨ç»„ä»¶çš„æ—¶å€™ï¼Œè®¾ç½® highcharts é…ç½®éå†æ—¶éœ€è¦æ”¾åœ¨ setTimeout ä¸­ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å…¨å±€å®‰è£…-angularclinext&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å…¨å±€å®‰è£…-angularclinext&quot;&gt;&lt;/a&gt; å…¨å±€å®‰è£… angular/cli@next&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;npm i -g @ang
      
    
    </summary>
    
    
      <category term="angular6" scheme="https://qingshaoxi.github.io/blog/tags/angular6/"/>
    
      <category term="ng6" scheme="https://qingshaoxi.github.io/blog/tags/ng6/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow.jså¿«é€Ÿå…¥é—¨æ•™ç¨‹</title>
    <link href="https://qingshaoxi.github.io/blog/post/tensorFlow-js.html"/>
    <id>https://qingshaoxi.github.io/blog/post/tensorFlow-js.html</id>
    <published>2018-04-22T07:12:49.000Z</published>
    <updated>2019-02-27T07:32:29.955Z</updated>
    
    <content type="html"><![CDATA[<p>Google åœ¨TensorFlow Dev Summit 2018ä¸Šæ¨å‡ºäº†TensorFlow.jsï¼Œä¸ºæµè§ˆå™¨ä¸­çš„æœºå™¨å­¦ä¹ ï¼ˆMLï¼‰æ¨¡å‹æ‰“å¼€äº†å¤§é—¨ã€‚è¿™æ„å‘³ç€Webå¼€å‘äººå‘˜å¯ä»¥åšäº›äº‹æƒ…ï¼Œä¾‹å¦‚â€¦</p><ol><li>æ„å»ºéšç§å‹å¥½çš„AIåŠŸèƒ½ã€‚æ•°æ®æ°¸è¿œä¸ä¼šç¦»å¼€å®¢æˆ·ç«¯ï¼Œå› æ­¤æ‚¨å¯ä»¥æ„å»ºæ·±åº¦å­¦ä¹ æ¨¡å‹è€Œæ— éœ€æŸ¥çœ‹å®é™…æ•°æ®ã€‚</li><li>åœ¨æ‚¨çš„åº”ç”¨ä¸­ä½¿ç”¨é¢„å…ˆè®­ç»ƒå¥½çš„Python MLæ¨¡å‹ã€‚æœ‰è®¸å¤šæˆåŠŸçš„åŸºäºPythonçš„æ¨¡å‹å¯ä»¥åŠ è½½åˆ°æµè§ˆå™¨ä¸­ï¼Œå¹¶ä»¥æœ€å°‘çš„ä»£ç å¼€å§‹è¿è¡Œé¢„æµ‹ã€‚</li><li>åœ¨Firebaseäº‘ç«¯å‡½æ•°ä¸­åŸ¹è®­MLæ¨¡å‹ï¼ˆå½“NodeJSæ”¯æŒç™»é™†å›¾ä¹¦é¦†æ—¶ï¼‰ã€‚ ã€ã€ã€ã€ã€</li><li>å¯èƒ½è¿˜æœ‰å¾ˆå¤šåˆ›æ„å¼€å‘è€…ä¼šæƒ³åˆ°çš„å…¶ä»–ä¸œè¥¿ã€‚<br>åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬è¦åšä¸¤ä»¶äº‹æƒ…ï¼šï¼ˆ1ï¼‰ä»å¤´å¼€å§‹æ„å»ºå’Œè®­ç»ƒä¸€ä¸ªç®€å•çš„çº¿æ€§å›å½’æ¨¡å‹ï¼Œï¼ˆ2ï¼‰å¯¼å…¥ä¸€ä¸ªåœ¨Pythonä¸­è®­ç»ƒçš„æ•°å­—è¯†åˆ«å™¨æ¨¡å‹ï¼Œä»¥ä¾¿ä»JavaScriptåº”ç”¨ç¨‹åºä¸­è¿›è¡Œé¢„æµ‹ã€‚</li></ol><p><img src="/postImg/tfjs-1.gif" alt=""></p><h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬åº”è¯¥å…³å¿ƒtensorflow"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬åº”è¯¥å…³å¿ƒtensorflow"></a> ä¸ºä»€ä¹ˆæˆ‘ä»¬åº”è¯¥å…³å¿ƒTensorFlowï¼Ÿ</h2><p>TensorFlowæ˜¯ä¸€æ¬¾ç”¨äºæ‰§è¡Œå’Œåˆ†é…æ•°å­¦è¿ç®—çš„ä»¤äººéš¾ä»¥ç½®ä¿¡çš„å·¥å…·ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰MLçš„èƒŒæ™¯å’Œé«˜è´¨é‡æ•°æ®çš„è®¿é—®æƒé™ï¼Œå®ƒå°†å¯¹æ‚¨å®Œå…¨æ— ç”¨ã€‚è¿™ä¸æ˜¯é­”æœ¯ã€‚ä¸€ä¸ªæˆåŠŸçš„ç®—æ³•å¾€å¾€æ˜¯è®¸å¤šå°æ—¶çš„æ•°æ®å‡†å¤‡ï¼Œæ¢ç´¢æ€§åˆ†æå’Œå®éªŒçš„ç»“æœã€‚</p><p>ä½†æ˜¯æˆ‘æœ‰å¥½æ¶ˆæ¯â€¦ä½ å¯ä»¥ä½¿ç”¨é«˜åº¦æµè¡Œçš„Keras Pythonåº“ä¸­çš„é¢„è®­ç»ƒæ¨¡å‹æ¥åšå‡ºé¢„æµ‹ã€‚æ‰€ä»¥ä½ ä¸éœ€è¦æˆä¸ºå…·æœ‰åšå£«å­¦ä½çš„æ•°æ®ç§‘å­¦å®¶æ¥æ„å»ºæœªæ¥çš„MLé©±åŠ¨åº”ç”¨ç¨‹åºã€‚</p><h2 id="æ„å»ºåº”ç”¨ç¨‹åº"><a class="markdownIt-Anchor" href="#æ„å»ºåº”ç”¨ç¨‹åº"></a> æ„å»ºåº”ç”¨ç¨‹åº</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåº”ç”¨ç¨‹åºåœ¨ç½‘ç»œä¸ŠæŠ•æ”¾ã€‚å½“ç„¶ï¼Œæˆ‘å°†ä½¿ç”¨Angular CLIç”Ÿæˆåº”ç”¨ç¨‹åºï¼Œä½†æ‚¨å¯ä»¥åœ¨æœ¬è¯¾ä¸­ä½¿ç”¨ä»»ä½•JavaScript Webåº”ç”¨ç¨‹åºä¸­çš„TensorFlowä»£ç ã€‚</p><p>æˆ‘æ•…æ„å¿½ç•¥äº†è§†é¢‘ä¸­çœ‹åˆ°çš„å›¾è¡¨å’Œå¯ç»˜åˆ¶ç”»å¸ƒæŒ‡ä»¤çš„ä»£ç ï¼Œä½†æ‚¨å¯ä»¥åœ¨æºä»£ç ä¸­æ‰¾åˆ°å®ƒã€‚</p><h3 id="ç¬¬1æ­¥-ç”Ÿæˆä¸€ä¸ªè§’åº¦çš„åº”ç”¨ç¨‹åº"><a class="markdownIt-Anchor" href="#ç¬¬1æ­¥-ç”Ÿæˆä¸€ä¸ªè§’åº¦çš„åº”ç”¨ç¨‹åº"></a> ç¬¬1æ­¥ - ç”Ÿæˆä¸€ä¸ªè§’åº¦çš„åº”ç”¨ç¨‹åº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @angular/cli </span><br><span class="line">ng tensorflowApp</span><br></pre></td></tr></table></figure><h3 id="ç¬¬2æ­¥-å®‰è£…tensorflowjs"><a class="markdownIt-Anchor" href="#ç¬¬2æ­¥-å®‰è£…tensorflowjs"></a> ç¬¬2æ­¥ - å®‰è£…Tensorflow.js</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> tensorflowApp </span><br><span class="line">npm install @tensorflow/tfjs --save</span><br></pre></td></tr></table></figure><h2 id="è®­ç»ƒä¸€ä¸ªåŸºæœ¬çš„tensorflowjsçº¿æ€§æ¨¡å‹"><a class="markdownIt-Anchor" href="#è®­ç»ƒä¸€ä¸ªåŸºæœ¬çš„tensorflowjsçº¿æ€§æ¨¡å‹"></a> è®­ç»ƒä¸€ä¸ªåŸºæœ¬çš„TensorFlow.jsçº¿æ€§æ¨¡å‹</h2><p>åœ¨ä¸‹é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨TensorFlow.jsè¿›è¡Œæ„å»ºï¼Œè®­ç»ƒå’Œé¢„æµ‹ã€‚æˆ‘ä»¬çš„MLæ¨¡å‹åªæ˜¯ä¸€ä¸ªç®€å•çš„çº¿æ€§å›å½’ï¼Œå®ƒå°†ä¸€ç»´å€¼ä½œä¸ºè¾“å…¥ï¼Œå¹¶å°è¯•å°†ä¸€æ¡ç›´çº¿æ‹Ÿåˆåˆ°æ•°æ®é›†ã€‚<br><img src="/postImg/linear-regression.png" alt=""><br>æ¨¡å‹è®­ç»ƒå®Œæˆåï¼Œæˆ‘ä»¬ä¼šå‘ç”¨æˆ·æ˜¾ç¤ºä¸€ä¸ªè¡¨å•è¾“å…¥ï¼Œå½“æ•°å€¼å‘ç”Ÿå˜åŒ–æ—¶ä¼šè¿›è¡Œæ–°çš„é¢„æµ‹ã€‚<br><img src="/postImg/angular-tensorflow-train.gif" alt=""></p><h3 id="ç¬¬3æ­¥-å¯¼å…¥tensorflowjs"><a class="markdownIt-Anchor" href="#ç¬¬3æ­¥-å¯¼å…¥tensorflowjs"></a> ç¬¬3æ­¥ - å¯¼å…¥TensorFlow.js</h3><p>æˆ‘å°†å†™å…¥æ‰€æœ‰çš„ä»£ç app.component.tsã€‚æ³¨æ„train()ç»„ä»¶åˆå§‹åŒ–æ—¶æˆ‘ä»¬å¦‚ä½•è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, OnInit &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> tf <span class="keyword">from</span> <span class="string">'@tensorflow/tfjs'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;...&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppComponent <span class="keyword">implements</span> OnInit &#123;</span><br><span class="line"></span><br><span class="line">  linearModel: tf.Sequential;</span><br><span class="line">  prediction: <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line">  ngOnInit() &#123;</span><br><span class="line">    <span class="keyword">this</span>.train();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> train() &#123;</span><br><span class="line">    <span class="comment">// todo</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  predict(val) &#123;</span><br><span class="line">    <span class="comment">// todo</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬4æ­¥-å»ºç«‹æœºå™¨å­¦ä¹ æ¨¡å‹"><a class="markdownIt-Anchor" href="#ç¬¬4æ­¥-å»ºç«‹æœºå™¨å­¦ä¹ æ¨¡å‹"></a> ç¬¬4æ­¥ - å»ºç«‹æœºå™¨å­¦ä¹ æ¨¡å‹</h3><p>æœºå™¨å­¦ä¹ æ¨¡å‹é€šè¿‡è¿­ä»£å¤šæ‰¹æ ·æœ¬å¹¶æ…¢æ…¢ä¼˜åŒ–é¢„æµ‹æ¥è®­ç»ƒã€‚å¤§å¤šæ•°ç¥ç»ç½‘ç»œä½¿ç”¨æ¢¯åº¦ä¸‹é™çš„ä¸€äº›å˜åŒ–ä½œä¸ºä¼˜åŒ–å™¨ - æˆ‘ä»¬ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆSGDï¼‰æ¥æœ€å°åŒ–å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„é¢†åŸŸï¼Œå¯ä»¥å¡«æ»¡æ•´æœ¬ä¹¦ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> train(): <span class="built_in">Promise</span>&lt;<span class="built_in">any</span>&gt; &#123;</span><br><span class="line">  <span class="comment">// Define a model for linear regression.</span></span><br><span class="line">  <span class="keyword">this</span>.linearModel = tf.sequential();</span><br><span class="line">  <span class="keyword">this</span>.linearModel.add(tf.layers.dense(&#123;units: <span class="number">1</span>, inputShape: [<span class="number">1</span>]&#125;));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Prepare the model for training: Specify the loss and the optimizer.</span></span><br><span class="line">  <span class="keyword">this</span>.linearModel.compile(&#123;loss: <span class="string">'meanSquaredError'</span>, optimizer: <span class="string">'sgd'</span>&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Training data, completely random stuff</span></span><br><span class="line">  <span class="keyword">const</span> xs = tf.tensor1d([<span class="number">3.2</span>, <span class="number">4.4</span>, <span class="number">5.5</span>]);</span><br><span class="line">  <span class="keyword">const</span> ys = tf.tensor1d([<span class="number">1.6</span>, <span class="number">2.7</span>, <span class="number">3.5</span>]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Train</span></span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">this</span>.linearModel.fit(xs, ys)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'model trained!'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬5æ­¥-ä½¿ç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹"><a class="markdownIt-Anchor" href="#ç¬¬5æ­¥-ä½¿ç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹"></a> ç¬¬5æ­¥ - ä½¿ç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹</h3><p>ç°åœ¨æˆ‘ä»¬çš„æ¨¡å‹å·²ç»è¿‡è®­ç»ƒï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒæä¾›å€¼æ¥è¿›è¡Œé¢„æµ‹ã€‚TensorFlowè¿è¡Œåœ¨ä¼šè¯çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è°ƒç”¨dataSyncTensorå€¼æ¥å°†æ•°æ®æå–åˆ°JavaScriptä¸­å¯ç”¨çš„æŸäº›å†…å®¹ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">predict(val: number) &#123;</span><br><span class="line">  <span class="keyword">const</span> output = <span class="keyword">this</span>.linearModel.predict(tf.tensor2d([val], [<span class="number">1</span>, <span class="number">1</span>])) <span class="keyword">as</span> any;</span><br><span class="line">  <span class="keyword">this</span>.prediction = <span class="built_in">Array</span>.from(output.dataSync())[<span class="number">0</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“HTMLè¡¨å•è¾“å…¥æ–‡ä»¶å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ­¤æ–¹æ³•ä½œä¸ºäº‹ä»¶å¤„ç†ç¨‹åºè¿è¡Œã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">TensorFlow says &#123;&#123; prediction &#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> (<span class="attr">change</span>)=<span class="string">"predict($event.target.value)"</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•ä½¿ç”¨é¢„è®­ç»ƒçš„python-kerasæ¨¡å‹"><a class="markdownIt-Anchor" href="#å¦‚ä½•ä½¿ç”¨é¢„è®­ç»ƒçš„python-kerasæ¨¡å‹"></a> å¦‚ä½•ä½¿ç”¨é¢„è®­ç»ƒçš„Python Kerasæ¨¡å‹</h2><p>è®­ç»ƒæ¨¡å¼å¯ä»¥æ˜¯éå¸¸CPUå’Œå†…å­˜å¯†é›†å‹çš„-è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¤§éƒ¨åˆ†è½¦å‹éƒ½åœ¨è®­ç»ƒçš„é«˜æ€§èƒ½å›¾å½¢å¤„ç†å™¨ï¼Œå¯ä»¥æœ‰æ•ˆåœ°åˆ†å‘å‡ åäº¿çŸ©é˜µçš„ä¹˜æ³•è¿ç®—ã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢„å…ˆè®­ç»ƒå¥½çš„æ¨¡å‹å®Œå…¨ç»•è¿‡è¿™ä¸€æ­¥ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ç›´æ¥è·³åˆ°æœ‰è¶£çš„éƒ¨åˆ† - åšå‡ºé¢„æµ‹ã€‚æ‚¨å¯ä»¥åœ¨Kaggleå†…æ ¸ä¸Šæ‰¾åˆ°å„ç§ä¸åŒåº”ç”¨ç¨‹åºçš„æ¨¡å‹ã€‚</p><p>åœ¨ä¸‹é¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬ä¼šåŸºäºKerasï¼Œå·ç§¯ç¥ç»ç½‘ç»œè½¬æ¢æˆé¢„æµ‹ä»è‘—åçš„æ‰‹å†™æ•°å­—çš„å€¼çš„æ¨¡å‹MNISTæ•°æ®é›†ã€‚</p><h3 id="ç¬¬6æ­¥-å°†kerasæ¨¡å‹è½¬æ¢ä¸ºtensorflowjs"><a class="markdownIt-Anchor" href="#ç¬¬6æ­¥-å°†kerasæ¨¡å‹è½¬æ¢ä¸ºtensorflowjs"></a> ç¬¬6æ­¥ - å°†Kerasæ¨¡å‹è½¬æ¢ä¸ºTensorFlow.js</h3><p>TensorFlow.jsæœ‰ä¸€ä¸ªPython CLIå·¥å…·ï¼Œå¯å°†h5ä¿å­˜åœ¨Kerasä¸­çš„æ¨¡å‹è½¬æ¢ä¸ºå¯ç”¨äºWebçš„è®¾ç½®æ–‡ä»¶ã€‚é€šè¿‡è¿è¡Œæ¥å®‰è£…å®ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install tensorflowjs</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œæ‚¨éœ€è¦åœ¨æœ¬åœ°ç³»ç»Ÿä¸Šä¿å­˜Kerasæ¨¡å‹ã€‚å¦‚æœæ‚¨ä¸ºæœ¬è¯¾å¤åˆ¶é¡¹ç›®ï¼Œåˆ™å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥ç”Ÿæˆæ¨¡å‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tensorflowjs_converter --input_format keras \</span><br><span class="line">                       keras/cnn.h5 \</span><br><span class="line">                       src/assets</span><br></pre></td></tr></table></figure><p>ç›®å‰ï¼Œæˆ‘å°†è¾“å‡ºä¿å­˜åœ¨Angularåº”ç”¨ç¨‹åºçš„assetsæ–‡ä»¶å¤¹ä¸­ï¼Œä½†TFä¹Ÿå¯ä»¥ä»URLä¸­è¯»å–ï¼Œå› æ­¤æ‚¨è¿˜å¯ä»¥å°†æ¨¡å‹æ–‡ä»¶ä¿å­˜åœ¨äº‘å­˜å‚¨å­˜å‚¨æ¡¶ä¸­ã€‚</p><h3 id="ç¬¬7æ­¥-åŠ è½½æ¨¡å‹"><a class="markdownIt-Anchor" href="#ç¬¬7æ­¥-åŠ è½½æ¨¡å‹"></a> ç¬¬7æ­¥ - åŠ è½½æ¨¡å‹</h3><p>ç°åœ¨æˆ‘ä»¬åŠ è½½ä¸€ä¸ªç®€å•çš„å•è¡Œç¨‹æ¨¡å‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> loadModel() &#123;</span><br><span class="line">  <span class="keyword">this</span>.model = <span class="keyword">await</span> tf.loadModel(<span class="string">'/assets/model.json'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬8æ­¥-ä»å›¾åƒæ•°æ®è¿›è¡Œé¢„æµ‹"><a class="markdownIt-Anchor" href="#ç¬¬8æ­¥-ä»å›¾åƒæ•°æ®è¿›è¡Œé¢„æµ‹"></a> ç¬¬8æ­¥ - ä»å›¾åƒæ•°æ®è¿›è¡Œé¢„æµ‹</h3><p>ç°åœ¨æˆ‘ä»¬çš„æ¨¡å‹å·²ç»åŠ è½½å®Œæ¯•ï¼Œå®ƒæœŸå¾…ç€å››ç»´å›¾åƒæ•°æ®çš„å½¢çŠ¶[any, 28, 28, 1]- å¯ä»¥è½¬æ¢ä¸ºæ‰¹é‡ï¼Œå®½åº¦åƒç´ ï¼Œé«˜åº¦åƒç´ å’Œé¢œè‰²é€šé“ã€‚ä¸€ç§æ›´ç®€å•çš„æ–¹å¼æ¥æ€è€ƒå®ƒåªæ˜¯ä¸€ä¸ªå…·æœ‰å•ä¸€é¢œè‰²é€šé“çš„å›¾åƒé˜µåˆ—ã€‚</p><p>æˆ‘ä»¬åœ¨tf.tidyä¸­è¿è¡Œæˆ‘ä»¬çš„é¢„æµ‹æ¥æ¸…ç†åˆ†é…ç»™å¼ é‡çš„ä¸­é—´å†…å­˜ã€‚åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬åªæ˜¯æƒ³é¿å…å†…å­˜æ³„æ¼ã€‚</p><p>TensorFlow.jsä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªfromPixelså¸®åŠ©ï¼Œå¯å°†ImageData HTMLå¯¹è±¡è½¬æ¢ä¸ºå¼ é‡ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ™®é€šHTMLImageElementæˆ–ç”šè‡³è§†é¢‘ã€‚åœ¨å¼•æ“ç›–ä¸‹å®ƒå°†åƒç´ å˜æˆä¸€ä¸ªæ•°å­—çš„3DçŸ©é˜µã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> predict(imageData: ImageData) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> tf.tidy(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Convert the canvas pixels to a Tensor of the matching shape</span></span><br><span class="line">    <span class="keyword">let</span> img = tf.fromPixels(imageData, <span class="number">1</span>);</span><br><span class="line">    img = img.reshape([<span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>]);</span><br><span class="line">    img = tf.cast(img, <span class="string">'float32'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Make and format the predications</span></span><br><span class="line">    <span class="keyword">const</span> output = <span class="keyword">this</span>.model.predict(img) <span class="keyword">as</span> <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Save predictions on the component</span></span><br><span class="line">    <span class="keyword">this</span>.predictions = <span class="built_in">Array</span>.from(output.dataSync()); </span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥æ–¹æ³•çš„ç»“æœæ˜¯ä¸€ä¸ªç”±10ä¸ªæ•°å€¼ç»„æˆçš„æ•°ç»„ï¼Œæ€»å’Œä¸º1ï¼Œè¿™æ˜¯ä¸€ä¸ªç§°ä¸ºsoftmaxçš„é¢„æµ‹å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¦‚ç‡æœ€é«˜çš„ç´¢å¼•ä½œä¸ºæ•°å­—çš„é¢„æµ‹ã€‚</p><p>æ ¹æ®ä¸‹é¢çš„é¢„æµ‹ï¼Œæ¨¡å‹å°†è§£é‡Šç”»å¸ƒä¸Šç»˜åˆ¶çš„å›¾åƒçš„å€¼ä¸º2ï¼Œç½®ä¿¡åº¦ä¸º93ï¼…ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0.02</span>, <span class="number">0.003</span>, <span class="number">0.93</span>, ...]</span><br></pre></td></tr></table></figure><blockquote><p>ç¿»è¯‘è‡ª <a href="https://angularfirebase.com/lessons/tensorflow-js-quick-start/" target="_blank" rel="noopener">tensorflow-js-app</a>  <a href="https://github.com/AngularFirebase/97-tensorflowjs-quick-start" target="_blank" rel="noopener">source code1</a>  <a href="https://github.com/whyour/tensorflowApp" target="_blank" rel="noopener">source code2</a></p></blockquote><h3 id="ç›¸å…³èµ„æ–™"><a class="markdownIt-Anchor" href="#ç›¸å…³èµ„æ–™"></a> ç›¸å…³èµ„æ–™</h3><ul><li><a href="https://github.com/tensorflow/tfjs-converter" target="_blank" rel="noopener">tfjs-converter</a></li><li><a href="https://keras.io/" target="_blank" rel="noopener">keras</a></li><li><a href="https://www.tensorflow.org/" target="_blank" rel="noopener">tensorflow</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Google åœ¨TensorFlow Dev Summit 2018ä¸Šæ¨å‡ºäº†TensorFlow.jsï¼Œä¸ºæµè§ˆå™¨ä¸­çš„æœºå™¨å­¦ä¹ ï¼ˆMLï¼‰æ¨¡å‹æ‰“å¼€äº†å¤§é—¨ã€‚è¿™æ„å‘³ç€Webå¼€å‘äººå‘˜å¯ä»¥åšäº›äº‹æƒ…ï¼Œä¾‹å¦‚â€¦&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ„å»ºéšç§å‹å¥½çš„AIåŠŸèƒ½ã€‚æ•°æ®æ°¸è¿œä¸ä¼šç¦»å¼€å®¢æˆ·ç«¯ï¼Œå› æ­¤æ‚¨å¯
      
    
    </summary>
    
    
      <category term="TensorFlow.js" scheme="https://qingshaoxi.github.io/blog/tags/TensorFlow-js/"/>
    
      <category term="TensorFlow" scheme="https://qingshaoxi.github.io/blog/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>mac terminalå¿«æ·é”®</title>
    <link href="https://qingshaoxi.github.io/blog/post/terminal.html"/>
    <id>https://qingshaoxi.github.io/blog/post/terminal.html</id>
    <published>2018-04-02T06:45:40.000Z</published>
    <updated>2019-02-27T07:32:29.956Z</updated>
    
    <content type="html"><![CDATA[<p>ctrl + a/e å›åˆ°å‘½ä»¤è¡Œçš„å¼€å¤´å’Œç»“å°¾<br>ctrl + u/k å‰ªåˆ‡å…‰æ ‡å‰/å æ‰€æœ‰å•è¯<br>å•è¯ä¸ºå•ä½ç§»åŠ¨ï¼šoption + æ–¹å‘é”®</p><a id="more"></a><p>ctrl + y æ’¤é”€ä¸Šä¸ªæ“ä½œ<br>ctrl + w åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå•è¯<br>ctrl + b/f å…‰æ ‡å‘å‰/åç§»åŠ¨ä¸€ä¸ªä½ç½®<br>ctrl + h åˆ é™¤å…‰æ ‡ä½ç½®çš„å‰ä¸€ä¸ªå­—ç¬¦</p><p>history æ˜¾ç¤ºä½¿ç”¨è¿‡çš„å‘½ä»¤</p><p>ç¬¬ä¸€æ¬¡æŒ‰æ—¶ï¼Œç§»åŠ¨å…‰æ ‡è‡³è¡Œé¦–ï¼›å†æ¬¡æŒ‰æ—¶ï¼Œå›åˆ°åŸæœ‰ä½ç½®CTRL+X<br>åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦ï¼Œå³é€€æ ¼ï¼ˆBackspaceï¼‰CTRL+H<br>åˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦ï¼Œï¼ˆç›¸å½“äºDeleteï¼‰æ— ä»»ä½•å­—ç¬¦æ—¶ç›¸å½“äºexitCTRL+D<br>åˆ é™¤å…‰æ ‡å‰æ‰€æœ‰å­—ç¬¦CTRL+U<br>åˆ é™¤å…‰æ ‡åæ‰€æœ‰å­—ç¬¦ï¼›çºµå‘åˆ¶è¡¨ç¬¦ï¼Œåœ¨è„šæœ¬ä¸­ä¸‹ç§»ä¸€è¡Œï¼Œç”¨/x0bè¡¨ç¤ºCTRL+K<br>åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå•è¯ï¼ˆæ ¹æ®ç©ºæ ¼è¯†åˆ«å•è¯åˆ†éš”ï¼‰CTRL+W<br>ç²˜è´´ä¹‹å‰ï¼ˆCTRL+U/K/Wï¼‰åˆ é™¤çš„å†…å®¹CTRL+Y<br>æ¸…å±ï¼Œç›¸å½“äºæŒ‡ä»¤â€œclearâ€CTRL+L<br>æŸ¥æ‰¾å¹¶è‡ªåŠ¨åŒ¹é…ä¹‹å‰ä½¿ç”¨è¿‡çš„æŒ‡ä»¤CTRL+R<br>å›è½¦ï¼Œç›¸å½“äºEnterCTRL+M<br>è·³åˆ°æ–°è¡Œï¼Œç­‰åŒäºå›è½¦CTRL+O<br>æ–°èµ·ä¸€è¡Œï¼Œå‘½ä»¤è¡Œä¸‹ç­‰åŒäºå›è½¦CTRL+J<br>æ¨ªè¡Œåˆ¶è¡¨ç¬¦ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¡¥é½æŒ‡ä»¤ï¼Œæ•ˆæœå’ŒTabé”®ç›¸åŒCTRL+I<br>è¡¥é½æŒ‡ä»¤TAB<br>ä¸Šä¸€æ¡æŒ‡ä»¤ï¼Œç­‰åŒäºå‘ä¸Šç®­CTRL+P<br>ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œç­‰åŒäºå‘ä¸‹ç®­CTRL+N<br>ä½¿ä¸‹ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦å¯ä»¥æ’å…¥åœ¨å½“å‰ä½ç½®,å¦‚CTRL-V å¯ä»¥åœ¨å½“å‰ä½ç½®æ’å…¥ä¸€ä¸ªå­—ç¬¦,å…¶ASCIIæ˜¯9, å¦åˆ™ä¸€èˆ¬æƒ…å†µä¸‹æŒ‰ç»“æœæ˜¯å‘½ä»¤è¡¥é½CTRL+V<br>ä¸­æ–­æ“ä½œCTRL+C<br>å†»ç»“ç»ˆç«¯æ“ä½œï¼ˆæš‚åœè„šæœ¬ï¼‰CTRL+S<br>æ¢å¤å†»ç»“ï¼ˆç»§ç»­æ‰§è¡Œè„šæœ¬ï¼‰CTRL+Q<br>ä½¿ä¸‹ä¸€ä¸ªå•è¯é¦–å­—æ¯å¤§å†™, åŒæ—¶å…‰æ ‡å‰è¿›ä¸€ä¸ªå•è¯,å¦‚å…‰æ ‡åœç•™åœ¨å•è¯çš„æŸä¸ªå­—æ¯ä¸Š,å¦‚wordä¸­çš„oå­—æ¯ä¸Š, åˆ™oå­—æ¯å˜å¤§å†™. è€Œä¸æ˜¯wESC+C<br>ä½¿ä¸‹ä¸€ä¸ªå•è¯æ‰€æœ‰å­—æ¯å˜å¤§å†™, åŒæ—¶å…‰æ ‡å‰è¿›ä¸€ä¸ªå•è¯ï¼›å¦‚å…‰æ ‡åœ¨oå­—æ¯ä¸Š, åˆ™ordå˜å¤§å†™, wä¸å˜.ESC+U<br>ä½¿ä¸‹ä¸€ä¸ªå•è¯æ‰€æœ‰å­—æ¯å˜å°å†™, åŒæ—¶å…‰æ ‡å‰è¿›ä¸€ä¸ªå•è¯ï¼›å¦‚å…‰æ ‡åœ¨oå­—æ¯ä¸Š, åˆ™ordå˜å°å†™, wä¸å˜.ESC+I<br>å°†å…‰æ ‡å¤„çš„å­—ç¬¦å’Œå…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦æ›¿æ¢ä½ç½®CTRL+T<br>é‡å¤è¿è¡Œæœ€è¿‘ä¸€æ¡ä»¥â€œwordâ€å¼€å¤´çš„æŒ‡ä»¤ï¼Œå¦‚!ls æˆ– !l!word<br>è°ƒç”¨ä¸Šä¸€æ¡æŒ‡ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°ä½œä¸ºå½“å‰æŒ‡ä»¤å¯¹è±¡,å¦‚ï¼Œå‡è®¾ä¸Šä¸€æ¡æŒ‡ä»¤ä¸ºï¼š ls abc.txt bbc.txt é‚£ä¹ˆï¼Œ vi !$ ç›¸å½“äºï¼š vi bbc.txt!$<br>è°ƒç”¨æ‰§è¡ŒæŒ‡å®šç¼–å·çš„å†å²è®°å½•æŒ‡ä»¤,å¦‚!2, !11</p><p><img src="/postImg/terminal.png" alt="icoåŸæ¥çš„æ ·å­"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ctrl + a/e å›åˆ°å‘½ä»¤è¡Œçš„å¼€å¤´å’Œç»“å°¾&lt;br&gt;
ctrl + u/k å‰ªåˆ‡å…‰æ ‡å‰/å æ‰€æœ‰å•è¯&lt;br&gt;
å•è¯ä¸ºå•ä½ç§»åŠ¨ï¼šoption + æ–¹å‘é”®&lt;/p&gt;
    
    </summary>
    
    
      <category term="mac" scheme="https://qingshaoxi.github.io/blog/tags/mac/"/>
    
      <category term="terminal" scheme="https://qingshaoxi.github.io/blog/tags/terminal/"/>
    
  </entry>
  
  <entry>
    <title>exchange server</title>
    <link href="https://qingshaoxi.github.io/blog/post/server.html"/>
    <id>https://qingshaoxi.github.io/blog/post/server.html</id>
    <published>2018-02-26T05:48:52.000Z</published>
    <updated>2019-02-27T07:32:29.948Z</updated>
    
    <content type="html"><![CDATA[<p>##exchange2016 server CUç‰ˆæœ¬<br>ä¸‹è½½åœ°å€ï¼š<a href="https://technet.microsoft.com/en-us/library/hh135098%28v=exchg.160%29.aspx" target="_blank" rel="noopener">https://technet.microsoft.com/en-us/library/hh135098(v=exchg.160).aspx</a></p><ol><li><p>é¦–å…ˆï¼ŒExchangeServer2016å®‰è£…éœ€è¦åŸŸç¯å¢ƒï¼Œä¸”éœ€è¦é¢„å…ˆå®‰è£…UCMA4.0è¿è¡Œåº“ï¼Œè¿™ä¸€ç‚¹æ²¡é—®é¢˜ï¼Œè‡ªå·±è®¾ç½®ä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œå¦åˆ™è§„åˆ™æ£€æŸ¥é‚£ä¸€å—è¿‡ä¸å»ã€‚</p></li><li><p>ç¬¬ä¸€ä¸ªå‘ï¼šç›´æ¥åœ¨WindowsServer2016ä¸Šå®‰è£…ExchangeServer2016çš„åŸç‰ˆæ˜¯ä¸è¡Œçš„ã€‚å¿…é¡»ä½¿ç”¨ExchangeServer2016 CU3ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼ŒCU3å°±æ˜¯ç´¯ç§¯æ›´æ–°3ã€‚æœ¬äººé€‰çš„ç›´æ¥è£…CU5ã€‚å¦‚æœä½¿ç”¨åŸç‰ˆï¼Œä¼šå¡åœ¨è§„åˆ™æ£€æŸ¥é˜¶æ®µï¼Œè¦æ±‚ç³»ç»Ÿå®‰è£…æ¡Œé¢ä½“éªŒï¼Œä½†WindowsServer2016å¸¦GUIå®‰è£…åçš„æ·»åŠ æœåŠ¡å™¨åŠŸèƒ½é‡Œæ˜¯æ²¡æœ‰æ¡Œé¢ä½“éªŒçš„ï¼Œè¿™æ ·å°±æ­»èƒ¡åŒäº†ã€‚æ‰€ä»¥å¿…é¡»ä½¿ç”¨CU3ä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚</p></li><li><p>ExchangeServer2016 CU3æœ¬èº«å…¶å®æ˜¯ä¸ªå®Œæ•´çš„ç‰ˆæœ¬ï¼Œç±»ä¼¼äºâ€œExchangeServer2016 with CU3â€ã€‚è±¡æœ¬äººè¿™æ ·çš„æ–°æ‰‹ä¸€å¼€å§‹çœ‹åˆ°åå­—ä»¥ä¸ºåªæ˜¯ä¸ªæ›´æ–°åŒ…ï¼Œå…¶å®ç›´æ¥ä¸‹è½½å®‰è£…å°±è¡Œäº†ã€‚</p></li></ol><p>##exchange å’Œ AD</p><p><a href="https://technet.microsoft.com/zh-cn/library/aa998561(v=exchg.160).aspx" target="_blank" rel="noopener">https://technet.microsoft.com/zh-cn/library/aa998561(v=exchg.160).aspx</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;##exchange2016 server CUç‰ˆæœ¬&lt;br&gt;
ä¸‹è½½åœ°å€ï¼š&lt;a href=&quot;https://technet.microsoft.com/en-us/library/hh135098%28v=exchg.160%29.aspx&quot; target=&quot;_blank&quot; 
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>javascript è§£å†³æµ®ç‚¹æ•°å€¼è®¡ç®—ç²¾åº¦é—®é¢˜</title>
    <link href="https://qingshaoxi.github.io/blog/post/javascript-accuracy.html"/>
    <id>https://qingshaoxi.github.io/blog/post/javascript-accuracy.html</id>
    <published>2018-01-24T07:33:49.000Z</published>
    <updated>2019-02-27T07:32:29.935Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/postImg/code.jpg" alt="JavaScript æµ®ç‚¹æ•°é™·é˜±åŠè§£æ³•"></p><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒJavaScript æµ®ç‚¹æ•°è¿ç®—æ—¶ç»å¸¸é‡åˆ°ä¼š <code>0.000000001</code> å’Œ <code>0.999999999</code> è¿™æ ·å¥‡æ€ªçš„ç»“æœï¼Œå¦‚ <code>0.1+0.2=0.30000000000000004</code>ã€<code>1-0.9=0.09999999999999998</code>ï¼Œå¾ˆå¤šäººçŸ¥é“è¿™æ˜¯æµ®ç‚¹æ•°è¯¯å·®é—®é¢˜ï¼Œä½†å…·ä½“å°±è¯´ä¸æ¸…æ¥šäº†ã€‚æœ¬æ–‡å¸®ä½ ç†æ¸…è¿™èƒŒåçš„åŸç†ä»¥åŠè§£å†³æ–¹æ¡ˆï¼Œè¿˜ä¼šå‘ä½ è§£é‡ŠJSä¸­çš„å¤§æ•°å±æœºå’Œå››åˆ™è¿ç®—ä¸­ä¼šé‡åˆ°çš„å‘ã€‚</p><a id="more"></a><h2 id="æµ®ç‚¹æ•°çš„å­˜å‚¨"><a class="markdownIt-Anchor" href="#æµ®ç‚¹æ•°çš„å­˜å‚¨"></a> æµ®ç‚¹æ•°çš„å­˜å‚¨</h2><p>é¦–å…ˆè¦ææ¸…æ¥š JavaScript å¦‚ä½•å­˜å‚¨å°æ•°ã€‚å’Œå…¶å®ƒè¯­è¨€å¦‚ Java å’Œ Python ä¸åŒï¼ŒJavaScript ä¸­æ‰€æœ‰æ•°å­—åŒ…æ‹¬æ•´æ•°å’Œå°æ•°éƒ½åªæœ‰ä¸€ç§ç±»å‹ â€” <code>Number</code>ã€‚å®ƒçš„å®ç°éµå¾ª <a href="http://grouper.ieee.org/groups/754/" target="_blank" rel="noopener">IEEE 754</a> æ ‡å‡†ï¼Œä½¿ç”¨ 64 ä½å›ºå®šé•¿åº¦æ¥è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯æ ‡å‡†çš„ double åŒç²¾åº¦æµ®ç‚¹æ•°ï¼ˆç›¸å…³çš„è¿˜æœ‰float 32ä½å•ç²¾åº¦ï¼‰ã€‚è®¡ç®—æœºç»„æˆåŸç†ä¸­æœ‰è¿‡è¯¦ç»†ä»‹ç»ï¼Œå¦‚æœä½ ä¸è®°å¾—ä¹Ÿæ²¡å…³ç³»ã€‚</p><p>è¿™æ ·çš„å­˜å‚¨ç»“æ„ä¼˜ç‚¹æ˜¯å¯ä»¥å½’ä¸€åŒ–å¤„ç†æ•´æ•°å’Œå°æ•°ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚</p><p>64ä½æ¯”ç‰¹åˆå¯åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>ç¬¦å·ä½Sï¼šç¬¬ 1 ä½æ˜¯æ­£è´Ÿæ•°ç¬¦å·ä½ï¼ˆsignï¼‰ï¼Œ0ä»£è¡¨æ­£æ•°ï¼Œ1ä»£è¡¨è´Ÿæ•°</li><li>æŒ‡æ•°ä½Eï¼šä¸­é—´çš„ 11 ä½å­˜å‚¨æŒ‡æ•°ï¼ˆexponentï¼‰ï¼Œç”¨æ¥è¡¨ç¤ºæ¬¡æ–¹æ•°</li><li>å°¾æ•°ä½Mï¼šæœ€åçš„ 52 ä½æ˜¯å°¾æ•°ï¼ˆmantissaï¼‰ï¼Œè¶…å‡ºçš„éƒ¨åˆ†è‡ªåŠ¨è¿›ä¸€èˆé›¶</li></ul><p>ï¿¼<img src="/postImg/float.png" alt="64 bit allocation"></p><p>å®é™…æ•°å­—å°±å¯ä»¥ç”¨ä»¥ä¸‹å…¬å¼æ¥è®¡ç®—ï¼š</p><p>ï¿¼<br><img src="/postImg/expression1.png" alt="latex expression"></p><p>æ³¨æ„ä»¥ä¸Šçš„å…¬å¼éµå¾ªç§‘å­¦è®¡æ•°æ³•çš„è§„èŒƒï¼Œåœ¨åè¿›åˆ¶æ˜¯ä¸º0&lt;M&lt;10ï¼Œåˆ°äºŒè¿›è¡Œå°±æ˜¯0&lt;M&lt;2ã€‚ä¹Ÿå°±æ˜¯è¯´æ•´æ•°éƒ¨åˆ†åªèƒ½æ˜¯1ï¼Œæ‰€ä»¥å¯ä»¥è¢«èˆå»ï¼Œåªä¿ç•™åé¢çš„å°æ•°éƒ¨åˆ†ã€‚å¦‚ 4.5 è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯ 100.1ï¼Œç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºæ˜¯ 1.001*2^2ï¼Œèˆå»1å <code>M = 001</code>ã€‚Eæ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œå› ä¸ºé•¿åº¦æ˜¯11ä½ï¼Œå–å€¼èŒƒå›´æ˜¯ 0~2047ã€‚ä½†æ˜¯ç§‘å­¦è®¡æ•°æ³•ä¸­çš„æŒ‡æ•°æ˜¯å¯ä»¥ä¸ºè´Ÿæ•°çš„ï¼Œæ‰€ä»¥å†å‡å»ä¸€ä¸ªä¸­é—´æ•° 1023ï¼Œ[0,1022]è¡¨ç¤ºä¸ºè´Ÿï¼Œ[1024,2047] è¡¨ç¤ºä¸ºæ­£ã€‚å¦‚4.5 çš„æŒ‡æ•°<code>E = 1025</code>ï¼Œå°¾æ•°Mä¸º 001ã€‚</p><p>æœ€ç»ˆçš„å…¬å¼å˜æˆï¼š</p><p><img src="/postImg/expression2.png" alt="latex expression"></p><p>æ‰€ä»¥ <code>4.5</code> æœ€ç»ˆè¡¨ç¤ºä¸ºï¼ˆM=001ã€E=1025ï¼‰ï¼š</p><p>ï¿¼<br><img src="/postImg/expression3.png" alt="4.5 allocation map"></p><p>(å›¾ç‰‡ç”±æ­¤ç”Ÿæˆ <a href="http://www.binaryconvert.com/convert_double.html" target="_blank" rel="noopener">http://www.binaryconvert.com/convert_double.html</a>)</p><p>ä¸‹é¢å†ä»¥ <code>0.1</code> ä¾‹è§£é‡Šæµ®ç‚¹è¯¯å·®çš„åŸå› ï¼Œ <code>0.1</code> è½¬æˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸º <code>0.0001100110011001100</code>(1100å¾ªç¯)ï¼Œ<code>1.100110011001100x2^-4</code>ï¼Œæ‰€ä»¥ <code>E=-4+1023=1019</code>ï¼›M èˆå»é¦–ä½çš„1ï¼Œå¾—åˆ° <code>100110011...</code>ã€‚æœ€ç»ˆå°±æ˜¯ï¼š</p><p><img src="/postImg/expression5.png" alt="0.1 allocation map"></p><p>ï¿¼</p><p>è½¬åŒ–æˆåè¿›åˆ¶åä¸º <code>0.100000000000000005551115123126</code>ï¼Œå› æ­¤å°±å‡ºç°äº†æµ®ç‚¹è¯¯å·®ã€‚</p><h3 id="ä¸ºä»€ä¹ˆ-0102030000000000000004"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆ-0102030000000000000004"></a> ä¸ºä»€ä¹ˆ <code>0.1+0.2=0.30000000000000004</code>ï¼Ÿ</h3><p>è®¡ç®—æ­¥éª¤ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span> å’Œ <span class="number">0.2</span> éƒ½è½¬åŒ–æˆäºŒè¿›åˆ¶åå†è¿›è¡Œè¿ç®—</span><br><span class="line"><span class="number">0.00011001100110011001100110011001100110011001100110011010</span> +</span><br><span class="line"><span class="number">0.0011001100110011001100110011001100110011001100110011010</span> =</span><br><span class="line"><span class="number">0.0100110011001100110011001100110011001100110011001100111</span></span><br><span class="line">è½¬æˆåè¿›åˆ¶æ­£å¥½æ˜¯ <span class="number">0.30000000000000004</span></span><br></pre></td></tr></table></figure><h3 id="ä¸ºä»€ä¹ˆ-x01-èƒ½å¾—åˆ°-01"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆ-x01-èƒ½å¾—åˆ°-01"></a> ä¸ºä»€ä¹ˆ <code>x=0.1</code> èƒ½å¾—åˆ° <code>0.1</code></h3><p>æ­å–œä½ åˆ°äº†çœ‹å±±ä¸æ˜¯å±±çš„å¢ƒç•Œã€‚å› ä¸º mantissa å›ºå®šé•¿åº¦æ˜¯ 52 ä½ï¼Œå†åŠ ä¸Šçœç•¥çš„ä¸€ä½ï¼Œæœ€å¤šå¯ä»¥è¡¨ç¤ºçš„æ•°æ˜¯ <code>2^53=9007199254740992</code>ï¼Œå¯¹åº”ç§‘å­¦è®¡æ•°å°¾æ•°æ˜¯ <code>9.007199254740992</code>ï¼Œè¿™ä¹Ÿæ˜¯ JS æœ€å¤šèƒ½è¡¨ç¤ºçš„ç²¾åº¦ã€‚å®ƒçš„é•¿åº¦æ˜¯ 16ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ <code>toPrecision(16)</code> æ¥åšç²¾åº¦è¿ç®—ï¼Œè¶…è¿‡çš„ç²¾åº¦ä¼šè‡ªåŠ¨åšå‡‘æ•´å¤„ç†ã€‚äºæ˜¯å°±æœ‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.10000000000000000555</span>.toPrecision(<span class="number">16</span>)</span><br><span class="line"><span class="comment">// è¿”å› 0.1000000000000000ï¼Œå»æ‰æœ«å°¾çš„é›¶åæ­£å¥½ä¸º 0.1</span></span><br><span class="line"><span class="comment">// ä½†ä½ çœ‹åˆ°çš„ `0.1` å®é™…ä¸Šå¹¶ä¸æ˜¯ `0.1`ã€‚ä¸ä¿¡ä½ å¯ç”¨æ›´é«˜çš„ç²¾åº¦è¯•è¯•ï¼š0.1.toPrecision(21) = 0.100000000000000005551</span></span><br></pre></td></tr></table></figure><h3 id="å¤§æ•°å±æœº"><a class="markdownIt-Anchor" href="#å¤§æ•°å±æœº"></a> å¤§æ•°å±æœº</h3><p>å¯èƒ½ä½ å·²ç»éšçº¦æ„Ÿè§‰åˆ°äº†ï¼Œå¦‚æœæ•´æ•°å¤§äº 9007199254740992 ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ</p><p>ç”±äº E æœ€å¤§å€¼æ˜¯ 1023ï¼Œæ‰€ä»¥æœ€å¤§å¯ä»¥è¡¨ç¤ºçš„æ•´æ•°æ˜¯ <code>2^1024 - 1</code>ï¼Œè¿™å°±æ˜¯èƒ½è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°ã€‚ä½†ä½ å¹¶ä¸èƒ½è¿™æ ·è®¡ç®—è¿™ä¸ªæ•°å­—ï¼Œå› ä¸ºä» <code>2^1024</code> å¼€å§‹å°±å˜æˆäº† <code>Infinity</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">1023</span>)</span><br><span class="line"><span class="number">8.98846567431158e+307</span> &gt; <span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">1024</span>)</span><br><span class="line"><span class="literal">Infinity</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆå¯¹äº <code>(2^53, 2^63)</code> ä¹‹é—´çš„æ•°ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ</p><ul><li><code>(2^53, 2^54)</code> ä¹‹é—´çš„æ•°ä¼šä¸¤ä¸ªé€‰ä¸€ä¸ªï¼Œåªèƒ½ç²¾ç¡®è¡¨ç¤ºå¶æ•°</li><li><code>(2^54, 2^55)</code> ä¹‹é—´çš„æ•°ä¼šå››ä¸ªé€‰ä¸€ä¸ªï¼Œåªèƒ½ç²¾ç¡®è¡¨ç¤º4ä¸ªå€æ•°</li><li>â€¦ ä¾æ¬¡è·³è¿‡æ›´å¤š2çš„å€æ•°</li></ul><p>ä¸‹é¢è¿™å¼ å›¾èƒ½å¾ˆå¥½çš„è¡¨ç¤º JavaScript ä¸­æµ®ç‚¹æ•°å’Œå®æ•°ï¼ˆReal Numberï¼‰ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚æˆ‘ä»¬å¸¸ç”¨çš„ <code>(-2^53, 2^53)</code> åªæ˜¯æœ€ä¸­é—´éå¸¸å°çš„ä¸€éƒ¨åˆ†ï¼Œè¶Šå¾€ä¸¤è¾¹è¶Šç¨€ç–è¶Šä¸ç²¾ç¡®ã€‚<br><img src="/postImg/expression6.jpg" alt="fig1.jpg"></p><p>åœ¨æ·˜å®æ—©æœŸçš„è®¢å•ç³»ç»Ÿä¸­æŠŠè®¢å•å·å½“ä½œæ•°å­—å¤„ç†ï¼Œåæ¥éšæ„è®¢å•å·æš´å¢ï¼Œå·²ç»è¶…è¿‡äº†<br><code>9007199254740992</code>ï¼Œæœ€ç»ˆçš„è§£æ³•æ˜¯æŠŠè®¢å•å·æ”¹æˆå­—ç¬¦ä¸²å¤„ç†ã€‚</p><p>è¦æƒ³è§£å†³å¤§æ•°çš„é—®é¢˜ä½ å¯ä»¥å¼•ç”¨ç¬¬ä¸‰æ–¹åº“ <a href="https://github.com/MikeMcl/bignumber.js/" target="_blank" rel="noopener">bignumber.js</a>ï¼ŒåŸç†æ˜¯æŠŠæ‰€æœ‰æ•°å­—å½“ä½œå­—ç¬¦ä¸²ï¼Œé‡æ–°å®ç°äº†è®¡ç®—é€»è¾‘ï¼Œç¼ºç‚¹æ˜¯æ€§èƒ½æ¯”åŸç”Ÿçš„å·®å¾ˆå¤šã€‚æ‰€ä»¥åŸç”Ÿæ”¯æŒå¤§æ•°å°±å¾ˆæœ‰å¿…è¦äº†ï¼Œç°åœ¨ TC39 å·²ç»æœ‰ä¸€ä¸ª Stage 3 çš„ææ¡ˆ <a href="https://github.com/tc39/proposal-bigint" target="_blank" rel="noopener">proposal bigint</a>ï¼Œå¤§æ•°é—®é¢˜æœ‰æœ›å½»åº•è§£å†³ã€‚åœ¨æµè§ˆå™¨æ­£å¼æ”¯æŒå‰ï¼Œå¯ä»¥ä½¿ç”¨ Babel 7.0 æ¥å®ç°ï¼Œå®ƒçš„å†…éƒ¨æ˜¯è‡ªåŠ¨è½¬æ¢æˆ <a href="https://github.com/peterolson/BigInteger.js" target="_blank" rel="noopener">big-integer</a> æ¥è®¡ç®—ï¼Œè¦æ³¨æ„çš„æ˜¯è¿™æ ·èƒ½ä¿æŒç²¾åº¦ä½†è¿ç®—æ•ˆç‡ä¼šé™ä½ã€‚</p><h3 id="toprecision-vs-tofixed"><a class="markdownIt-Anchor" href="#toprecision-vs-tofixed"></a> <code>toPrecision</code> vs <code>toFixed</code></h3><p>æ•°æ®å¤„ç†æ—¶ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°å¾ˆå®¹æ˜“æ··æ·†ã€‚å®ƒä»¬çš„å…±åŒç‚¹æ˜¯æŠŠæ•°å­—è½¬æˆå­—ç¬¦ä¸²ä¾›å±•ç¤ºä½¿ç”¨ã€‚æ³¨æ„åœ¨è®¡ç®—çš„ä¸­é—´è¿‡ç¨‹ä¸è¦ä½¿ç”¨ï¼Œåªç”¨äºæœ€ç»ˆç»“æœã€‚</p><p>ä¸åŒç‚¹å°±éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼š</p><ul><li><code>toPrecision</code> æ˜¯å¤„ç†ç²¾åº¦ï¼Œç²¾åº¦æ˜¯ä»å·¦è‡³å³ç¬¬ä¸€ä¸ªä¸ä¸º0çš„æ•°å¼€å§‹æ•°èµ·ã€‚</li><li><code>toFixed</code> æ˜¯å°æ•°ç‚¹åæŒ‡å®šä½æ•°å–æ•´ï¼Œä»å°æ•°ç‚¹å¼€å§‹æ•°èµ·ã€‚</li></ul><p>ä¸¤è€…éƒ½èƒ½å¯¹å¤šä½™æ•°å­—åšå‡‘æ•´å¤„ç†ï¼Œä¹Ÿæœ‰äº›äººç”¨ <code>toFixed</code> æ¥åšå››èˆäº”å…¥ï¼Œä½†ä¸€å®šè¦çŸ¥é“å®ƒæ˜¯æœ‰ Bug çš„ã€‚</p><p>å¦‚ï¼š<code>1.005.toFixed(2)</code> è¿”å›çš„æ˜¯ <code>1.00</code> è€Œä¸æ˜¯ <code>1.01</code>ã€‚</p><p>åŸå› ï¼š <code>1.005</code> <code>1.0005</code> å®é™…å¯¹åº”çš„æ•°å­—æ˜¯ <code>1.00499999999999989</code>ï¼Œåœ¨å››èˆäº”å…¥æ—¶å…¨éƒ¨è¢«èˆå»ï¼</p><p>è§£æ³•ï¼šä½¿ç”¨ä¸“ä¸šçš„å››èˆäº”å…¥å‡½æ•° <code>Math.round()</code> æ¥å¤„ç†ã€‚ä½† <code>Math.round(1.005 * 100) / 100</code> è¿˜æ˜¯ä¸è¡Œï¼Œå› ä¸º <code>1.005 * 100 = 100.49999999999999</code>ã€‚è¿˜éœ€è¦æŠŠä¹˜æ³•å’Œé™¤æ³•ç²¾åº¦è¯¯å·®éƒ½è§£å†³åå†ä½¿ç”¨ <code>Math.round</code>ã€‚å¯ä»¥ä½¿ç”¨åé¢ä»‹ç»çš„ <code>number-precision#round</code> æ–¹æ³•æ¥è§£å†³ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆ"></a> è§£å†³æ–¹æ¡ˆ</h2><p>å›åˆ°æœ€å…³å¿ƒçš„é—®é¢˜ï¼šå¦‚ä½•è§£å†³æµ®ç‚¹è¯¯å·®ã€‚é¦–å…ˆï¼Œç†è®ºä¸Šç”¨æœ‰é™çš„ç©ºé—´æ¥å­˜å‚¨æ— é™çš„å°æ•°æ˜¯ä¸å¯èƒ½ä¿è¯ç²¾ç¡®çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥å¤„ç†ä¸€ä¸‹å¾—åˆ°æˆ‘ä»¬æœŸæœ›çš„ç»“æœã€‚</p><h3 id="æ•°æ®å±•ç¤ºç±»"><a class="markdownIt-Anchor" href="#æ•°æ®å±•ç¤ºç±»"></a> æ•°æ®å±•ç¤ºç±»</h3><p>å½“ä½ æ‹¿åˆ° <code>1.4000000000000001</code> è¿™æ ·çš„æ•°æ®è¦å±•ç¤ºæ—¶ï¼Œå»ºè®®ä½¿ç”¨ <code>toPrecision</code> å‡‘æ•´å¹¶ <code>parseFloat</code> è½¬æˆæ•°å­—åå†æ˜¾ç¤ºï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>(<span class="number">1.4000000000000001</span>.toPrecision(<span class="number">12</span>)) === <span class="number">1.4</span>  <span class="comment">// True</span></span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">å°è£…æˆæ–¹æ³•å°±æ˜¯ï¼š</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strip</span>(<span class="params">num, precision=<span class="number">12</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span>+<span class="built_in">parseFloat</span>(num.toPrecision(precision));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆé€‰æ‹© <code>12</code> åšä¸ºé»˜è®¤ç²¾åº¦ï¼Ÿè¿™æ˜¯ä¸€ä¸ªç»éªŒçš„é€‰æ‹©ï¼Œä¸€èˆ¬é€‰12å°±èƒ½è§£å†³æ‰å¤§éƒ¨åˆ†0001å’Œ0009é—®é¢˜ï¼Œè€Œä¸”å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¹Ÿå¤Ÿç”¨äº†ï¼Œå¦‚æœä½ éœ€è¦æ›´ç²¾ç¡®å¯ä»¥è°ƒé«˜ã€‚</p><h3 id="æ•°æ®è¿ç®—ç±»"><a class="markdownIt-Anchor" href="#æ•°æ®è¿ç®—ç±»"></a> æ•°æ®è¿ç®—ç±»</h3><p>å¯¹äºè¿ç®—ç±»æ“ä½œï¼Œå¦‚ <code>+-*/</code>ï¼Œå°±ä¸èƒ½ä½¿ç”¨ <code>toPrecision</code> äº†ã€‚æ­£ç¡®çš„åšæ³•æ˜¯æŠŠå°æ•°è½¬æˆæ•´æ•°åå†è¿ç®—ã€‚ä»¥åŠ æ³•ä¸ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** * ç²¾ç¡®åŠ æ³•*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> num1Digits= (num1.toString().split(<span class="string">'.'</span>)[<span class="number">1</span>] ||<span class="string">''</span>).length;</span><br><span class="line">  <span class="keyword">const</span> num2Digits= (num2.toString().split(<span class="string">'.'</span>)[<span class="number">1</span>] ||<span class="string">''</span>).length;</span><br><span class="line">  <span class="keyword">const</span> baseNum=<span class="built_in">Math</span>.pow(<span class="number">10</span>, <span class="built_in">Math</span>.max(num1Digits, num2Digits));</span><br><span class="line">  <span class="keyword">return</span> (num1 * baseNum + num2 * baseNum) / baseNum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ–¹æ³•èƒ½é€‚ç”¨äºå¤§éƒ¨åˆ†åœºæ™¯ã€‚é‡åˆ°ç§‘å­¦è®¡æ•°æ³•å¦‚ <code>2.3e+1</code>ï¼ˆå½“æ•°å­—ç²¾åº¦å¤§äº21æ—¶ï¼Œæ•°å­—ä¼šå¼ºåˆ¶è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•å½¢å¼æ˜¾ç¤ºï¼‰æ—¶è¿˜éœ€è¦ç‰¹åˆ«å¤„ç†ä¸€ä¸‹ã€‚</p><h2 id="ä¸‰æ–¹åº“"><a class="markdownIt-Anchor" href="#ä¸‰æ–¹åº“"></a> ä¸‰æ–¹åº“</h2><p><a href="https://github.com/dt-fe/number-precision" target="_blank" rel="noopener">https://github.com/dt-fe/number-precision</a><br><a href="http://mathjs.org/" target="_blank" rel="noopener">math.js</a><br><a href="https://github.com/dtrebbien/BigDecimal.js" target="_blank" rel="noopener">BigDecimal.js</a></p><h2 id="å‚è€ƒ"><a class="markdownIt-Anchor" href="#å‚è€ƒ"></a> å‚è€ƒ</h2><ul><li><a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format" target="_blank" rel="noopener">Double-precision floating-point format</a></li><li><a href="http://floating-point-gui.de/" target="_blank" rel="noopener">What Every Programmer Should Know About Floating-Point Arithmetic</a></li><li><a href="https://www.youtube.com/watch?v=pQs_wx8eoQ8" target="_blank" rel="noopener">Why Computers are Bad at Algebra | Infinite Series</a></li><li><a href="http://jasss.soc.surrey.ac.uk/9/4/4.html" target="_blank" rel="noopener">Is Your Model Susceptible to Floating-Point Errors?</a></li><li><a href="https://zhuanlan.zhihu.com/ne-fe" target="_blank" rel="noopener">æŠ“ä½æ•°æ®çš„å°å°¾å·´ - JSæµ®ç‚¹æ•°é™·é˜±åŠè§£æ³•</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/postImg/code.jpg&quot; alt=&quot;JavaScript æµ®ç‚¹æ•°é™·é˜±åŠè§£æ³•&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥ï¼ŒJavaScript æµ®ç‚¹æ•°è¿ç®—æ—¶ç»å¸¸é‡åˆ°ä¼š &lt;code&gt;0.000000001&lt;/code&gt; å’Œ &lt;code&gt;0.999999999&lt;/code&gt; è¿™æ ·å¥‡æ€ªçš„ç»“æœï¼Œå¦‚ &lt;code&gt;0.1+0.2=0.30000000000000004&lt;/code&gt;ã€&lt;code&gt;1-0.9=0.09999999999999998&lt;/code&gt;ï¼Œå¾ˆå¤šäººçŸ¥é“è¿™æ˜¯æµ®ç‚¹æ•°è¯¯å·®é—®é¢˜ï¼Œä½†å…·ä½“å°±è¯´ä¸æ¸…æ¥šäº†ã€‚æœ¬æ–‡å¸®ä½ ç†æ¸…è¿™èƒŒåçš„åŸç†ä»¥åŠè§£å†³æ–¹æ¡ˆï¼Œè¿˜ä¼šå‘ä½ è§£é‡ŠJSä¸­çš„å¤§æ•°å±æœºå’Œå››åˆ™è¿ç®—ä¸­ä¼šé‡åˆ°çš„å‘ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://qingshaoxi.github.io/blog/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://qingshaoxi.github.io/blog/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯å¿…çœ‹ä¹¦ç±</title>
    <link href="https://qingshaoxi.github.io/blog/post/front-end-books.html"/>
    <id>https://qingshaoxi.github.io/blog/post/front-end-books.html</id>
    <published>2018-01-12T08:37:38.000Z</published>
    <updated>2019-02-27T07:32:29.928Z</updated>
    
    <content type="html"><![CDATA[<h1 id="awesome-web-dev-books"><a class="markdownIt-Anchor" href="#awesome-web-dev-books"></a> awesome-web-dev-books</h1><h2 id="å¦‚æœæœ‰äººè®©ä½ æ¨èå‰ç«¯æŠ€æœ¯ä¹¦è¯·è®©ä»–çœ‹è¿™ä¸ªåˆ—è¡¨"><a class="markdownIt-Anchor" href="#å¦‚æœæœ‰äººè®©ä½ æ¨èå‰ç«¯æŠ€æœ¯ä¹¦è¯·è®©ä»–çœ‹è¿™ä¸ªåˆ—è¡¨"></a> å¦‚æœæœ‰äººè®©ä½ æ¨èå‰ç«¯æŠ€æœ¯ä¹¦ï¼Œè¯·è®©ä»–çœ‹è¿™ä¸ªåˆ—è¡¨</h2><h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p>å¥½çš„æŠ€æœ¯ä¹¦ç±å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿåœ°æˆé•¿ï¼Œå¤§éƒ¨åˆ†äººæˆ–å¤šæˆ–å°‘åœ°å—ç›Šäºç»å…¸çš„æŠ€æœ¯ä¹¦ç±ã€‚åœ¨ã€Œå‰ç«¯å¤§å…¨ã€å¾®ä¿¡å…¬å·åå°ï¼Œæˆ‘ä»¬ç»å¸¸èƒ½æ”¶åˆ°è®©å¸®å¿™æ¨èä¹¦ç±çš„æ¶ˆæ¯ã€‚è¿™ç±»çš„é—®é¢˜åœ¨ <a href="http://weibo.com/u/5261893910" target="_blank" rel="noopener">@å‰ç«¯å¤§å…¨ çš„å¾®åš</a> å’Œ <a href="http://group.jobbole.com/category/tech/webfront/" target="_blank" rel="noopener">ä¼¯ä¹åœ¨çº¿çš„å‰ç«¯å°ç»„</a> è®¨è®ºä¸­ä¹Ÿä¸ç»äºè€³ã€‚ 6æœˆ30æ—¥ï¼Œä¼¯ä¹åœ¨çº¿åœ¨ã€Œå‰ç«¯å¤§å…¨ã€å¾®ä¿¡å…¬å·<a href="http://mp.weixin.qq.com/s?__biz=MzAxODE2MjM1MA==&amp;mid=2651550986&amp;idx=1&amp;sn=16b1ec6869bb07e3d820a78ec3dffd87#rd" target="_blank" rel="noopener">å‘èµ·äº†ä¸€ä¸ªè®¨è®º</a>Â ï¼ˆæ³¨ï¼šPCç«¯æ— æ³•çœ‹åˆ°å¤§å®¶çš„è¯„è®ºï¼Œéœ€è¦å…³æ³¨å¾®ä¿¡å…¬å·åï¼Œä»å¾®ä¿¡æ‰å¯ä»¥çœ‹åˆ°ï¼‰ï¼Œé€šè¿‡è¿™ä¸ªè®¨è®ºè¯é¢˜ï¼Œåœ¨è¯„è®ºä¸­åˆ†äº«å¯¹è‡ªå·±å¸®åŠ©å¾ˆå¤§çš„å‰ç«¯æŠ€æœ¯ä¹¦ç±ã€‚</p><a id="more"></a><p>ï¼ˆå‰ç«¯å¤§å…¨ï¼‰</p><h2 id="javascript"><a class="markdownIt-Anchor" href="#javascript"></a> JavaScript</h2><p><strong>ã€Š<a href="http://www.amazon.cn/mn/detailApp/ref=as_li_qf_sp_asin_tl?_encoding=UTF8&amp;tag=vastwork-23&amp;linkCode=as2&amp;asin=B003V42XZW&amp;camp=536&amp;creative=3200&amp;creativeASIN=B003V42XZW" target="_blank" rel="noopener">JavaScripté«˜çº§ç¨‹åºè®¾è®¡</a>ã€‹+ å…¥é—¨çº§ + Â 306 ç¥¨</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**æé¾™ï¼š**å†æ¬¡é¢„è¨€è¿™æœ¬ä¹¦èƒ½è®¤çœŸçœ‹åéç€éƒ½èƒ½è¿›bat</p></blockquote><blockquote><p>**é˜¿ç›ï¼š**è¯¦å°½åœ°è§£è¯»äº†JSè¿™é—¨è¯­è¨€çš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼Œé€å½»åœ°å‰–æäº†JSæ‰€æ¶‰åŠçš„ç¼–ç¨‹æ€æƒ³ï¼Œæ·±å…¥æµ…å‡ºåœ°æ¼”ç¤ºäº†ä¸°å¯Œçš„JSåº”ç”¨å®ä¾‹â€¦è¯»å®Œè¿™æœ¬ä¹¦ä½ ä¸ä¸€å®šå°±èƒ½æˆä¸ºå‰ç«¯å¤§ç‰›ï¼Œä½†å¦‚æœä½ çœŸçš„èƒ½æŠŠè¿™æœ¬ä¹¦è¯»æ‡‚ï¼Œåƒé€ï¼Œé‚£ä¹ˆä½ ç¦»JSé«˜æ‰‹è‚¯å®šä¸è¿œå•¦ï¼</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B00BQ7RMW0/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B00BQ7RMW0&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">ç¼–å†™å¯ç»´æŠ¤çš„JavaScript</a>ã€‹+ å…¥é—¨çº§ + 185 ç¥¨</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**Master.Huooooï¼š**ä¹Œé¾Ÿä¹¦ï¼Œå¾ˆè–„ï¼Œä½†ä»å·¥ç¨‹å®è·µçš„è§’åº¦è°ˆäº†å¸¸è§çš„å‘ï¼Œå…¶ä¸­çš„å·¥ä½œä¹ æƒ¯å€¼å¾—coderä»¬å­¦ä¹ </p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B00FDHLWA2/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B00FDHLWA2&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">jQuery æƒå¨æŒ‡å—</a>ã€‹+ å…¥é—¨çº§ + 132 ç¥¨</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**è¨€æ¥“ï¼š**å…¨é¢ä»‹ç»äº†jQueryÂ å„ä¸ªæ–¹æ³•çš„ä½¿ç”¨ï¼Œé€‚åˆæœ‰JavaScriptåŸºç¡€çš„å…¥é—¨</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B0097CON2S/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B0097CON2S&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">Javascriptè¯­è¨€ç²¾ç²¹</a>ã€‹/ è´è¶ä¹¦ + å…¥é—¨çº§ + 97 ç¥¨</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**å®µä¼¯ç‰¹ï¼š**é›†Â JSÂ ä¹‹ç²¾åï¼Œå¼ƒå…¶ç³Ÿç²•ï¼Œäººæ‰‹ä¸€æœ¬ï¼Œå‰ç«¯å¿…å¤‡</p></blockquote><blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B0089TDFNS/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B0089TDFNS&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">é”‹åˆ©çš„jQuery</a>ã€‹+ å…¥é—¨çº§ + 91</strong></p></blockquote><p>æ¨èè¯­ï¼š</p><blockquote><p>**Arronï¼š**å­¦ä¹ jQueryå¿…å¤‡ä¹¦ç±ï¼Œä¸èƒ½é”™è¿‡</p></blockquote><blockquote><p>**é™¶å®‡ï¼š**å‰åå°é€šç”¨å¿«é€Ÿä½¿ç”¨jQueryï¼Œå¿…å¤‡è‰¯ä¹¦ã€‚</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B004VJM5KE/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B004VJM5KE&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">JavaScriptÂ DOMÂ ç¼–ç¨‹è‰ºæœ¯</a>ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹+ å…¥é—¨çº§ + 131Â ç¥¨</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**SAVEKAIï¼š**è¿™æœ¬ä¹¦çš„è®²è§£æ–¹å¼éå¸¸äº²åˆ‡ï¼Œäººæƒ…å‘³åè¶³ï¼Œåˆå­¦è€…çš„ç¦éŸ³ã€‚çœ‹å®Œä¹Ÿèƒ½çœ‹çœ‹è´è¶ä¹¦ã€‚</p></blockquote><blockquote><p>**è£é”‹ï¼š**åº¦è¿‡èœé¸Ÿé˜¶æ®µå°±ä¼šæ›´å¤šè€ƒè™‘æ€§èƒ½å’Œä¼˜åŒ–äº†ã€Šé«˜æ€§èƒ½ JavaScriptã€‹ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–å¥½ä¹¦è¿™åªæ˜¯æˆ‘çš„ä¸€ä¸ªç»å†</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B016DWSF8M/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B016DWSF8M&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">å­¦ä¹  JavaScript æ•°æ®ç»“æ„ä¸ç®—æ³•</a>ã€‹+ å…¥é—¨çº§ + 31</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**å¾®ç¬‘çš„é±¼ï¼š**å¾ˆè–„çš„ä¸€æœ¬ä¹¦ï¼Œå¾ˆè¯¦ç»†çš„è®²è§£äº†ä½¿ç”¨jså®ç°å¸¸ç”¨çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå¯¹äºæ›´é«˜æ•ˆçš„ä½¿ç”¨jså¾ˆæœ‰å¸®åŠ©ã€‚</p></blockquote><p><strong>ã€ŠUnderstandingÂ ECMAScriptÂ 6ã€‹+ å…¥é—¨çº§ + 58</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>è’‹ç†™</strong>**ï¼š**JSé«˜ç¨‹ä½œè€…å†™çš„å…³äºES6çš„ï¼Œæ„Ÿè§‰è¿˜ä¸é”™å“¦</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B016DWSEWO/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B016DWSEWO&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">JavaScriptå¿è€…ç§˜ç±</a>ã€‹+ è¿›é˜¶çº§ + 48</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>å‘å¾€</strong>**ï¼š**è¿™æœ¬ä¹¦æ˜¯jQueryåº“åˆ›å§‹äººç¼–å†™çš„ä¸€æœ¬æ·±å…¥å‰–æJavaScriptè¯­è¨€çš„ä¹¦Â å¯¹JavaScriptè¯­è¨€çš„é‡è¦éƒ¨åˆ†ï¼ˆå‡½æ•°ã€é—­åŒ…å’ŒåŸå‹ï¼‰è¿›è¡Œæ·±å…¥ã€å…¨é¢çš„ä»‹ç»ï¼Œä»¥åŠè®²è¿°è·¨æµè§ˆå™¨ä»£ç å¦‚ä½•ç¼–å†™</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B013SGB2AO/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B013SGB2AO&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">é«˜æ€§èƒ½ JavaScript</a>ã€‹+ è¿›é˜¶çº§ + 39</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**æ¤°å­èˆ¹é•¿ï¼š**å„ç§æ‰‹æ®µä¼˜åŒ–javascript</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B01A18WWAG/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B01A18WWAG&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">ECMAScriptÂ 6 æ ‡å‡†å…¥é—¨</a>ã€‹+ è¿›é˜¶çº§ + 38</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>åˆ˜ä¼ å®—</strong>**ï¼š**ES6è®©JavaScriptå¦‚è™æ·»ç¿¼ï¼Œç¼–ç¨‹ä½“éªŒæ›´ä½³ï¼Œé˜®ä¸€å³°å‰è¾ˆçš„åŠ›ä½œ</p></blockquote><p><strong>ã€Š<a href="http://teropa.info/build-your-own-angular/" target="_blank" rel="noopener">Build Your Own AngularJS</a>ã€‹+ è¿›é˜¶çº§ + 37</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>å°‘ç™½</strong>**ï¼š**æ‰‹æŠŠæ‰‹æ•™ä½ æ’¸å‡ºä¸ªangularjsæ¡†æ¶ï¼Œè¯¦ç»†å‰–æåŸç†å’Œå®ç°</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B00GMXI1QY/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B00GMXI1QY&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">Effective JavaScript:ç¼–å†™é«˜è´¨é‡JavaScriptä»£ç çš„68ä¸ªæœ‰æ•ˆæ–¹æ³•</a>ã€‹+ è¿›é˜¶çº§ + 35</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>hzhang</strong>**ï¼š**ç»†è¯´äº†ç¼–ç¨‹ä¸­å®¹æ˜“å¿½ç•¥çš„ç»†ææœ«èŠ‚ï¼</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B00W34DZ8K/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B00W34DZ8K&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">ä½ ä¸çŸ¥é“çš„ JavaScript</a>ã€‹+ è¿›é˜¶çº§ + 46</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**undefinedï¼š<strong>è‚¯å®šæ²¡å…¥é—¨çº§çš„ä¹¦è®©ä½ æˆé•¿çš„é‚£ä¹ˆå¿«ï¼Œä½†æ˜¯ä¸¤æœ¬ä¹¦ï¼ˆä¸Šå†Œ+ä¸‹å†Œï¼‰èƒ½è®©ä½ æ›´æ·±å…¥çš„ç†è§£Â JSÂ æœºåˆ¶ï¼Œå¯¹é¡¹ç›®æœ‰ä¸ªè‰¯å¥½çš„æŠŠæ§ï¼Œæ¨èå…¥é—¨åçš„äººçœ‹ã€‚<br><strong>YatesğŸ’¤</strong></strong>Â ï¼š**è¯¦ç»†çš„è®²è¿°äº†thisï¼Œä½œç”¨åŸŸï¼Œé—­åŒ…ï¼ŒåŸå‹é“¾ç­‰ç­‰ï¼ŒæŠŠjsä¸­æ¯”è¾ƒéš¾ç†è§£çš„éƒ¨åˆ†ç”¨ä¾‹å­å’Œé€šä¿—çš„è¯­è¨€è®²è§£å‡ºæ¥ã€‚</p></blockquote><p><strong>ã€ŠJavascriptç‹è€…å½’æ¥ã€‹+ è¿›é˜¶çº§ + 30</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>æÂ Lee</strong>**ï¼š**æ¯æ¬¡é˜…è¯»éƒ½æœ‰æ–°å‘ç°</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B00NN8GJGA/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B00NN8GJGA&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">å•é¡µwebåº”ç”¨ï¼šJavaScript ä»å‰ç«¯åˆ°åç«¯</a>ã€‹+ è¿›é˜¶çº§ + 18</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**ä¼Ÿçƒè¿·ï¼š**é€šè¿‡è¿™æœ¬ä¹¦çš„æŒ‡å¼•äº†è§£å‰åç«¯å¦‚ä½•ä¸€èµ·æ„å»ºä¸€ä¸ªå•é¡µåº”ç”¨ï¼Œå¯¹å‰ç«¯æ¥è¯´ï¼Œä¹Ÿèƒ½äº†è§£ä¸€äº›å‰ç«¯ä»¥å¤–çš„ä¸œè¥¿</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B00D6MT3LG/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B00D6MT3LG&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">JavaScript è®¾è®¡æ¨¡å¼</a>ã€‹+ è¿›é˜¶çº§ + 15</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**çªçªï¼š**æœ¬ä¹¦ä»‹ç»äº†åå‡ ç§å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œæˆ‘è§‰å¾—æ˜¯ç†è§£åˆ«äººä»£ç ä¹‹å‰å¿…è¯»çš„ä¹¦ï¼ŒæŠ€å·§éå¸¸å¤šï¼Œå€¼å¾—å¤šçœ‹ã€‚</p></blockquote><h2 id="html5-css"><a class="markdownIt-Anchor" href="#html5-css"></a> HTML5 &amp; CSS</h2><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B015316ZWC/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B015316ZWC&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">HTML5 ä¸ CSS3 åŸºç¡€æ•™ç¨‹</a>ã€‹+ å…¥é—¨çº§ + 12</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>ç –å¤´ä¸å°‘å¹´</strong>**ï¼š**å°±æ˜¯è¿™æœ¬ä¹¦æŠŠæˆ‘å¸¦å…¥å‰ç«¯çš„ï¼Œéå¸¸é€‚åˆåˆå­¦å‰ç«¯çš„äººçœ‹ï¼Œæµ…æ˜¾æ˜“æ‡‚ï¼Œæœ‰é…å¥—ä»£ç ï¼</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B00IT1WM4Y/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B00IT1WM4Y&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">æ·±å…¥æµ…å‡º HTML ä¸ CSS</a>ã€‹+ å…¥é—¨çº§ + 72</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**çŒ•çŒ´æ¡ƒï¼š**å°±æ˜¯å®ƒæŠŠæˆ‘éª—è¿›å‰ç«¯çš„</p></blockquote><blockquote><p><strong><a href="http://xn--xj-fv6c.com" target="_blank" rel="noopener">å‘¨xj.com</a></strong>**ï¼š**çº¯å°ç™½çš„æˆ‘ç¬¬ä¸€æ¬¡ä¹°çš„ã€‚æ‡‚äº†æŒºå¤šã€‚</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B01ET3FO86/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B01ET3FO86&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">CSSæ­ç§˜</a>ã€‹+ è¿›é˜¶çº§ + 37</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>é£›é­š</strong>**ï¼š**è¿™æœ¬ä¹¦è®²äº†å¾ˆå¤šCSSçš„æŠ€å·§ï¼Œçœ‹å®Œä¹‹åä½ ä¼šæ‹ç€è„‘è¢‹è¯´åŸæ¥CSSè¿˜æœ‰è¿™ä¹ˆå¤šä½ ä¸çŸ¥é“çš„ä¸œè¥¿ã€‚</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B00H706BIG/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B00H706BIG&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">HTML5 æƒå¨æŒ‡å—</a>ã€‹+ è¿›é˜¶çº§ + 54</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>é™ˆå†›å†›</strong>**ï¼š**ç³»ç»Ÿã€å…¨é¢ï¼Œæ²¡æœ‰é«˜æ·±çš„ç”¨æ³•ï¼Œæ¯”è¾ƒç®€å•ï¼Œå¦‚æœå¯¹åº”ç”¨è¦æ±‚ä¸€èˆ¬ï¼Œè¿™æœ¬ä¹¦çš„çŸ¥è¯†å®Œå…¨èƒ½å¤Ÿåº”ä»˜è¿‡æ¥ï¼Œè¾…ä½ä»¥jsè¯­è¨€ç²¾ç²¹ï¼Œå®Œå…¨è¶³å¤Ÿ</p></blockquote><h2 id="ç»¼åˆç±»"><a class="markdownIt-Anchor" href="#ç»¼åˆç±»"></a> ç»¼åˆç±»</h2><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B003U8XUKQ/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B003U8XUKQ&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">ç¼–å†™é«˜è´¨é‡ä»£ç ï¼šWebå‰ç«¯å¼€å‘ä¿®ç‚¼ä¹‹é“</a>ã€‹+ è¿›é˜¶çº§ + 83 ç¥¨</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p>**jeremyâ€¢leeï¼š**è™½ç„¶æ˜¯è¿›é˜¶çº§ï¼Œä½†æ¨èç¨æœ‰ä¸€ç‚¹åŸºç¡€å°±å¼€å§‹é˜…è¯»æ­¤ä¹¦ï¼Œåœ¨é‡Œè¾¹èƒ½æ‰¾åˆ°å¥½å¤šä½ å½“ä¸‹çš„ä¸€äº›å°ç–‘é—®ï¼Œæœ‰å¥½å¤šæŠ€å·§ï¼ŒåŒ…æ‹¬å›¢é˜Ÿé…åˆä¸‹å¼€å‘çš„æŠ€å·§ã€‚èƒ½ä¿®æ­£å¥½å¤šåœ¨å¼€å‘è¿‡ç¨‹ä¸­çŠ¯ä¸‹çš„é™‹ä¹ ï¼Œå¼ºçƒˆæ¨èï¼</p></blockquote><p><strong>ã€Š<a href="http://www.amazon.cn/gp/product/B008UCHA58/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B008UCHA58&amp;linkCode=as2&amp;tag=vastwork-23" target="_blank" rel="noopener">ç²¾é€šæ­£åˆ™è¡¨è¾¾å¼</a>ã€‹+ è¿›é˜¶çº§ + 68</strong></p><p>æ¨èè¯­ï¼š</p><blockquote><p><strong>èµµæ™“å†¬</strong>**ï¼š**çœ‹å®Œåä¼šæ„Ÿè§‰æŠ€èƒ½ç»å¯¹ä¸Šä¸€ä¸ªå±‚æ¬¡</p></blockquote><blockquote><p>**æèˆªï¼š**å…¨ç«¯é€šç”¨æŠ€èƒ½å¿…é¡»get</p></blockquote><h2 id="ä½ ä¹Ÿå¯ä»¥æ¥æ¨è"><a class="markdownIt-Anchor" href="#ä½ ä¹Ÿå¯ä»¥æ¥æ¨è"></a> ä½ ä¹Ÿå¯ä»¥æ¥æ¨è</h2><p>ä»¥ä¸Šæ¨èå’Œç‚¹èµæ˜¯æ¥è‡ªå¾®ä¿¡ã€Œå‰ç«¯å¤§å…¨ã€å¾®ä¿¡å…¬å·ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ PR ä¸­ï¼Œç”¨ä»¥ä¸‹æ ¼å¼æ¥èä¸Šè¿°åˆ—è¡¨ä¸­æ²¡æœ‰å‡ºç°çš„å¥½ä¹¦ï¼š <strong>ã€Šä¹¦ç±åç§°ã€‹</strong>ã€<strong>å…¥é—¨çº§ or è¿›é˜¶çº§</strong>ã€<strong>ä¸€å¥è¯æ¨èè¯­</strong></p><h2 id="è®©æ›´å¤šäººçŸ¥é“"><a class="markdownIt-Anchor" href="#è®©æ›´å¤šäººçŸ¥é“"></a> è®©æ›´å¤šäººçŸ¥é“</h2><p>åç»­æˆ‘ä»¬å°†ä¸æ–­é€šè¿‡å¾®ä¿¡ã€å¾®åšå’Œç½‘ç«™ç­‰æ¥å®£ä¼ è¿™ä¸ªç»å…¸å‰ç«¯æŠ€æœ¯ä¹¦å•ã€‚æ¨èäººå°†ä¸€ç›´ç½²ååœ¨å…¶ä¸­ã€‚å¦‚æœè¿™ä¸ªç»å…¸å‰ç«¯æŠ€æœ¯ä¹¦ç±åˆ—è¡¨è®©ä½ å—ç›Šï¼Œè¯·å¸®åŠ©é€šè¿‡æœ‹å‹åœˆã€å¾®åšã€QQç©ºé—´ç­‰é€”å¾„æ‰©æ•£ç»™æ›´å¤šäººï¼Œè°¢è°¢ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;awesome-web-dev-books&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#awesome-web-dev-books&quot;&gt;&lt;/a&gt; awesome-web-dev-books&lt;/h1&gt;
&lt;h2 id=&quot;å¦‚æœæœ‰äººè®©ä½ æ¨èå‰ç«¯æŠ€æœ¯ä¹¦è¯·è®©ä»–çœ‹è¿™ä¸ªåˆ—è¡¨&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å¦‚æœæœ‰äººè®©ä½ æ¨èå‰ç«¯æŠ€æœ¯ä¹¦è¯·è®©ä»–çœ‹è¿™ä¸ªåˆ—è¡¨&quot;&gt;&lt;/a&gt; å¦‚æœæœ‰äººè®©ä½ æ¨èå‰ç«¯æŠ€æœ¯ä¹¦ï¼Œè¯·è®©ä»–çœ‹è¿™ä¸ªåˆ—è¡¨&lt;/h2&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å‰è¨€&quot;&gt;&lt;/a&gt; å‰è¨€&lt;/h2&gt;
&lt;p&gt;å¥½çš„æŠ€æœ¯ä¹¦ç±å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿåœ°æˆé•¿ï¼Œå¤§éƒ¨åˆ†äººæˆ–å¤šæˆ–å°‘åœ°å—ç›Šäºç»å…¸çš„æŠ€æœ¯ä¹¦ç±ã€‚åœ¨ã€Œå‰ç«¯å¤§å…¨ã€å¾®ä¿¡å…¬å·åå°ï¼Œæˆ‘ä»¬ç»å¸¸èƒ½æ”¶åˆ°è®©å¸®å¿™æ¨èä¹¦ç±çš„æ¶ˆæ¯ã€‚è¿™ç±»çš„é—®é¢˜åœ¨ &lt;a href=&quot;http://weibo.com/u/5261893910&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;@å‰ç«¯å¤§å…¨ çš„å¾®åš&lt;/a&gt; å’Œ &lt;a href=&quot;http://group.jobbole.com/category/tech/webfront/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ä¼¯ä¹åœ¨çº¿çš„å‰ç«¯å°ç»„&lt;/a&gt; è®¨è®ºä¸­ä¹Ÿä¸ç»äºè€³ã€‚ 6æœˆ30æ—¥ï¼Œä¼¯ä¹åœ¨çº¿åœ¨ã€Œå‰ç«¯å¤§å…¨ã€å¾®ä¿¡å…¬å·&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxODE2MjM1MA==&amp;amp;mid=2651550986&amp;amp;idx=1&amp;amp;sn=16b1ec6869bb07e3d820a78ec3dffd87#rd&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å‘èµ·äº†ä¸€ä¸ªè®¨è®º&lt;/a&gt;Â ï¼ˆæ³¨ï¼šPCç«¯æ— æ³•çœ‹åˆ°å¤§å®¶çš„è¯„è®ºï¼Œéœ€è¦å…³æ³¨å¾®ä¿¡å…¬å·åï¼Œä»å¾®ä¿¡æ‰å¯ä»¥çœ‹åˆ°ï¼‰ï¼Œé€šè¿‡è¿™ä¸ªè®¨è®ºè¯é¢˜ï¼Œåœ¨è¯„è®ºä¸­åˆ†äº«å¯¹è‡ªå·±å¸®åŠ©å¾ˆå¤§çš„å‰ç«¯æŠ€æœ¯ä¹¦ç±ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="angular" scheme="https://qingshaoxi.github.io/blog/categories/angular/"/>
    
      <category term="JavaScript" scheme="https://qingshaoxi.github.io/blog/categories/angular/JavaScript/"/>
    
    
      <category term="angular" scheme="https://qingshaoxi.github.io/blog/tags/angular/"/>
    
      <category term="JavaScript" scheme="https://qingshaoxi.github.io/blog/tags/JavaScript/"/>
    
      <category term="å‰ç«¯" scheme="https://qingshaoxi.github.io/blog/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="ä¹¦ç±" scheme="https://qingshaoxi.github.io/blog/tags/%E4%B9%A6%E7%B1%8D/"/>
    
  </entry>
  
  <entry>
    <title>åˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨å±å¹•å¯è§†åŒºåŸŸå†…</title>
    <link href="https://qingshaoxi.github.io/blog/post/element-in-box.html"/>
    <id>https://qingshaoxi.github.io/blog/post/element-in-box.html</id>
    <published>2017-06-30T16:15:28.000Z</published>
    <updated>2019-02-27T07:32:29.926Z</updated>
    
    <content type="html"><![CDATA[<p>JQuery</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> mainOffsetTop = $(<span class="string">".body .blog ul li"</span>).first().offset().top;</span><br><span class="line">    <span class="keyword">var</span> mainHeight = $(<span class="string">".body .blog ul li"</span>).first().height();</span><br><span class="line">    <span class="keyword">var</span> winHeight = $(<span class="built_in">window</span>).height();</span><br><span class="line">    $(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> winScrollTop = $(<span class="built_in">window</span>).scrollTop();</span><br><span class="line">        <span class="keyword">if</span>(winScrollTop &gt; mainOffsetTop + mainHeight || winScrollTop &lt;ã€€mainOffsetTop - winHeight)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"ä¸åœ¨å¯è§†åŒºåŸŸå†…"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"åœ¨å¯è§†åŒºåŸŸå†…"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><a id="more"></a><blockquote><p>å±å¹•çš„100%é«˜</p></blockquote><blockquote><p>document.getElementById(â€œhtmlâ€).clientHeight;</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">JavaScript</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> yuansu = $(<span class="string">".body .blog ul li"</span>).first();</span><br><span class="line"><span class="keyword">var</span> mainOffsetTop = yuansu.offsetTop;</span><br><span class="line"><span class="keyword">var</span> mainHeight = yuansu.style.height;</span><br><span class="line"><span class="keyword">var</span> winHeight = <span class="built_in">window</span>.clietHeight;</span><br><span class="line"><span class="built_in">document</span>.body.onscroll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> winScrollTop = <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line">    <span class="keyword">if</span>(winScrollTop &gt; mainOffsetTop + mainHeight || winScrollTop &lt;ã€€mainOffsetTop - winHeight)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"ä¸åœ¨å¯è§†åŒºåŸŸå†…"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"åœ¨å¯è§†åŒºåŸŸå†…"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JQuery&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; mainOffsetTop = $(&lt;span class=&quot;string&quot;&gt;&quot;.body .blog ul li&quot;&lt;/span&gt;).first().offset().top;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; mainHeight = $(&lt;span class=&quot;string&quot;&gt;&quot;.body .blog ul li&quot;&lt;/span&gt;).first().height();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; winHeight = $(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).height();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    $(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).scroll(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; winScrollTop = $(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).scrollTop();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(winScrollTop &amp;gt; mainOffsetTop + mainHeight || winScrollTop &amp;lt;ã€€mainOffsetTop - winHeight)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;ä¸åœ¨å¯è§†åŒºåŸŸå†…&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;åœ¨å¯è§†åŒºåŸŸå†…&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://qingshaoxi.github.io/blog/categories/JavaScript/"/>
    
      <category term="jQuery" scheme="https://qingshaoxi.github.io/blog/categories/JavaScript/jQuery/"/>
    
    
      <category term="JavaScript" scheme="https://qingshaoxi.github.io/blog/tags/JavaScript/"/>
    
      <category term="jQuery" scheme="https://qingshaoxi.github.io/blog/tags/jQuery/"/>
    
  </entry>
  
  <entry>
    <title>clientHeightå’ŒoffsetHeightå’ŒscrollHeightçš„åŒºåˆ«</title>
    <link href="https://qingshaoxi.github.io/blog/post/clientHeight-offsetHeight-scrollHeight.html"/>
    <id>https://qingshaoxi.github.io/blog/post/clientHeight-offsetHeight-scrollHeight.html</id>
    <published>2017-05-22T12:39:19.000Z</published>
    <updated>2019-02-27T07:32:29.923Z</updated>
    
    <content type="html"><![CDATA[<h4 id="clientheight"><a class="markdownIt-Anchor" href="#clientheight"></a> clientHeight</h4><p>å¤§éƒ¨åˆ†æµè§ˆå™¨å¯¹ clientHeight éƒ½æ²¡æœ‰ä»€ä¹ˆå¼‚è®®ï¼Œè®¤ä¸ºæ˜¯å…ƒç´ å¯è§†åŒºåŸŸçš„é«˜åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´å…ƒç´ æˆ–çª—å£ä¸­å¯ä»¥çœ‹åˆ°å†…å®¹çš„è¿™ä¸ªåŒºåŸŸçš„é«˜åº¦ï¼Œå³ç„¶æ˜¯æŒ‡å¯çœ‹åˆ°å†…å®¹çš„åŒºåŸŸï¼Œæ»šåŠ¨æ¡ä¸ç®—åœ¨å†…ã€‚ä½†è¦æ³¨æ„paddingæ˜¯ç®—åœ¨å†…ã€‚å…¶è®¡ç®—æ–¹å¼ä¸º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clientHeight = topPadding + bottomPadding+ height - æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦</span><br></pre></td></tr></table></figure><h5 id="offsetheight"><a class="markdownIt-Anchor" href="#offsetheight"></a> offsetHeight</h5><p>åœ¨IE6ï¼ŒIE7ï¼ŒIE8ï¼Œ IE9ä»¥åŠæœ€æ–°çš„çš„FF, Chromeä¸­ï¼Œå¯¹äºä¸€èˆ¬å…ƒç´ ï¼Œéƒ½æ˜¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = padding + height + border = clientHeight + æ»šåŠ¨æ¡ + è¾¹æ¡†</span><br></pre></td></tr></table></figure><h5 id="scrollheight"><a class="markdownIt-Anchor" href="#scrollheight"></a> scrollHeight</h5><p>scrollHeightçš„äº‰è®®æ¯”è¾ƒå¤§ï¼Œæœ‰äº›æµè§ˆå™¨è®¤ä¸ºscrollHeightå¯ä»¥å°äºclientHeightï¼Œæœ‰äº›è®¤ä¸ºscrollHeightè‡³å°‘åº”è¯¥ç­‰äºclientHeightã€‚ä½†æœ‰ä¸€ç‚¹æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrollHeight &gt;= topPadding + bottomPadding + å†…å®¹margin boxçš„é«˜åº¦</span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨ä¸­çš„åŒºåˆ«åœ¨äºï¼š</p><p><mark>IE6ã€IE7 è®¤ä¸ºscrollHeight æ˜¯å†…å®¹é«˜åº¦ï¼Œå¯ä»¥å°äºclientHeight</mark>ã€‚</p><p><mark>FF è®¤ä¸ºscrollHeight æ˜¯å†…å®¹é«˜åº¦ï¼Œä¸è¿‡æœ€å°å€¼æ˜¯clientHeightã€‚</mark></p><p>æ³¨ï¼š ä»¥ä¸Šéƒ½æ˜¯å¯¹äºä¸€èˆ¬å…ƒç´ è€Œè¨€çš„ï¼Œbodyå’ŒdocumentElementçš„clientHeight, offsetHeightå’ŒscrollHeightåœ¨å„ä¸ªæµè§ˆå™¨ä¸­çš„è®¡ç®—æ–¹å¼åˆä¸åŒã€‚</p><p><mark>åœ¨æ‰€æœ‰çš„æµè§ˆå™¨ä¸­ï¼Œå¦‚æœä½ æƒ³è·å–<strong>è§†çª—å¯è§éƒ¨åˆ†</strong>çš„é«˜åº¦ï¼Œåº”è¯¥ä½¿ç”¨<strong>documentElement.clientHeight</strong>ï¼Œå› ä¸º<strong>body.clientHeight</strong>æ˜¯ç”±å®ƒçš„<strong>å†…å®¹</strong>å†³å®šçš„ã€‚</mark></p><h3 id="ff30"><a class="markdownIt-Anchor" href="#ff30"></a> <strong><mark>FF30</mark></strong></h3><p>æ³¨æ„ï¼šFirefox30ä¸­ï¼Œæ°´å¹³æ»šåŠ¨æ¡çš„å®½åº¦æ˜¯17ä¸ªåƒç´ ã€‚</p><blockquote><p>body</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = body.padding + body.border + body.height(CSSè®¾ç½®æˆ–å†…å®¹æ’‘çš„);</span><br><span class="line"></span><br><span class="line">clientHeight = body.padding + body.height(CSSè®¾ç½®æˆ–å†…å®¹æ’‘çš„);</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;= clientHeight;</span><br></pre></td></tr></table></figure><blockquote><p>documentElement</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = body.offsetHeight + body.margin;</span><br><span class="line"></span><br><span class="line">clientHeight = <span class="built_in">window</span>çª—å£å¯è§é«˜åº¦;</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;= clientHeight</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œåªæ˜¯è·å–çª—å£å¯è§é«˜åº¦ï¼Œåœ¨FFä¸­å¾—ç”¨documentElement.clientHeightï¼Œè·å–æ•´ä¸ªé¡µé¢çš„é«˜åº¦ï¼Œåˆ™åº”è¯¥ç”¨documentElement.scrollHeightã€‚</p><blockquote><p>å…ƒç´ </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = padding +border + heightï¼›</span><br><span class="line"></span><br><span class="line">clientHeight = padding +height -æ°´å¹³æ»šåŠ¨æ¡çš„é«˜åº¦ã€‚</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;=clientHeight</span><br></pre></td></tr></table></figure><p><mark>æ€»ç»“ï¼šä»body, documentElement,å…ƒç´ çš„ç»“æœåˆ†æï¼ŒFireFoxè®¤ä¸ºscrollHeightçš„æœ€å°é«˜åº¦æ˜¯clientHeightã€‚</mark></p><p><mark>offsetLeft = å…ƒç´ borderå·¦ä¸Šè§’åˆ°windowè§†çª—åŸç‚¹çš„è·ç¦» æˆ– åˆ°offsetParentçš„border boxé¡¶éƒ¨çš„è·ç¦»ã€‚</mark></p><h3 id="chrome-39"><a class="markdownIt-Anchor" href="#chrome-39"></a> <strong><mark>Chrome 39</mark></strong></h3><p>æ³¨æ„ï¼šChrome39ä¸­ï¼Œæ°´å¹³æ»šåŠ¨æ¡çš„å®½åº¦æ˜¯17ä¸ªåƒç´ ã€‚</p><blockquote><p>body</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = body.padding+ body.border + body.heightï¼ˆCSSè®¾ç½®æˆ–å†…å®¹æ’‘å¤§ï¼‰ï¼›</span><br><span class="line"></span><br><span class="line">clientHeight= body.pdding + body.heightï¼ˆCSSè®¾ç½®æˆ–å†…å®¹æ’‘å¤§ï¼‰ï¼›</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;= offsetHeight; å¹¶ä¸”scrollHeight &gt;= <span class="built_in">window</span>çª—å£å¯è§é«˜åº¦ï¼›</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœbodyæ²¡æœ‰å†…å®¹(ç©ºçš„)ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">body.offsetHeight == documentElement.offsetHeight;</span><br><span class="line"></span><br><span class="line">body.clientHeight ==documentElement.clientHeight;</span><br><span class="line"></span><br><span class="line">body.scrollHeight ==documentElement.scrollHeight;</span><br></pre></td></tr></table></figure><h4 id="è€Œä¸”ä»¥ä¸Šå±æ€§çš„å€¼éƒ½æ˜¯æµè§ˆå™¨çš„è§†çª—é«˜åº¦"><a class="markdownIt-Anchor" href="#è€Œä¸”ä»¥ä¸Šå±æ€§çš„å€¼éƒ½æ˜¯æµè§ˆå™¨çš„è§†çª—é«˜åº¦"></a> è€Œä¸”ä»¥ä¸Šå±æ€§çš„å€¼éƒ½æ˜¯æµè§ˆå™¨çš„è§†çª—é«˜åº¦ã€‚</h4><blockquote><p>documentElement</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = scrollHeight = body.offsetHeight+ body.margin;</span><br><span class="line"></span><br><span class="line">clientHeight = <span class="built_in">window</span>è§†çª—å¯è§é«˜åº¦;</span><br></pre></td></tr></table></figure><p><mark>å¦‚æœbodyå†…å®¹è¿‡çŸ­ï¼Œåˆ™documentElementçš„offsetHeightå’ŒscrollHeightå°†æ¯”clientHeightå°ã€‚</mark></p><p><mark>å› æ­¤ï¼Œåªæ˜¯è·å–é¡µé¢çª—å£å¯è§†éƒ¨åˆ†é«˜åº¦ï¼Œåœ¨Chromeä¸­ç”¨documentElement.clientHeightï¼›è·å–æ•´ä¸ªé¡µé¢å†…å®¹æœ€å¤§é«˜åº¦ï¼ˆå¦‚æœæ¯”çª—å£å°ï¼Œå–çª—å£çš„é«˜åº¦ï¼‰ï¼Œåˆ™åº”è¯¥ç”¨body.scrollHeightï¼›è·å–é¡µé¢å†…å®¹çš„å®é™…é«˜åº¦ï¼Œåº”è¯¥ä½¿ç”¨body.offsetHeight()ã€‚</mark>========</p><blockquote><p>å…ƒç´ </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = padding + border + heightï¼›</span><br><span class="line"></span><br><span class="line">clientHeight = padding + height -æ°´å¹³æ»šåŠ¨æ¡çš„é«˜åº¦ï¼›</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;= clientHeightï¼›</span><br><span class="line"></span><br><span class="line">offsetLeft = å…ƒç´ borderå·¦ä¸Šè§’åˆ°ç”»å¸ƒåŸç‚¹çš„è·ç¦» æˆ– åˆ°offsetParentçš„border boxé¡¶éƒ¨çš„è·ç¦»ã€‚</span><br></pre></td></tr></table></figure><h3 id="ie9"><a class="markdownIt-Anchor" href="#ie9"></a> <strong><mark>IE9</mark></strong></h3><p><mark>æ³¨æ„ï¼šIE9ä¸­ï¼Œæ»šåŠ¨æ¡çš„å®½åº¦æ˜¯17ä¸ªåƒç´ ã€‚</mark></p><blockquote><p>body</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = body.padding +body.border + body.height(CSSè®¾ç½®æˆ–å†…å®¹æ’‘å¤§);</span><br><span class="line"></span><br><span class="line">clientHeight =  body.padding + body.height(CSSè®¾ç½®æˆ–å†…å®¹æ’‘å¤§);</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;= clientHeight;</span><br></pre></td></tr></table></figure><blockquote><p>documentElement</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = clientHeight + æ°´å¹³æ»šåŠ¨æ¡çš„é«˜åº¦;</span><br><span class="line"></span><br><span class="line">clientHeight = <span class="built_in">window</span>çª—å£å¯è§é«˜åº¦</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;= clientHeightå¹¶ä¸”scrollHeight &gt;= body.offsetHeight</span><br></pre></td></tr></table></figure><p><mark>å› æ­¤ï¼Œåªæ˜¯è·å–windowçª—å£å¯è§é«˜åº¦ï¼Œåœ¨IE9ä¸­å¾—ç”¨documentElement.clientHeightï¼Œè·å–æ•´ä¸ªé¡µé¢å†…å®¹çš„é«˜åº¦ï¼Œåˆ™åº”è¯¥ç”¨documentElement.scrollHeightã€‚</mark></p><blockquote><p>å…ƒç´ </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = padding +border + heightã€‚</span><br><span class="line"></span><br><span class="line">clientHeight = padding +height - æ»šåŠ¨æ¡çš„å®½åº¦ã€‚</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;=clientHeight;</span><br></pre></td></tr></table></figure><p><mark>æ€»ç»“ï¼šä»body, documentElement,å…ƒç´ çš„ç»“æœåˆ†æï¼ŒIE9è®¤ä¸ºscrollHeightçš„æœ€å°é«˜åº¦æ˜¯clientHeightã€‚</mark></p><p><mark>ä»ç»“æœåˆ†æï¼ŒIE9è®¤ä¸ºscrollHeightçš„æœ€å°é«˜åº¦æ˜¯clientHeightã€‚</mark></p><h3 id="ie8"><a class="markdownIt-Anchor" href="#ie8"></a> <mark><strong>IE8</strong></mark></h3><p><mark>æ³¨æ„ï¼šIE8ä¸­ï¼Œæ»šåŠ¨æ¡çš„å®½åº¦æ˜¯17ä¸ªåƒç´ ã€‚</mark></p><blockquote><p>body</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = body.padding +body.border + body.height(CSSè®¾ç½®æˆ–å†…å®¹æ’‘å¤§);</span><br><span class="line"></span><br><span class="line">clientHeight =  body.padding + body.height(CSSè®¾ç½®æˆ–å†…å®¹æ’‘å¤§);</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;= clientHeight;</span><br></pre></td></tr></table></figure><blockquote><p>documentElement</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = clientHeight + æ°´å¹³æ»šåŠ¨æ¡çš„é«˜åº¦ + body.border</span><br><span class="line"></span><br><span class="line">clientHeight = <span class="built_in">window</span>çª—å£å¯è§é«˜åº¦</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;= clientHeightå¹¶ä¸”scrollHeight &gt;= body.offsetHeight</span><br></pre></td></tr></table></figure><p><mark>å› æ­¤ï¼Œåªæ˜¯è·å–çª—å£å¯è§é«˜åº¦ï¼Œåœ¨IE8ä¸­å¾—ç”¨documentElement.clientHeightï¼Œè·å–æ•´ä¸ªé¡µé¢å†…å®¹é«˜åº¦ï¼Œåˆ™åº”è¯¥ç”¨documentElement.scrollHeightã€‚</mark></p><blockquote><p>å…ƒç´ ä¸Š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = padding +border + heightã€‚</span><br><span class="line"></span><br><span class="line">clientHeight = padding +height â€“ æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦ã€‚</span><br><span class="line"></span><br><span class="line">scrollHeight &gt;=clientHeight</span><br></pre></td></tr></table></figure><p><mark>ä»ç»“æœåˆ†æï¼ŒIE8è®¤ä¸ºscrollHeightçš„æœ€å°é«˜åº¦æ˜¯clientHeightã€‚</mark></p><p><mark>offsetLeft = å…ƒç´ borderå·¦ä¸Šè§’åˆ°ç”»å¸ƒåŸç‚¹çš„è·ç¦» æˆ– åˆ°offsetParentçš„border boxé¡¶éƒ¨çš„è·ç¦»ã€‚</mark></p><h3 id="ie7"><a class="markdownIt-Anchor" href="#ie7"></a> <strong><mark>IE7</mark></strong></h3><p><mark>æ³¨æ„ï¼šIE7ä¸­ï¼Œæ»šåŠ¨æ¡çš„å®½åº¦æ˜¯17ä¸ªåƒç´ ã€‚</mark></p><blockquote><p>body</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = body.padding + body.border+ body.height(CSSè®¾ç½®æˆ–å†…å®¹æ’‘å¤§)ï¼›</span><br><span class="line"></span><br><span class="line">clientHeight = body.height +body.padding â€“ æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦ï¼›</span><br><span class="line"></span><br><span class="line">scrollHeight =  å†…å®¹margin boxçš„é«˜åº¦ï¼›</span><br></pre></td></tr></table></figure><blockquote><p>documentElement</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = clientHeight =<span class="built_in">window</span>è§†çª—å¯è§é«˜åº¦;</span><br><span class="line"></span><br><span class="line">scrollHeight = body.offsetHeight+ body.margin;</span><br></pre></td></tr></table></figure><p><mark>å› æ­¤ï¼Œåªæ˜¯è·å–çª—å£å¯è§éƒ¨åˆ†é«˜åº¦ï¼Œåœ¨IE7ä¸­å¾—ç”¨documentElement.clientHeightï¼Œè·å–æ•´ä¸ªé¡µé¢å†…å®¹çš„å¤§å°ï¼Œåˆ™ç”¨documentElement.scrollHeightã€‚</mark></p><blockquote><p>å…ƒç´ </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = padding +border + heightã€‚</span><br><span class="line"></span><br><span class="line">clientHeight = padding +height - scrollbar.widthã€‚</span><br><span class="line"></span><br><span class="line">scrollHeight = padding + å†…å®¹margin boxçš„é«˜åº¦</span><br></pre></td></tr></table></figure><p><mark>ä»ç»“æœåˆ†æï¼ŒIE7è®¤ä¸ºscrollHeight å¯ä»¥å°äºclientHeightã€‚</mark></p><p><mark>offsetLeft = å…ƒç´ border boxå·¦ä¸Šè§’åˆ°çˆ¶å®¹å™¨ï¼ˆä¸æ˜¯offsetParentï¼‰çš„border boxå·¦ä¸Šè§’çš„è·ç¦»ã€‚</mark></p><h3 id="ie6"><a class="markdownIt-Anchor" href="#ie6"></a> <strong><mark>IE6</mark></strong></h3><blockquote><p>body</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = body.padding +å†…å®¹margin boxçš„é«˜åº¦ã€‚</span><br><span class="line"></span><br><span class="line">clientHeight = scrollHeight</span><br></pre></td></tr></table></figure><blockquote><p>documentElement</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight=ç”»å¸ƒé«˜åº¦ï¼Œä½†offsetHeight&gt;= clientHeight</span><br><span class="line"></span><br><span class="line">clientHeight = <span class="built_in">window</span>çª—å£å¯è§é«˜åº¦ã€‚</span><br><span class="line"></span><br><span class="line">scrollHeight = å†…å®¹çš„é«˜åº¦</span><br></pre></td></tr></table></figure><p><mark>å› æ­¤ï¼Œåªæ˜¯è·å–é¡µé¢çª—å£çš„å¤§å°ï¼Œåœ¨IE6ä¸­å¾—ç”¨documentElement.clientHeightï¼Œè·å–æ•´ä¸ªé¡µé¢å†…å®¹çš„å¤§å°ï¼Œåˆ™åº”è¯¥ç”¨documentElement.offsetHeightã€‚</mark></p><blockquote><p>å…ƒç´ </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offsetHeight = padding +border + heightã€‚</span><br><span class="line"></span><br><span class="line">clientHeight = padding +height - scrollbar.widthã€‚</span><br><span class="line"></span><br><span class="line">scrollHeight = padding + å†…å®¹margin boxçš„é«˜åº¦</span><br></pre></td></tr></table></figure><p><mark>ä»ç»“æœåˆ†æï¼ŒIE6è®¤ä¸ºscrollHeight å¯ä»¥å°äºclientHeightã€‚</mark></p><p><mark>offsetLeft = å…ƒç´ border boxå·¦ä¸Šè§’åˆ°çˆ¶å®¹å™¨ï¼ˆä¸æ˜¯offsetParentï¼‰çš„border boxå·¦ä¸Šè§’çš„è·ç¦»ã€‚</mark></p><h2 id="ç»“è®º"><a class="markdownIt-Anchor" href="#ç»“è®º"></a> ç»“è®º</h2><ul><li><mark>IE6ã€IE7è®¤ä¸ºscrollHeightå¯ä»¥å°äºclientHeight</mark></li><li><mark>IE8ã€IE9å’ŒFirefoxè®¤ä¸ºscrollHeight&gt;=clientHeight</mark></li><li><mark>å–çª—å£å¯è§éƒ¨åˆ†é«˜åº¦ï¼Œç»Ÿä¸€ç”¨documentElement.clientHeightå³å¯</mark></li><li><mark>å–é¡µé¢å†…å®¹çš„é«˜åº¦ï¼ˆå¦‚æœå†…å®¹é«˜åº¦æ¯”çª—å£é«˜åº¦å°ï¼Œå–çª—å£é«˜åº¦)ï¼Œåˆ™ç”¨documentElement.scrollHeightï¼Œåªæœ‰Chromeéœ€è¦ä½¿ç”¨body.scrollHeight</mark></li></ul><p>åŒç†clientWidthã€offsetWidthå’ŒscrollWidthçš„è§£é‡Šä¸ä¸Šé¢ç›¸åŒï¼Œåªæ˜¯æŠŠé«˜åº¦æ¢æˆå®½åº¦å³å¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;clientheight&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#clientheight&quot;&gt;&lt;/a&gt; clientHeight&lt;/h4&gt;
&lt;p&gt;å¤§éƒ¨åˆ†æµè§ˆå™¨å¯¹ clientHeight éƒ½æ²¡æœ‰ä»€ä¹ˆå¼‚è®®ï¼Œè®¤ä¸ºæ˜¯å…ƒç´ å¯è§†åŒºåŸŸçš„é«˜åº¦ï¼Œ
      
    
    </summary>
    
      <category term="Javascript" scheme="https://qingshaoxi.github.io/blog/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://qingshaoxi.github.io/blog/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>æ‰‹æœºå¼ºåˆ¶æ¨ªå±</title>
    <link href="https://qingshaoxi.github.io/blog/post/phone-horizontal.html"/>
    <id>https://qingshaoxi.github.io/blog/post/phone-horizontal.html</id>
    <published>2017-04-27T11:51:14.000Z</published>
    <updated>2019-02-27T07:32:29.944Z</updated>
    
    <content type="html"><![CDATA[<p>é¡µé¢æ‰“å¼€ï¼Œç›´æ¥æ¨ªå±æ˜¾ç¤ºã€‚</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;æ‰‹æœºå¼ºåˆ¶æ¨ªå±&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"main"</span>&gt;</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªæ¨ªå±æµ‹è¯•</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="https:/</span><span class="regexp">/cdn.bootcss.com/</span>jquery/<span class="number">3.0</span><span class="number">.0</span>/jquery.min.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">  $(window).on('load resize',function()&#123;</span></span><br><span class="line"><span class="string">    var w = window.innerWidth, h = window.innerHeight;</span></span><br><span class="line"><span class="string">    var $container = $('.main');</span></span><br><span class="line"><span class="string">    if (w&lt;h) &#123;</span></span><br><span class="line"><span class="string">        $container.css(&#123;</span></span><br><span class="line"><span class="string">            'width': h,</span></span><br><span class="line"><span class="string">            'height': w,</span></span><br><span class="line"><span class="string">            'transform': 'rotate(90deg)',</span></span><br><span class="line"><span class="string">            '-webkit-transform': 'rotate(90deg)',</span></span><br><span class="line"><span class="string">            'transform-origin': w/h/2*100+'% 50%',</span></span><br><span class="line"><span class="string">            '-webkit-transform-origin': w/h/2*100+'% 50%'</span></span><br><span class="line"><span class="string">        &#125;);</span></span><br><span class="line"><span class="string">    &#125; else &#123;</span></span><br><span class="line"><span class="string">        $container.removeAttr('style');</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é¡µé¢æ‰“å¼€ï¼Œç›´æ¥æ¨ªå±æ˜¾ç¤ºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Javascript" scheme="https://qingshaoxi.github.io/blog/categories/Javascript/"/>
    
      <category term="Jquery" scheme="https://qingshaoxi.github.io/blog/categories/Javascript/Jquery/"/>
    
    
      <category term="Javascript" scheme="https://qingshaoxi.github.io/blog/tags/Javascript/"/>
    
      <category term="Jquery" scheme="https://qingshaoxi.github.io/blog/tags/Jquery/"/>
    
  </entry>
  
  <entry>
    <title>æ¯å‘¨çƒ§è„‘-2</title>
    <link href="https://qingshaoxi.github.io/blog/post/burn-brain-2.html"/>
    <id>https://qingshaoxi.github.io/blog/post/burn-brain-2.html</id>
    <published>2017-04-15T11:47:50.000Z</published>
    <updated>2019-02-27T07:32:29.921Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚å›¾æ‰€ç¤ºï¼Œæœ‰ä¸€å µç”±é«˜åº¦ç›¸åŒä½†é•¿åº¦ä¸åŒçš„ç –å—ç Œæˆçš„å¢™ï¼Œå¢™çš„æ¯ä¸€å±‚çš„æ€»é•¿åº¦ç›¸åŒã€‚ä½ éœ€è¦ä»ä¸Šåˆ°ä¸‹ç”»ä¸€æ¡å‚çº¿ï¼Œä½¿å¾—è¿™æ¡çº¿åˆ‡æ–­çš„ç –å—æœ€å°‘ï¼ˆæ³¨æ„ï¼Œä¸å¯ä»¥åœ¨æœ€å·¦æˆ–æœ€å³è¾¹ç”»çº¿ï¼‰ï¼Œå¹¶è¿”å›è¢«åˆ‡æ–­çš„ç –çš„æ•°é‡ã€‚</p><p>è¾“å…¥çš„æ•°æ®æ˜¯ä¸€ä¸ªæ•°ç»„çš„æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå­æ•°ç»„ä»£è¡¨ä¸€å±‚ï¼Œå…ƒç´ æ˜¯è¿™ä¸€å±‚ä»å·¦åˆ°å³æ¯å—ç –çš„é•¿åº¦ã€‚</p><a id="more"></a><p>å¦‚ä¸Šå›¾çš„è¾“å…¥æ˜¯ï¼š<br>[[1,2,2,1], [3,1,2], [1,3,2], [2,4], [3,1,2], [1,3,1,1]]<br>è¾“å‡ºæ˜¯2</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> splitWall = <span class="function"><span class="keyword">function</span>(<span class="params">wall</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> sum = [],sameArr = [],count = <span class="number">0</span>,same = <span class="number">0</span>;     <span class="comment">//sumç”±æ¯ä¸ªæ•°ç»„ç´¯åŠ çš„å’Œçš„å€¼ç»„æˆï¼ŒsameArrç”±ç´¯åŠ å’Œç›¸åŒçš„æ•°ç»„çš„ä¸ªæ•°ç»„æˆï¼Œcountä¸ºç´¯åŠ å’Œï¼Œsameä¸ºç´¯åŠ å’Œç›¸åŒçš„æ•°ç»„çš„ä¸ªæ•°;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>;i&lt;wall.length;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;wall[i].length<span class="number">-1</span>;j++)&#123;</span><br><span class="line">count = count+wall[i][j];</span><br><span class="line">sum.push(count);</span><br><span class="line">&#125;</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;sum.length<span class="number">-1</span>;i++)&#123;</span><br><span class="line"><span class="keyword">var</span> sumNew = sum.sort();</span><br><span class="line"><span class="keyword">if</span>(sumNew[i] == sumNew[i+<span class="number">1</span>] &amp;&amp; sumNew[i] == sumNew[i<span class="number">-1</span>])&#123;</span><br><span class="line">same++;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(sumNew[i] != sumNew[i+<span class="number">1</span>] &amp;&amp; sumNew[i] != sumNew[i<span class="number">-1</span>])&#123;</span><br><span class="line">same = <span class="number">0</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">same = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">sameArr.push(same);</span><br><span class="line">&#125;</span><br><span class="line">same = <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, sameArr);</span><br><span class="line"><span class="keyword">var</span> diff = wall.length - same;</span><br><span class="line"><span class="keyword">return</span> diff;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>],[<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">4</span>],[<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">6</span>],[<span class="number">6</span>],[<span class="number">6</span>],[<span class="number">6</span>],[<span class="number">6</span>],[<span class="number">3</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">3</span>],[<span class="number">6</span>],[<span class="number">3</span>,<span class="number">3</span>]];  </span><br><span class="line">alert(splitWall(arr));</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¦‚å›¾æ‰€ç¤ºï¼Œæœ‰ä¸€å µç”±é«˜åº¦ç›¸åŒä½†é•¿åº¦ä¸åŒçš„ç –å—ç Œæˆçš„å¢™ï¼Œå¢™çš„æ¯ä¸€å±‚çš„æ€»é•¿åº¦ç›¸åŒã€‚ä½ éœ€è¦ä»ä¸Šåˆ°ä¸‹ç”»ä¸€æ¡å‚çº¿ï¼Œä½¿å¾—è¿™æ¡çº¿åˆ‡æ–­çš„ç –å—æœ€å°‘ï¼ˆæ³¨æ„ï¼Œä¸å¯ä»¥åœ¨æœ€å·¦æˆ–æœ€å³è¾¹ç”»çº¿ï¼‰ï¼Œå¹¶è¿”å›è¢«åˆ‡æ–­çš„ç –çš„æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;è¾“å…¥çš„æ•°æ®æ˜¯ä¸€ä¸ªæ•°ç»„çš„æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå­æ•°ç»„ä»£è¡¨ä¸€å±‚ï¼Œå…ƒç´ æ˜¯è¿™ä¸€å±‚ä»å·¦åˆ°å³æ¯å—ç –çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Javascript" scheme="https://qingshaoxi.github.io/blog/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://qingshaoxi.github.io/blog/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>gitå‘½ä»¤é›†åˆ</title>
    <link href="https://qingshaoxi.github.io/blog/post/git-cmd.html"/>
    <id>https://qingshaoxi.github.io/blog/post/git-cmd.html</id>
    <published>2017-04-07T14:09:51.000Z</published>
    <updated>2019-02-27T07:32:29.929Z</updated>
    
    <content type="html"><![CDATA[<h4 id="åˆå§‹åŒ–æœ¬åœ°gitä»“åº“åˆ›å»ºæ–°ä»“åº“"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–æœ¬åœ°gitä»“åº“åˆ›å»ºæ–°ä»“åº“"></a> åˆå§‹åŒ–æœ¬åœ°gitä»“åº“ï¼ˆåˆ›å»ºæ–°ä»“åº“ï¼‰</h4><pre><code>    git init    </code></pre><h4 id="é…ç½®ç”¨æˆ·å"><a class="markdownIt-Anchor" href="#é…ç½®ç”¨æˆ·å"></a> é…ç½®ç”¨æˆ·å</h4><pre><code>git config --global user.name &quot;xxx&quot; </code></pre><h4 id="é…ç½®é‚®ä»¶"><a class="markdownIt-Anchor" href="#é…ç½®é‚®ä»¶"></a> é…ç½®é‚®ä»¶</h4><pre><code>git config --global user.email &quot;xxx@xxx.com&quot;  </code></pre><a id="more"></a><h4 id="cloneè¿œç¨‹ä»“åº“"><a class="markdownIt-Anchor" href="#cloneè¿œç¨‹ä»“åº“"></a> cloneè¿œç¨‹ä»“åº“</h4><pre><code>git clone git+ssh://git@192.168.53.168/VT.git </code></pre><h4 id="æŸ¥çœ‹å½“å‰ç‰ˆæœ¬çŠ¶æ€æ˜¯å¦ä¿®æ”¹"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹å½“å‰ç‰ˆæœ¬çŠ¶æ€æ˜¯å¦ä¿®æ”¹"></a> æŸ¥çœ‹å½“å‰ç‰ˆæœ¬çŠ¶æ€ï¼ˆæ˜¯å¦ä¿®æ”¹ï¼‰</h4><pre><code>git status</code></pre><h4 id="æ·»åŠ xyzæ–‡ä»¶è‡³index"><a class="markdownIt-Anchor" href="#æ·»åŠ xyzæ–‡ä»¶è‡³index"></a> æ·»åŠ xyzæ–‡ä»¶è‡³index</h4><pre><code>git add xyz  </code></pre><h4 id="å¢åŠ å½“å‰å­ç›®å½•ä¸‹æ‰€æœ‰æ›´æ”¹è¿‡çš„æ–‡ä»¶è‡³index"><a class="markdownIt-Anchor" href="#å¢åŠ å½“å‰å­ç›®å½•ä¸‹æ‰€æœ‰æ›´æ”¹è¿‡çš„æ–‡ä»¶è‡³index"></a> å¢åŠ å½“å‰å­ç›®å½•ä¸‹æ‰€æœ‰æ›´æ”¹è¿‡çš„æ–‡ä»¶è‡³index</h4><pre><code>git add .  </code></pre><h4 id="æäº¤"><a class="markdownIt-Anchor" href="#æäº¤"></a> æäº¤</h4><pre><code>git commit -m 'xxx'  </code></pre><h4 id="åˆå¹¶ä¸Šä¸€æ¬¡æäº¤ç”¨äºåå¤ä¿®æ”¹"><a class="markdownIt-Anchor" href="#åˆå¹¶ä¸Šä¸€æ¬¡æäº¤ç”¨äºåå¤ä¿®æ”¹"></a> åˆå¹¶ä¸Šä¸€æ¬¡æäº¤ï¼ˆç”¨äºåå¤ä¿®æ”¹ï¼‰</h4><pre><code>git commit --amend -m 'xxx'  </code></pre><h4 id="å°†addå’Œcommitåˆä¸ºä¸€æ­¥"><a class="markdownIt-Anchor" href="#å°†addå’Œcommitåˆä¸ºä¸€æ­¥"></a> å°†addå’Œcommitåˆä¸ºä¸€æ­¥</h4><pre><code>git commit -am 'xxx'</code></pre><h4 id="åˆ é™¤indexä¸­çš„æ–‡ä»¶"><a class="markdownIt-Anchor" href="#åˆ é™¤indexä¸­çš„æ–‡ä»¶"></a> åˆ é™¤indexä¸­çš„æ–‡ä»¶</h4><pre><code>git rm xxx    </code></pre><h4 id="é€’å½’åˆ é™¤"><a class="markdownIt-Anchor" href="#é€’å½’åˆ é™¤"></a> é€’å½’åˆ é™¤</h4><pre><code>git rm -r * </code></pre><h4 id="æ˜¾ç¤ºæäº¤æ—¥å¿—"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæäº¤æ—¥å¿—"></a> æ˜¾ç¤ºæäº¤æ—¥å¿—</h4><pre><code>git log    </code></pre><h4 id="æ˜¾ç¤º1è¡Œæ—¥å¿—-nä¸ºnè¡Œ"><a class="markdownIt-Anchor" href="#æ˜¾ç¤º1è¡Œæ—¥å¿—-nä¸ºnè¡Œ"></a> æ˜¾ç¤º1è¡Œæ—¥å¿— -nä¸ºnè¡Œ</h4><pre><code>git log -1   </code></pre><h4 id="æ˜¾ç¤ºæäº¤æ—¥å¿—åŠç›¸å…³å˜åŠ¨æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæäº¤æ—¥å¿—åŠç›¸å…³å˜åŠ¨æ–‡ä»¶"></a> æ˜¾ç¤ºæäº¤æ—¥å¿—åŠç›¸å…³å˜åŠ¨æ–‡ä»¶</h4><pre><code>git log --stat git log -p -m</code></pre><h4 id="æ˜¾ç¤ºæŸä¸ªæäº¤çš„è¯¦ç»†å†…å®¹"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæŸä¸ªæäº¤çš„è¯¦ç»†å†…å®¹"></a> æ˜¾ç¤ºæŸä¸ªæäº¤çš„è¯¦ç»†å†…å®¹</h4><pre><code>git show dfb02e6e4f2f7b573337763e5c0013802e392818 </code></pre><h4 id="å¯åªç”¨commitidçš„å‰å‡ ä½"><a class="markdownIt-Anchor" href="#å¯åªç”¨commitidçš„å‰å‡ ä½"></a> å¯åªç”¨commitidçš„å‰å‡ ä½</h4><pre><code>git show dfb02</code></pre><h4 id="æ˜¾ç¤ºheadæäº¤æ—¥å¿—"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºheadæäº¤æ—¥å¿—"></a> æ˜¾ç¤ºHEADæäº¤æ—¥å¿—</h4><pre><code>git show HEAD </code></pre><h4 id="æ˜¾ç¤ºheadçš„çˆ¶ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„æäº¤æ—¥å¿—-ä¸ºä¸Šä¸¤ä¸ªç‰ˆæœ¬5ä¸ºä¸Š5ä¸ªç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºheadçš„çˆ¶ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„æäº¤æ—¥å¿—-ä¸ºä¸Šä¸¤ä¸ªç‰ˆæœ¬5ä¸ºä¸Š5ä¸ªç‰ˆæœ¬"></a> æ˜¾ç¤ºHEADçš„çˆ¶ï¼ˆä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼‰çš„æäº¤æ—¥å¿— ^<sup>ä¸ºä¸Šä¸¤ä¸ªç‰ˆæœ¬</sup>5ä¸ºä¸Š5ä¸ªç‰ˆæœ¬</h4><pre><code>git show HEAD^ </code></pre><h4 id="æ˜¾ç¤ºå·²å­˜åœ¨çš„tag"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºå·²å­˜åœ¨çš„tag"></a> æ˜¾ç¤ºå·²å­˜åœ¨çš„tag</h4><pre><code>git tag </code></pre><h4 id="å¢åŠ v20çš„tag"><a class="markdownIt-Anchor" href="#å¢åŠ v20çš„tag"></a> å¢åŠ v2.0çš„tag</h4><pre><code>git tag -a v2.0 -m 'xxx' </code></pre><h4 id="æ˜¾ç¤ºv20çš„æ—¥å¿—åŠè¯¦ç»†å†…å®¹"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºv20çš„æ—¥å¿—åŠè¯¦ç»†å†…å®¹"></a> æ˜¾ç¤ºv2.0çš„æ—¥å¿—åŠè¯¦ç»†å†…å®¹</h4><pre><code>git show v2.0 </code></pre><h4 id="æ˜¾ç¤ºv20çš„æ—¥å¿—"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºv20çš„æ—¥å¿—"></a> æ˜¾ç¤ºv2.0çš„æ—¥å¿—</h4><pre><code>git log v2.0  </code></pre><h4 id="æ˜¾ç¤ºæ‰€æœ‰æœªæ·»åŠ è‡³indexçš„å˜æ›´"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæ‰€æœ‰æœªæ·»åŠ è‡³indexçš„å˜æ›´"></a> æ˜¾ç¤ºæ‰€æœ‰æœªæ·»åŠ è‡³indexçš„å˜æ›´</h4><pre><code>git diff  </code></pre><h4 id="æ˜¾ç¤ºæ‰€æœ‰å·²æ·»åŠ indexä½†è¿˜æœªcommitçš„å˜æ›´"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæ‰€æœ‰å·²æ·»åŠ indexä½†è¿˜æœªcommitçš„å˜æ›´"></a> æ˜¾ç¤ºæ‰€æœ‰å·²æ·»åŠ indexä½†è¿˜æœªcommitçš„å˜æ›´</h4><pre><code>git diff --cached</code></pre><h4 id="æ¯”è¾ƒä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å·®å¼‚"><a class="markdownIt-Anchor" href="#æ¯”è¾ƒä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å·®å¼‚"></a> æ¯”è¾ƒä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å·®å¼‚</h4><pre><code>git diff HEAD^ </code></pre><h4 id="æ¯”è¾ƒä¸headç‰ˆæœ¬libç›®å½•çš„å·®å¼‚"><a class="markdownIt-Anchor" href="#æ¯”è¾ƒä¸headç‰ˆæœ¬libç›®å½•çš„å·®å¼‚"></a> æ¯”è¾ƒä¸HEADç‰ˆæœ¬libç›®å½•çš„å·®å¼‚</h4><pre><code>git diff HEAD -- ./lib </code></pre><h4 id="æ¯”è¾ƒè¿œç¨‹åˆ†æ”¯masterä¸Šæœ‰æœ¬åœ°åˆ†æ”¯masterä¸Šæ²¡æœ‰çš„"><a class="markdownIt-Anchor" href="#æ¯”è¾ƒè¿œç¨‹åˆ†æ”¯masterä¸Šæœ‰æœ¬åœ°åˆ†æ”¯masterä¸Šæ²¡æœ‰çš„"></a> æ¯”è¾ƒè¿œç¨‹åˆ†æ”¯masterä¸Šæœ‰æœ¬åœ°åˆ†æ”¯masterä¸Šæ²¡æœ‰çš„</h4><pre><code>git diff origin/master..master </code></pre><h4 id="åªæ˜¾ç¤ºå·®å¼‚çš„æ–‡ä»¶ä¸æ˜¾ç¤ºå…·ä½“å†…å®¹"><a class="markdownIt-Anchor" href="#åªæ˜¾ç¤ºå·®å¼‚çš„æ–‡ä»¶ä¸æ˜¾ç¤ºå…·ä½“å†…å®¹"></a> åªæ˜¾ç¤ºå·®å¼‚çš„æ–‡ä»¶ï¼Œä¸æ˜¾ç¤ºå…·ä½“å†…å®¹</h4><pre><code>git diff origin/master..master --stat </code></pre><h4 id="å¢åŠ è¿œç¨‹å®šä¹‰ç”¨äºpushpullfetch"><a class="markdownIt-Anchor" href="#å¢åŠ è¿œç¨‹å®šä¹‰ç”¨äºpushpullfetch"></a> å¢åŠ è¿œç¨‹å®šä¹‰ï¼ˆç”¨äºpush/pull/fetchï¼‰</h4><pre><code>git remote add origin git+ssh://git@192.168.53.168/VT.git</code></pre><h4 id="æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯"></a> æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯</h4><pre><code>git branch </code></pre><h4 id="æ˜¾ç¤ºåŒ…å«æäº¤50089çš„åˆ†æ”¯"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºåŒ…å«æäº¤50089çš„åˆ†æ”¯"></a> æ˜¾ç¤ºåŒ…å«æäº¤50089çš„åˆ†æ”¯</h4><pre><code>git branch --contains 50089                            </code></pre><h4 id="æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯"></a> æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯</h4><pre><code>git branch -a </code></pre><h4 id="æ˜¾ç¤ºæ‰€æœ‰åŸåˆ›åˆ†æ”¯"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæ‰€æœ‰åŸåˆ›åˆ†æ”¯"></a> æ˜¾ç¤ºæ‰€æœ‰åŸåˆ›åˆ†æ”¯</h4><pre><code>git branch -r                            </code></pre><h4 id="æ˜¾ç¤ºæ‰€æœ‰å·²åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæ‰€æœ‰å·²åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯"></a> æ˜¾ç¤ºæ‰€æœ‰å·²åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</h4><pre><code>git branch --merged </code></pre><h4 id="æ˜¾ç¤ºæ‰€æœ‰æœªåˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæ‰€æœ‰æœªåˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯"></a> æ˜¾ç¤ºæ‰€æœ‰æœªåˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</h4><pre><code>git branch --no-merged   </code></pre><h4 id="æœ¬åœ°åˆ†æ”¯æ”¹å"><a class="markdownIt-Anchor" href="#æœ¬åœ°åˆ†æ”¯æ”¹å"></a> æœ¬åœ°åˆ†æ”¯æ”¹å</h4><pre><code>git branch -m master master_copy  </code></pre><h4 id="ä»å½“å‰åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯master_copyå¹¶æ£€å‡º"><a class="markdownIt-Anchor" href="#ä»å½“å‰åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯master_copyå¹¶æ£€å‡º"></a> ä»å½“å‰åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯master_copyå¹¶æ£€å‡º</h4><pre><code>git checkout -b master_copy                          </code></pre><h4 id="ä¸Šé¢çš„å®Œæ•´ç‰ˆ"><a class="markdownIt-Anchor" href="#ä¸Šé¢çš„å®Œæ•´ç‰ˆ"></a> ä¸Šé¢çš„å®Œæ•´ç‰ˆ</h4><pre><code>git checkout -b master master_copy </code></pre><h4 id="æ£€å‡ºå·²å­˜åœ¨çš„featuresperformanceåˆ†æ”¯"><a class="markdownIt-Anchor" href="#æ£€å‡ºå·²å­˜åœ¨çš„featuresperformanceåˆ†æ”¯"></a> æ£€å‡ºå·²å­˜åœ¨çš„features/performanceåˆ†æ”¯</h4><pre><code>git checkout features/performance </code></pre><h4 id="æ£€å‡ºè¿œç¨‹åˆ†æ”¯hotfixesbjvep933å¹¶åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯"><a class="markdownIt-Anchor" href="#æ£€å‡ºè¿œç¨‹åˆ†æ”¯hotfixesbjvep933å¹¶åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯"></a> æ£€å‡ºè¿œç¨‹åˆ†æ”¯hotfixes/BJVEP933å¹¶åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯</h4><pre><code>git checkout --track hotfixes/BJVEP933</code></pre><h4 id="æ£€å‡ºç‰ˆæœ¬v20"><a class="markdownIt-Anchor" href="#æ£€å‡ºç‰ˆæœ¬v20"></a> æ£€å‡ºç‰ˆæœ¬v2.0</h4><pre><code>git checkout v2.0</code></pre><h4 id="ä»è¿œç¨‹åˆ†æ”¯developåˆ›å»ºæ–°æœ¬åœ°åˆ†æ”¯develå¹¶æ£€å‡º"><a class="markdownIt-Anchor" href="#ä»è¿œç¨‹åˆ†æ”¯developåˆ›å»ºæ–°æœ¬åœ°åˆ†æ”¯develå¹¶æ£€å‡º"></a> ä»è¿œç¨‹åˆ†æ”¯developåˆ›å»ºæ–°æœ¬åœ°åˆ†æ”¯develå¹¶æ£€å‡º</h4><pre><code>git checkout -b devel origin/develop</code></pre><h4 id="æ£€å‡ºheadç‰ˆæœ¬çš„readmeæ–‡ä»¶å¯ç”¨äºä¿®æ”¹é”™è¯¯å›é€€"><a class="markdownIt-Anchor" href="#æ£€å‡ºheadç‰ˆæœ¬çš„readmeæ–‡ä»¶å¯ç”¨äºä¿®æ”¹é”™è¯¯å›é€€"></a> æ£€å‡ºheadç‰ˆæœ¬çš„READMEæ–‡ä»¶ï¼ˆå¯ç”¨äºä¿®æ”¹é”™è¯¯å›é€€ï¼‰</h4><pre><code>git checkout -- README</code></pre><h4 id="åˆå¹¶è¿œç¨‹masteråˆ†æ”¯è‡³å½“å‰åˆ†æ”¯"><a class="markdownIt-Anchor" href="#åˆå¹¶è¿œç¨‹masteråˆ†æ”¯è‡³å½“å‰åˆ†æ”¯"></a> åˆå¹¶è¿œç¨‹masteråˆ†æ”¯è‡³å½“å‰åˆ†æ”¯</h4><pre><code>git merge origin/master </code></pre><h4 id="åˆå¹¶æäº¤ff44785404a8eçš„ä¿®æ”¹"><a class="markdownIt-Anchor" href="#åˆå¹¶æäº¤ff44785404a8eçš„ä¿®æ”¹"></a> åˆå¹¶æäº¤ff44785404a8eçš„ä¿®æ”¹</h4><pre><code>git cherry-pick ff44785404a8e </code></pre><h4 id="å°†å½“å‰åˆ†æ”¯pushåˆ°è¿œç¨‹masteråˆ†æ”¯"><a class="markdownIt-Anchor" href="#å°†å½“å‰åˆ†æ”¯pushåˆ°è¿œç¨‹masteråˆ†æ”¯"></a> å°†å½“å‰åˆ†æ”¯pushåˆ°è¿œç¨‹masteråˆ†æ”¯</h4><pre><code>git push origin master </code></pre><h4 id="åˆ é™¤è¿œç¨‹ä»“åº“çš„hotfixesbjvep933åˆ†æ”¯"><a class="markdownIt-Anchor" href="#åˆ é™¤è¿œç¨‹ä»“åº“çš„hotfixesbjvep933åˆ†æ”¯"></a> åˆ é™¤è¿œç¨‹ä»“åº“çš„hotfixes/BJVEP933åˆ†æ”¯</h4><pre><code>git push origin :hotfixes/BJVEP933                      </code></pre><h4 id="æŠŠæ‰€æœ‰tagæ¨é€åˆ°è¿œç¨‹ä»“åº“"><a class="markdownIt-Anchor" href="#æŠŠæ‰€æœ‰tagæ¨é€åˆ°è¿œç¨‹ä»“åº“"></a> æŠŠæ‰€æœ‰tagæ¨é€åˆ°è¿œç¨‹ä»“åº“</h4><pre><code>git push --tags</code></pre><h4 id="è·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯ä¸æ›´æ–°æœ¬åœ°åˆ†æ”¯å¦éœ€merge"><a class="markdownIt-Anchor" href="#è·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯ä¸æ›´æ–°æœ¬åœ°åˆ†æ”¯å¦éœ€merge"></a> è·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯ï¼ˆä¸æ›´æ–°æœ¬åœ°åˆ†æ”¯ï¼Œå¦éœ€mergeï¼‰</h4><pre><code>git fetch</code></pre><h4 id="è·å–æ‰€æœ‰åŸåˆ›åˆ†æ”¯å¹¶æ¸…é™¤æœåŠ¡å™¨ä¸Šå·²åˆ æ‰çš„åˆ†æ”¯"><a class="markdownIt-Anchor" href="#è·å–æ‰€æœ‰åŸåˆ›åˆ†æ”¯å¹¶æ¸…é™¤æœåŠ¡å™¨ä¸Šå·²åˆ æ‰çš„åˆ†æ”¯"></a> è·å–æ‰€æœ‰åŸåˆ›åˆ†æ”¯å¹¶æ¸…é™¤æœåŠ¡å™¨ä¸Šå·²åˆ æ‰çš„åˆ†æ”¯</h4><pre><code>git fetch --prune </code></pre><h4 id="è·å–è¿œç¨‹åˆ†æ”¯masterå¹¶mergeåˆ°å½“å‰åˆ†æ”¯"><a class="markdownIt-Anchor" href="#è·å–è¿œç¨‹åˆ†æ”¯masterå¹¶mergeåˆ°å½“å‰åˆ†æ”¯"></a> è·å–è¿œç¨‹åˆ†æ”¯masterå¹¶mergeåˆ°å½“å‰åˆ†æ”¯</h4><pre><code>git pull origin master</code></pre><h4 id="é‡å‘½åæ–‡ä»¶readmeä¸ºreadme2"><a class="markdownIt-Anchor" href="#é‡å‘½åæ–‡ä»¶readmeä¸ºreadme2"></a> é‡å‘½åæ–‡ä»¶READMEä¸ºREADME2</h4><pre><code>git mv README README2</code></pre><h4 id="å°†å½“å‰ç‰ˆæœ¬é‡ç½®ä¸ºheadé€šå¸¸ç”¨äºmergeå¤±è´¥å›é€€"><a class="markdownIt-Anchor" href="#å°†å½“å‰ç‰ˆæœ¬é‡ç½®ä¸ºheadé€šå¸¸ç”¨äºmergeå¤±è´¥å›é€€"></a> å°†å½“å‰ç‰ˆæœ¬é‡ç½®ä¸ºHEADï¼ˆé€šå¸¸ç”¨äºmergeå¤±è´¥å›é€€ï¼‰</h4><pre><code>git reset --hard HEADgit rebase</code></pre><h4 id="åˆ é™¤åˆ†æ”¯hotfixesbjvep933æœ¬åˆ†æ”¯ä¿®æ”¹å·²åˆå¹¶åˆ°å…¶ä»–åˆ†æ”¯"><a class="markdownIt-Anchor" href="#åˆ é™¤åˆ†æ”¯hotfixesbjvep933æœ¬åˆ†æ”¯ä¿®æ”¹å·²åˆå¹¶åˆ°å…¶ä»–åˆ†æ”¯"></a> åˆ é™¤åˆ†æ”¯hotfixes/BJVEP933ï¼ˆæœ¬åˆ†æ”¯ä¿®æ”¹å·²åˆå¹¶åˆ°å…¶ä»–åˆ†æ”¯ï¼‰</h4><pre><code>git branch -d hotfixes/BJVEP933</code></pre><h4 id="å¼ºåˆ¶åˆ é™¤åˆ†æ”¯hotfixesbjvep933"><a class="markdownIt-Anchor" href="#å¼ºåˆ¶åˆ é™¤åˆ†æ”¯hotfixesbjvep933"></a> å¼ºåˆ¶åˆ é™¤åˆ†æ”¯hotfixes/BJVEP933</h4><pre><code>git branch -D hotfixes/BJVEP933 </code></pre><h4 id="åˆ—å‡ºgit-indexåŒ…å«çš„æ–‡ä»¶"><a class="markdownIt-Anchor" href="#åˆ—å‡ºgit-indexåŒ…å«çš„æ–‡ä»¶"></a> åˆ—å‡ºgit indexåŒ…å«çš„æ–‡ä»¶</h4><pre><code>git ls-files</code></pre><h4 id="å›¾ç¤ºå½“å‰åˆ†æ”¯å†å²"><a class="markdownIt-Anchor" href="#å›¾ç¤ºå½“å‰åˆ†æ”¯å†å²"></a> å›¾ç¤ºå½“å‰åˆ†æ”¯å†å²</h4><pre><code>git show-branch </code></pre><h4 id="å›¾ç¤ºæ‰€æœ‰åˆ†æ”¯å†å²"><a class="markdownIt-Anchor" href="#å›¾ç¤ºæ‰€æœ‰åˆ†æ”¯å†å²"></a> å›¾ç¤ºæ‰€æœ‰åˆ†æ”¯å†å²</h4><pre><code>git show-branch --all </code></pre><h4 id="æ˜¾ç¤ºæäº¤å†å²å¯¹åº”çš„æ–‡ä»¶ä¿®æ”¹"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæäº¤å†å²å¯¹åº”çš„æ–‡ä»¶ä¿®æ”¹"></a> æ˜¾ç¤ºæäº¤å†å²å¯¹åº”çš„æ–‡ä»¶ä¿®æ”¹</h4><pre><code>git whatchanged</code></pre><h4 id="æ’¤é”€æäº¤dfb02e6e4f2f7b573337763e5c0013802e392818"><a class="markdownIt-Anchor" href="#æ’¤é”€æäº¤dfb02e6e4f2f7b573337763e5c0013802e392818"></a> æ’¤é”€æäº¤dfb02e6e4f2f7b573337763e5c0013802e392818</h4><pre><code>git revert dfb02e6e4f2f7b573337763e5c0013802e392818</code></pre><h4 id="å†…éƒ¨å‘½ä»¤æ˜¾ç¤ºæŸä¸ªgitå¯¹è±¡"><a class="markdownIt-Anchor" href="#å†…éƒ¨å‘½ä»¤æ˜¾ç¤ºæŸä¸ªgitå¯¹è±¡"></a> å†…éƒ¨å‘½ä»¤ï¼šæ˜¾ç¤ºæŸä¸ªgitå¯¹è±¡</h4><pre><code>git ls-tree HEAD </code></pre><h4 id="å†…éƒ¨å‘½ä»¤æ˜¾ç¤ºæŸä¸ªrefå¯¹äºçš„sha1-hash"><a class="markdownIt-Anchor" href="#å†…éƒ¨å‘½ä»¤æ˜¾ç¤ºæŸä¸ªrefå¯¹äºçš„sha1-hash"></a> å†…éƒ¨å‘½ä»¤ï¼šæ˜¾ç¤ºæŸä¸ªrefå¯¹äºçš„SHA1 HASH</h4><pre><code>git rev-parse v2.0</code></pre><h4 id="æ˜¾ç¤ºæ‰€æœ‰æäº¤åŒ…æ‹¬å­¤ç«‹èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºæ‰€æœ‰æäº¤åŒ…æ‹¬å­¤ç«‹èŠ‚ç‚¹"></a> æ˜¾ç¤ºæ‰€æœ‰æäº¤ï¼ŒåŒ…æ‹¬å­¤ç«‹èŠ‚ç‚¹</h4><pre><code>git refloggit show HEAD@{5}</code></pre><h4 id="æ˜¾ç¤ºmasteråˆ†æ”¯æ˜¨å¤©çš„çŠ¶æ€"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºmasteråˆ†æ”¯æ˜¨å¤©çš„çŠ¶æ€"></a> æ˜¾ç¤ºmasteråˆ†æ”¯æ˜¨å¤©çš„çŠ¶æ€</h4><pre><code>git show master@{yesterday}</code></pre><h4 id="å›¾ç¤ºæäº¤æ—¥å¿—"><a class="markdownIt-Anchor" href="#å›¾ç¤ºæäº¤æ—¥å¿—"></a> å›¾ç¤ºæäº¤æ—¥å¿—</h4><pre><code>git log --pretty=format:'%h %s' --graphgit show HEAD~3git show -s --pretty=raw 2be7fcb476</code></pre><h4 id="æš‚å­˜å½“å‰ä¿®æ”¹å°†æ‰€æœ‰è‡³ä¸ºheadçŠ¶æ€"><a class="markdownIt-Anchor" href="#æš‚å­˜å½“å‰ä¿®æ”¹å°†æ‰€æœ‰è‡³ä¸ºheadçŠ¶æ€"></a> æš‚å­˜å½“å‰ä¿®æ”¹ï¼Œå°†æ‰€æœ‰è‡³ä¸ºHEADçŠ¶æ€</h4><pre><code>git stash</code></pre><h4 id="æŸ¥çœ‹æ‰€æœ‰æš‚å­˜"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹æ‰€æœ‰æš‚å­˜"></a> æŸ¥çœ‹æ‰€æœ‰æš‚å­˜</h4><pre><code>git stash list</code></pre><h4 id="å‚è€ƒç¬¬ä¸€æ¬¡æš‚å­˜"><a class="markdownIt-Anchor" href="#å‚è€ƒç¬¬ä¸€æ¬¡æš‚å­˜"></a> å‚è€ƒç¬¬ä¸€æ¬¡æš‚å­˜</h4><pre><code>git stash show -p stash@{0} </code></pre><h4 id="åº”ç”¨ç¬¬ä¸€æ¬¡æš‚å­˜"><a class="markdownIt-Anchor" href="#åº”ç”¨ç¬¬ä¸€æ¬¡æš‚å­˜"></a> åº”ç”¨ç¬¬ä¸€æ¬¡æš‚å­˜</h4><pre><code>git stash apply stash@{0}</code></pre><h4 id="æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬delete-from"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬delete-from"></a> æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬â€œdelete fromâ€</h4><pre><code>git grep &quot;delete from&quot;git grep -e 'define' --and -e SORT_DIRENTgit gcgit fsck</code></pre><p><img src="/uploads/git.png" alt="gitå¸¸ç”¨å‘½ä»¤"></p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;åˆå§‹åŒ–æœ¬åœ°gitä»“åº“åˆ›å»ºæ–°ä»“åº“&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#åˆå§‹åŒ–æœ¬åœ°gitä»“åº“åˆ›å»ºæ–°ä»“åº“&quot;&gt;&lt;/a&gt; åˆå§‹åŒ–æœ¬åœ°gitä»“åº“ï¼ˆåˆ›å»ºæ–°ä»“åº“ï¼‰&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;    git init    
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;é…ç½®ç”¨æˆ·å&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é…ç½®ç”¨æˆ·å&quot;&gt;&lt;/a&gt; é…ç½®ç”¨æˆ·å&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;git config --global user.name &amp;quot;xxx&amp;quot; 
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;é…ç½®é‚®ä»¶&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é…ç½®é‚®ä»¶&quot;&gt;&lt;/a&gt; é…ç½®é‚®ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;git config --global user.email &amp;quot;xxx@xxx.com&amp;quot;  
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="git" scheme="https://qingshaoxi.github.io/blog/categories/git/"/>
    
    
      <category term="git" scheme="https://qingshaoxi.github.io/blog/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>æ¯å‘¨çƒ§è„‘-1</title>
    <link href="https://qingshaoxi.github.io/blog/post/burn-brain-1.html"/>
    <id>https://qingshaoxi.github.io/blog/post/burn-brain-1.html</id>
    <published>2017-04-02T16:29:49.000Z</published>
    <updated>2019-02-27T07:32:29.920Z</updated>
    
    <content type="html"><![CDATA[<p>å®Œç¾æ•°<br>å®Œç¾æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p><ol><li>æ­£æ•´æ•°</li><li>æ˜¯è‡ªå·±çš„å› æ•°ï¼ˆé™¤è‡ªèº«ä»¥å¤–ï¼‰ä¹‹å’Œ</li></ol><p>å¦‚28æ˜¯å®Œç¾æ•°ï¼Œå› ä¸º 1 + 2 + 4 + 7 + 14 = 28</p><p>ç»™å®šä¸€ä¸ªæ•°å­—ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å®Œç¾æ•°ï¼š</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IsPerfectNumber</span>(<span class="params">number</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> num=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.sqrt(number));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = num; i &gt; <span class="number">1</span>; i--) &#123;</span><br><span class="line"><span class="keyword">if</span>(number%i == <span class="number">0</span>)&#123;</span><br><span class="line">sum = sum + i +number/i; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>((sum+<span class="number">1</span>) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">alert(<span class="string">"æ­¤æ•°ä¸ºå®Œç¾æ•°ï¼å› å­å’Œä¸º"</span>+(sum+<span class="number">1</span>));</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">alert(<span class="string">"æ­¤æ•°éå®Œç¾æ•°ï¼"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤é¢˜åœ¨äºå‡å°‘è¿ç®—é‡ï¼Œå…ˆå¯¹å…¶è¿›è¡Œå¼€æ–¹å¤„ç†ã€‚<br>æœ‰æ›´ç®€ä¾¿çš„ï¼Œå¯å›å¤è´´ç ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®Œç¾æ•°&lt;br&gt;
å®Œç¾æ•°å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ­£æ•´æ•°&lt;/li&gt;
&lt;li&gt;æ˜¯è‡ªå·±çš„å› æ•°ï¼ˆé™¤è‡ªèº«ä»¥å¤–ï¼‰ä¹‹å’Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚28æ˜¯å®Œç¾æ•°ï¼Œå› ä¸º 1 + 2 + 4 + 7 + 14 = 28&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªæ•°å­—ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å®Œç¾æ•°ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="Javascript" scheme="https://qingshaoxi.github.io/blog/categories/Javascript/"/>
    
    
      <category term="Javascript" scheme="https://qingshaoxi.github.io/blog/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>ç™¾åº¦ç½‘ç›˜è‡ªå®šä¹‰æå–ç </title>
    <link href="https://qingshaoxi.github.io/blog/post/baidu-drive.html"/>
    <id>https://qingshaoxi.github.io/blog/post/baidu-drive.html</id>
    <published>2017-03-15T15:25:00.000Z</published>
    <updated>2019-02-27T07:32:29.918Z</updated>
    
    <content type="html"><![CDATA[<p>è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š</p><p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ç™¾åº¦äº‘ç›˜ï¼Œé€‰ä¸­éœ€è¦åˆ†äº«çš„æ–‡ä»¶ï¼Œç„¶åç‚¹å‡»åˆ†äº«æŒ‰é’®ï¼›<br>ç‚¹å‡»åˆ†äº«æŒ‰é’®åä¼šå¼¹å‡ºä¸€ä¸ªæ¨¡æ€æ¡†ï¼Œå…ˆä¸ç®¡å®ƒï¼ŒæŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢è‡³æ§åˆ¶å°ï¼ˆConsoleï¼‰ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶ç²˜è´´åˆ°æ§åˆ¶å°ï¼Œç„¶åå›è½¦ï¼›</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">javascript: <span class="built_in">require</span>([<span class="string">"function-widget-1:share/util/service/createLinkShare.js"</span>])</span><br><span class="line"> .prototype.makePrivatePassword = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> prompt(<span class="string">"è‡ªå®šä¹‰ç™¾åº¦ç½‘ç›˜æå–ç "</span>, <span class="string">"host"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>ç„¶åç‚¹å‡»åˆ›å»ºç§å¯†é“¾æ¥ï¼Œä¼šå¼¹å‡ºè¾“å…¥æ¡†ï¼Œè¿™æ—¶è¾“å…¥ä½ æƒ³è‡ªå®šä¹‰çš„å¯†ç å³å¯ï¼<br>åœ¨æ­¤é»‘ç§‘æŠ€ä½¿ç”¨è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„ä»¥ä¸‹äº‹é¡¹ï¼š</p><p>è¯·æŒ‰ç…§æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥çš„è¿›è¡Œï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°é”™è¯¯æˆ–å¤±è´¥ï¼<br>è‡ªå®šä¹‰çš„å¯†ç å­—ç¬¦å’Œå¿…é¡»ä¸º4ï¼ˆä¸€ä¸ªå­—æ¯æˆ–æ•°å­—çš„å­—ç¬¦æ•°æ˜¯1ï¼Œä¸€ä¸ªæ±‰å­—çš„å­—ç¬¦æ•°æ˜¯3ï¼Œå› æ­¤å¦‚æœå¯†ç ä¸­æœ‰ä¸€ä¸ªæ±‰å­—åˆ™åªèƒ½åŠ ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—ï¼‰ï¼Œå¦‚ï¼š1232ã€SçŒ´ç­‰ã€‚</p><p>é™„GIFå›¾ç‰‡ä¸€å¼ ï¼ŒåŠ¨ç”»æ¼”ç¤ºè®©ä½ æ›´åŠ æ˜äº†ï¼š<br><img src="/uploads/baiduyun.gif" alt="tiquma"><br>æœ¬æ–‡è½¬è‡ªè€dåšå®¢ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š&lt;/p&gt;
&lt;p&gt;åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ç™¾åº¦äº‘ç›˜ï¼Œé€‰ä¸­éœ€è¦åˆ†äº«çš„æ–‡ä»¶ï¼Œç„¶åç‚¹å‡»åˆ†äº«æŒ‰é’®ï¼›&lt;br&gt;
ç‚¹å‡»åˆ†äº«æŒ‰é’®åä¼šå¼¹å‡ºä¸€ä¸ªæ¨¡æ€æ¡†ï¼Œå…ˆä¸ç®¡å®ƒï¼ŒæŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢è‡³æ§åˆ¶å°ï¼ˆConsoleï¼‰ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶ç²˜è´´åˆ°æ§åˆ¶å°ï¼Œç„¶åå›è½¦ï¼›&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;javascript: &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;([&lt;span class=&quot;string&quot;&gt;&quot;function-widget-1:share/util/service/createLinkShare.js&quot;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; .prototype.makePrivatePassword = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; prompt(&lt;span class=&quot;string&quot;&gt;&quot;è‡ªå®šä¹‰ç™¾åº¦ç½‘ç›˜æå–ç &quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;host&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Technology" scheme="https://qingshaoxi.github.io/blog/categories/Technology/"/>
    
      <category term="Github" scheme="https://qingshaoxi.github.io/blog/categories/Technology/Github/"/>
    
    
      <category term="é»‘ç§‘æŠ€" scheme="https://qingshaoxi.github.io/blog/tags/%E9%BB%91%E7%A7%91%E6%8A%80/"/>
    
  </entry>
  
  <entry>
    <title>ä½ æ‰€ä¸çŸ¥é“çš„Host</title>
    <link href="https://qingshaoxi.github.io/blog/post/host.html"/>
    <id>https://qingshaoxi.github.io/blog/post/host.html</id>
    <published>2017-03-11T13:37:38.000Z</published>
    <updated>2019-02-27T07:32:29.932Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hostsæ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#hostsæ˜¯ä»€ä¹ˆ"></a> Hostsæ˜¯ä»€ä¹ˆï¼Ÿ</h1><hr><p>å…¶ä½œç”¨å°±æ˜¯å°†ä¸€äº›å¸¸ç”¨çš„ç½‘å€åŸŸåä¸å…¶å¯¹åº”çš„IPåœ°å€å»ºç«‹ä¸€ä¸ªå…³è”â€œæ•°æ®åº“â€ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªéœ€è¦ç™»å½•çš„ç½‘å€æ—¶ï¼Œç³»ç»Ÿä¼šé¦–å…ˆè‡ªåŠ¨ä»Hostsæ–‡ä»¶ä¸­å¯»æ‰¾å¯¹åº”çš„IPåœ°å€ï¼Œä¸€æ—¦æ‰¾åˆ°ï¼Œç³»ç»Ÿä¼šç«‹å³æ‰“å¼€å¯¹åº”ç½‘é¡µï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ç³»ç»Ÿä¼šå†å°†ç½‘å€æäº¤DNSåŸŸåè§£ææœåŠ¡å™¨è¿›è¡ŒIPåœ°å€çš„è§£æã€‚</p><h2 id="-more-"><a class="markdownIt-Anchor" href="#-more-"></a> <a id="more"></a></h2><h3 id="1-ä¿®æ”¹hostsçš„ä½œç”¨æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#1-ä¿®æ”¹hostsçš„ä½œç”¨æ˜¯ä»€ä¹ˆ"></a> 1. ä¿®æ”¹hostsçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ul><li>å¯ä»¥åŠ å¿«åŸŸåè§£æ</li><li>å¯ä»¥è¿›è¡Œè°·æ­Œã€è„¸ä¹¦ã€æ¨ç‰¹ç­‰å›½å¤–ç½‘ç«™çš„æµè§ˆ</li><li>å±è”½å¹¿å‘Šã€ç½‘ç«™ç­‰ç­‰</li></ul><h3 id="2-hostsçš„ä½ç½®"><a class="markdownIt-Anchor" href="#2-hostsçš„ä½ç½®"></a> 2. hostsçš„ä½ç½®</h3><blockquote><p><em><strong>windows</strong></em> xp/2003/vista/2008/7/8/10ç”¨æˆ·HOSTSæ–‡ä»¶æ˜¯åœ¨&quot;<strong>c:\windows\system32\drivers\etc\hosts</strong>&quot;<br><em><strong>Mac***ä¸***Android</strong></em>ã€**<em>iOS<em><strong>ç”¨æˆ·HOSTSæ–‡ä»¶æ˜¯åœ¨&quot;</strong>\etc\hosts</em></em>&quot;</p></blockquote><h3 id="3-å¦‚ä½•ä¿®æ”¹"><a class="markdownIt-Anchor" href="#3-å¦‚ä½•ä¿®æ”¹"></a> 3. å¦‚ä½•ä¿®æ”¹</h3><ul><li>ç›´æ¥ç¼–è¾‘æœ¬æœºHostsæ–‡ä»¶</li><li>ç‰›äººå†™å¥½çš„ç›´æ¥æ›¿æ¢<br><a href="https://github.com/racaljk/hosts" target="_blank" rel="noopener">github</a><br><a href="https://pan.baidu.com/s/1dF67DRz" target="_blank" rel="noopener">ç™¾åº¦äº‘</a></li></ul><blockquote><p>æå–å¯†ç ï¼šhost</p></blockquote><pre><code>æ³¨ï¼šè¿™äº›ç½‘ç«™éƒ½éœ€è¦httpsçš„åè®®æ‰“å¼€ï¼Œå›½å†…æŸäº›è½¯ä»¶ä¼šå¼ºåˆ¶httpï¼Œå¸è½½å³å¯ã€‚</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;hostsæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#hostsæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;/a&gt; Hostsæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;å…¶ä½œç”¨å°±æ˜¯å°†ä¸€äº›å¸¸ç”¨çš„ç½‘å€åŸŸåä¸å…¶å¯¹åº”çš„IPåœ°å€å»ºç«‹ä¸€ä¸ªå…³è”â€œæ•°æ®åº“â€ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªéœ€è¦ç™»å½•çš„ç½‘å€æ—¶ï¼Œç³»ç»Ÿä¼šé¦–å…ˆè‡ªåŠ¨ä»Hostsæ–‡ä»¶ä¸­å¯»æ‰¾å¯¹åº”çš„IPåœ°å€ï¼Œä¸€æ—¦æ‰¾åˆ°ï¼Œç³»ç»Ÿä¼šç«‹å³æ‰“å¼€å¯¹åº”ç½‘é¡µï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ç³»ç»Ÿä¼šå†å°†ç½‘å€æäº¤DNSåŸŸåè§£ææœåŠ¡å™¨è¿›è¡ŒIPåœ°å€çš„è§£æã€‚&lt;/p&gt;
&lt;h2 id=&quot;-more-&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#-more-&quot;&gt;&lt;/a&gt;
    
    </summary>
    
      <category term="Technology" scheme="https://qingshaoxi.github.io/blog/categories/Technology/"/>
    
      <category term="Github" scheme="https://qingshaoxi.github.io/blog/categories/Technology/Github/"/>
    
    
      <category term="é»‘ç§‘æŠ€" scheme="https://qingshaoxi.github.io/blog/tags/%E9%BB%91%E7%A7%91%E6%8A%80/"/>
    
  </entry>
  
  <entry>
    <title>å…­å·æ­Œå¤´Â·å°‘å¹´ä¾ æ°”</title>
    <link href="https://qingshaoxi.github.io/blog/post/shao-nian-xia-qi.html"/>
    <id>https://qingshaoxi.github.io/blog/post/shao-nian-xia-qi.html</id>
    <published>2017-03-11T09:12:49.000Z</published>
    <updated>2019-02-27T07:32:29.950Z</updated>
    
    <content type="html"><![CDATA[<p>å°‘å¹´ä¾ æ°”ï¼Œäº¤ç»“äº”éƒ½é›„ã€‚è‚èƒ†æ´ã€‚æ¯›å‘è€¸ã€‚ç«‹è°ˆä¸­ã€‚æ­»ç”ŸåŒã€‚ä¸€è¯ºåƒé‡‘é‡ã€‚æ¨ç¿˜å‹‡ã€‚çŸœè±ªçºµã€‚è½»ç›–æ‹¥ã€‚è”é£éšã€‚æ–—åŸä¸œã€‚è½°é¥®é…’å†ï¼Œæ˜¥è‰²æµ®å¯’ç“®ã€‚å¸æµ·å‚è™¹ã€‚é—²å‘¼é¹°å—¾çŠ¬ï¼Œç™½ç¾½æ‘˜é›•å¼“ã€‚ç‹¡ç©´ä¿„ç©ºã€‚ä¹åŒ†åŒ†ã€‚<br>ä¼¼é»„ç²±æ¢¦ã€‚è¾ä¸¹å‡¤ã€‚æ˜æœˆå…±ã€‚æ¼¾å­¤ç¯·ã€‚å®˜å†—å¾ã€‚æ€€å€¥å¬ã€‚è½å°˜ç¬¼ã€‚ç°¿ä¹¦ä¸›ã€‚é¹–å¼å¦‚äº‘ä¼—ã€‚ä¾›ç²—ç”¨ã€‚å¿½å¥‡åŠŸã€‚ç¬³é¼“åŠ¨ã€‚æ¸”é˜³å¼„ã€‚æ€æ‚²ç¿ã€‚ä¸è¯·é•¿ç¼¨ï¼Œç³»å–å¤©éª„ç§ã€‚å‰‘å¼è¥¿é£ã€‚æ¨ç™»å±±ä¸´æ°´ï¼Œæ‰‹å¯„ä¸ƒå¼¦æ¡ã€‚ç›®é€å½’é¸¿ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å°‘å¹´ä¾ æ°”ï¼Œäº¤ç»“äº”éƒ½é›„ã€‚è‚èƒ†æ´ã€‚æ¯›å‘è€¸ã€‚ç«‹è°ˆä¸­ã€‚æ­»ç”ŸåŒã€‚ä¸€è¯ºåƒé‡‘é‡ã€‚æ¨ç¿˜å‹‡ã€‚çŸœè±ªçºµã€‚è½»ç›–æ‹¥ã€‚è”é£éšã€‚æ–—åŸä¸œã€‚è½°é¥®é…’å†ï¼Œæ˜¥è‰²æµ®å¯’ç“®ã€‚å¸æµ·å‚è™¹ã€‚é—²å‘¼é¹°å—¾çŠ¬ï¼Œç™½ç¾½æ‘˜é›•å¼“ã€‚ç‹¡ç©´ä¿„ç©ºã€‚ä¹åŒ†åŒ†ã€‚&lt;br&gt;
ä¼¼é»„ç²±æ¢¦ã€‚è¾ä¸¹å‡¤ã€‚æ˜æœˆå…±ã€‚æ¼¾å­¤ç¯·ã€‚å®˜å†—å¾ã€‚æ€€å€¥å¬ã€‚è½å°˜ç¬¼ã€‚ç°¿ä¹¦ä¸›ã€‚é¹–å¼å¦‚äº‘ä¼—ã€‚ä¾›ç²—ç”¨
      
    
    </summary>
    
    
      <category term="poetry" scheme="https://qingshaoxi.github.io/blog/tags/poetry/"/>
    
  </entry>
  
  <entry>
    <title>æ»¡æ±Ÿçº¢Â·å†™æ€€</title>
    <link href="https://qingshaoxi.github.io/blog/post/xie-huai.html"/>
    <id>https://qingshaoxi.github.io/blog/post/xie-huai.html</id>
    <published>2017-03-11T05:04:41.000Z</published>
    <updated>2019-02-27T07:32:29.964Z</updated>
    
    <content type="html"><![CDATA[<p>æ€’å‘å†²å† ï¼Œå‡­æ å¤„ã€æ½‡æ½‡é›¨æ­‡ã€‚æŠ¬æœ›çœ¼ï¼Œä»°å¤©é•¿å•¸ï¼Œå£®æ€€æ¿€çƒˆã€‚ä¸‰ååŠŸåå°˜ä¸åœŸï¼Œå…«åƒé‡Œè·¯äº‘å’Œæœˆã€‚è«ç­‰é—²ï¼Œç™½äº†å°‘å¹´å¤´ï¼Œç©ºæ‚²åˆ‡ï¼<br>é–åº·è€»ï¼ŒçŠ¹æœªé›ªã€‚è‡£å­æ¨ï¼Œä½•æ—¶ç­ï¼é©¾é•¿è½¦ï¼Œè¸ç ´è´ºå…°å±±ç¼ºã€‚å£®å¿—é¥¥é¤èƒ¡è™è‚‰ï¼Œç¬‘è°ˆæ¸´é¥®åŒˆå¥´è¡€ã€‚å¾…ä»å¤´ã€æ”¶æ‹¾æ—§å±±æ²³ï¼Œæœå¤©é˜™ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ€’å‘å†²å† ï¼Œå‡­æ å¤„ã€æ½‡æ½‡é›¨æ­‡ã€‚æŠ¬æœ›çœ¼ï¼Œä»°å¤©é•¿å•¸ï¼Œå£®æ€€æ¿€çƒˆã€‚ä¸‰ååŠŸåå°˜ä¸åœŸï¼Œå…«åƒé‡Œè·¯äº‘å’Œæœˆã€‚è«ç­‰é—²ï¼Œç™½äº†å°‘å¹´å¤´ï¼Œç©ºæ‚²åˆ‡ï¼&lt;br&gt;
é–åº·è€»ï¼ŒçŠ¹æœªé›ªã€‚è‡£å­æ¨ï¼Œä½•æ—¶ç­ï¼é©¾é•¿è½¦ï¼Œè¸ç ´è´ºå…°å±±ç¼ºã€‚å£®å¿—é¥¥é¤èƒ¡è™è‚‰ï¼Œç¬‘è°ˆæ¸´é¥®åŒˆå¥´è¡€ã€‚å¾…ä»å¤´ã€æ”¶æ‹¾æ—§å±±æ²³ï¼Œæœå¤©é˜™ã€‚&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="poetry" scheme="https://qingshaoxi.github.io/blog/tags/poetry/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡ç«¯h5è§†é¢‘</title>
    <link href="https://qingshaoxi.github.io/blog/post/weixin-video.html"/>
    <id>https://qingshaoxi.github.io/blog/post/weixin-video.html</id>
    <published>2017-02-11T13:37:38.000Z</published>
    <updated>2019-02-27T07:32:29.963Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¾®ä¿¡ç«¯è§†é¢‘è®¾ç½®"><a class="markdownIt-Anchor" href="#å¾®ä¿¡ç«¯è§†é¢‘è®¾ç½®"></a> å¾®ä¿¡ç«¯è§†é¢‘è®¾ç½®</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;video <span class="class"><span class="keyword">class</span></span>=<span class="string">"video-source"</span></span><br><span class="line">     width=<span class="string">"100%"</span></span><br><span class="line">ã€€ã€€ã€€height=<span class="string">"240px"</span> </span><br><span class="line">     controls  <span class="comment">/*è¿™ä¸ªå±æ€§è§„å®šæµè§ˆå™¨ä¸ºè¯¥è§†é¢‘æä¾›æ’­æ”¾æ§ä»¶*/</span>  </span><br><span class="line">     style=<span class="string">"object-fit:fill"</span>  <span class="comment">/*é¿å…è§†é¢‘ä¸Šä¸‹å‡ºç°é»‘è¾¹*/</span></span><br><span class="line">     webkit-playsinline=<span class="string">"true"</span>  <span class="comment">/*è¿™ä¸ªå±æ€§æ˜¯ios 10ä¸­è®¾ç½®å¯ä»¥è®©è§†é¢‘åœ¨é¡µé¢å†…æ’­æ”¾*/</span>  </span><br><span class="line">     x-webkit-airplay=<span class="string">"true"</span>  <span class="comment">/*è¿™ä¸ªå±æ€§è¿˜ä¸çŸ¥é“ä½œç”¨*/</span> </span><br><span class="line">     playsinline=<span class="string">"true"</span>  <span class="comment">/*IOSå¾®ä¿¡æµè§ˆå™¨æ”¯æŒå°çª—å†…æ’­æ”¾*/</span> </span><br><span class="line">     x5-video-player-type=<span class="string">"h5"</span> <span class="comment">/*å¯ç”¨H5æ’­æ”¾å™¨,æ˜¯wechatå®‰å“ç‰ˆç‰¹æ€§*/</span></span><br><span class="line">     x5-video-orientation=<span class="string">"portraint"</span> <span class="comment">/*æ’­æ”¾å™¨æ”¯ä»˜çš„æ–¹å‘ï¼Œlandscapeæ¨ªå±ï¼Œportraintç«–å±ï¼Œé»˜è®¤å€¼ä¸ºç«–å±*/</span></span><br><span class="line">     x5-video-player-fullscreen=<span class="string">"true"</span> <span class="comment">/*å…¨å±è®¾ç½®ï¼Œè®¾ç½®ä¸º true æ˜¯é˜²æ­¢æ¨ªå±*/</span></span><br><span class="line">     preload=<span class="string">"auto"</span> <span class="comment">/*è¿™ä¸ªå±æ€§è§„å®šé¡µé¢åŠ è½½å®Œæˆåè½½å…¥è§†é¢‘*/</span> </span><br><span class="line">&lt;<span class="regexp">/video&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><blockquote><p>å®‰å“å¾®ä¿¡ç«¯è§†é¢‘é—®é¢˜</p></blockquote><ol><li>X5å†…æ ¸ è‡ªå¸¦æ’­æ”¾å™¨ï¼Œé»˜è®¤ç‚¹å‡»å…¨å±æ’­æ”¾</li><li>é€€å‡ºå…¨å±ä¹‹åï¼Œä»æœ‰ä¸€ä¸ªæµ®å±‚æ‚¬æµ®åœ¨è§†é¢‘divä¸Š</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å¾®ä¿¡ç«¯è§†é¢‘è®¾ç½®&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å¾®ä¿¡ç«¯è§†é¢‘è®¾ç½®&quot;&gt;&lt;/a&gt; å¾®ä¿¡ç«¯è§†é¢‘è®¾ç½®&lt;/h2&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;video &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;video-source&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     width=&lt;span class=&quot;string&quot;&gt;&quot;100%&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ã€€ã€€ã€€height=&lt;span class=&quot;string&quot;&gt;&quot;240px&quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     controls  &lt;span class=&quot;comment&quot;&gt;/*è¿™ä¸ªå±æ€§è§„å®šæµè§ˆå™¨ä¸ºè¯¥è§†é¢‘æä¾›æ’­æ”¾æ§ä»¶*/&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     style=&lt;span class=&quot;string&quot;&gt;&quot;object-fit:fill&quot;&lt;/span&gt;  &lt;span class=&quot;comment&quot;&gt;/*é¿å…è§†é¢‘ä¸Šä¸‹å‡ºç°é»‘è¾¹*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     webkit-playsinline=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;  &lt;span class=&quot;comment&quot;&gt;/*è¿™ä¸ªå±æ€§æ˜¯ios 10ä¸­è®¾ç½®å¯ä»¥è®©è§†é¢‘åœ¨é¡µé¢å†…æ’­æ”¾*/&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     x-webkit-airplay=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;  &lt;span class=&quot;comment&quot;&gt;/*è¿™ä¸ªå±æ€§è¿˜ä¸çŸ¥é“ä½œç”¨*/&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     playsinline=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;  &lt;span class=&quot;comment&quot;&gt;/*IOSå¾®ä¿¡æµè§ˆå™¨æ”¯æŒå°çª—å†…æ’­æ”¾*/&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     x5-video-player-type=&lt;span class=&quot;string&quot;&gt;&quot;h5&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/*å¯ç”¨H5æ’­æ”¾å™¨,æ˜¯wechatå®‰å“ç‰ˆç‰¹æ€§*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     x5-video-orientation=&lt;span class=&quot;string&quot;&gt;&quot;portraint&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/*æ’­æ”¾å™¨æ”¯ä»˜çš„æ–¹å‘ï¼Œlandscapeæ¨ªå±ï¼Œportraintç«–å±ï¼Œé»˜è®¤å€¼ä¸ºç«–å±*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     x5-video-player-fullscreen=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/*å…¨å±è®¾ç½®ï¼Œè®¾ç½®ä¸º true æ˜¯é˜²æ­¢æ¨ªå±*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     preload=&lt;span class=&quot;string&quot;&gt;&quot;auto&quot;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/*è¿™ä¸ªå±æ€§è§„å®šé¡µé¢åŠ è½½å®Œæˆåè½½å…¥è§†é¢‘*/&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;&lt;span class=&quot;regexp&quot;&gt;/video&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="video" scheme="https://qingshaoxi.github.io/blog/categories/video/"/>
    
      <category term="weixin" scheme="https://qingshaoxi.github.io/blog/categories/video/weixin/"/>
    
    
      <category term="é»‘ç§‘æŠ€" scheme="https://qingshaoxi.github.io/blog/tags/%E9%BB%91%E7%A7%91%E6%8A%80/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªå®šä¹‰æ»šåŠ¨æ¡</title>
    <link href="https://qingshaoxi.github.io/blog/post/scrollbar.html"/>
    <id>https://qingshaoxi.github.io/blog/post/scrollbar.html</id>
    <published>2017-01-11T13:30:38.000Z</published>
    <updated>2019-02-27T07:32:29.947Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼"></a> è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">::-webkit-scrollbar æ»šåŠ¨æ¡æ•´ä½“éƒ¨åˆ†</span><br><span class="line">::-webkit-scrollbar-thumb  æ»šåŠ¨æ¡é‡Œé¢çš„å°æ–¹å—ï¼Œèƒ½å‘ä¸Šå‘ä¸‹ç§»åŠ¨ï¼ˆæˆ–å¾€å·¦å¾€å³ç§»åŠ¨ï¼Œå–å†³äºæ˜¯å‚ç›´æ»šåŠ¨æ¡è¿˜æ˜¯æ°´å¹³æ»šåŠ¨æ¡ï¼‰</span><br><span class="line">::-webkit-scrollbar-track  æ»šåŠ¨æ¡çš„è½¨é“ï¼ˆé‡Œé¢è£…æœ‰Thumbï¼‰</span><br><span class="line">::-webkit-scrollbar-button æ»šåŠ¨æ¡çš„è½¨é“çš„ä¸¤ç«¯æŒ‰é’®ï¼Œå…è®¸é€šè¿‡ç‚¹å‡»å¾®è°ƒå°æ–¹å—çš„ä½ç½®ã€‚</span><br><span class="line">::-webkit-scrollbar-track-piece å†…å±‚è½¨é“ï¼Œæ»šåŠ¨æ¡ä¸­é—´éƒ¨åˆ†ï¼ˆé™¤å»ï¼‰</span><br><span class="line">::-webkit-scrollbar-corner è¾¹è§’ï¼Œå³ä¸¤ä¸ªæ»šåŠ¨æ¡çš„äº¤æ±‡å¤„</span><br><span class="line">::-webkit-resizer ä¸¤ä¸ªæ»šåŠ¨æ¡çš„äº¤æ±‡å¤„ä¸Šç”¨äºé€šè¿‡æ‹–åŠ¨è°ƒæ•´å…ƒç´ å¤§å°çš„å°æ§ä»¶</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="åŸºç¡€è®¾ç½®"><a class="markdownIt-Anchor" href="#åŸºç¡€è®¾ç½®"></a> åŸºç¡€è®¾ç½®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å®šä¹‰æ»šåŠ¨æ¡é«˜å®½åŠèƒŒæ™¯ é«˜å®½åˆ†åˆ«å¯¹åº”æ¨ªç«–æ»šåŠ¨æ¡çš„å°ºå¯¸*/</span></span><br><span class="line">::-webkit-scrollbar</span><br><span class="line">&#123;</span><br><span class="line">    width: <span class="number">16</span>px;</span><br><span class="line">    height: <span class="number">16</span>px;</span><br><span class="line">    background-color: #F5F5F5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å®šä¹‰æ»šåŠ¨æ¡è½¨é“ å†…é˜´å½±+åœ†è§’*/</span></span><br><span class="line">::-webkit-scrollbar-track</span><br><span class="line">&#123;</span><br><span class="line">    -webkit-box-shadow: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6</span>px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);</span><br><span class="line">    border-radius: <span class="number">10</span>px;</span><br><span class="line">    background-color: #F5F5F5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å®šä¹‰æ»‘å— å†…é˜´å½±+åœ†è§’*/</span></span><br><span class="line">::-webkit-scrollbar-thumb</span><br><span class="line">&#123;</span><br><span class="line">    border-radius: <span class="number">10</span>px;</span><br><span class="line">    -webkit-box-shadow: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6</span>px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">.3</span>);</span><br><span class="line">    background-color: #555;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¯¦ç»†è®¾ç½®"><a class="markdownIt-Anchor" href="#è¯¦ç»†è®¾ç½®"></a> è¯¦ç»†è®¾ç½®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">:horizontal</span><br><span class="line"><span class="comment">//horizontalä¼ªç±»é€‚ç”¨äºä»»ä½•æ°´å¹³æ–¹å‘ä¸Šçš„æ»šåŠ¨æ¡</span></span><br><span class="line"></span><br><span class="line">:vertical</span><br><span class="line"><span class="comment">//verticalä¼ªç±»é€‚ç”¨äºä»»ä½•å‚ç›´æ–¹å‘çš„æ»šåŠ¨æ¡</span></span><br><span class="line"></span><br><span class="line">:decrement</span><br><span class="line"><span class="comment">//decrementä¼ªç±»é€‚ç”¨äºæŒ‰é’®å’Œè½¨é“ç¢ç‰‡ã€‚è¡¨ç¤ºé€’å‡çš„æŒ‰é’®æˆ–è½¨é“ç¢ç‰‡ï¼Œä¾‹å¦‚å¯ä»¥ä½¿åŒºåŸŸå‘ä¸Šæˆ–è€…å‘å³ç§»åŠ¨çš„åŒºåŸŸå’ŒæŒ‰é’®</span></span><br><span class="line"></span><br><span class="line">:increment</span><br><span class="line"><span class="comment">//incrementä¼ªç±»é€‚ç”¨äºæŒ‰é’®å’Œè½¨é“ç¢ç‰‡ã€‚è¡¨ç¤ºé€’å¢çš„æŒ‰é’®æˆ–è½¨é“ç¢ç‰‡ï¼Œä¾‹å¦‚å¯ä»¥ä½¿åŒºåŸŸå‘ä¸‹æˆ–è€…å‘å·¦ç§»åŠ¨çš„åŒºåŸŸå’ŒæŒ‰é’®</span></span><br><span class="line"></span><br><span class="line">:start</span><br><span class="line"><span class="comment">//startä¼ªç±»é€‚ç”¨äºæŒ‰é’®å’Œè½¨é“ç¢ç‰‡ã€‚è¡¨ç¤ºå¯¹è±¡ï¼ˆæŒ‰é’® è½¨é“ç¢ç‰‡ï¼‰æ˜¯å¦æ”¾åœ¨æ»‘å—çš„å‰é¢</span></span><br><span class="line"></span><br><span class="line">:end</span><br><span class="line"><span class="comment">//endä¼ªç±»é€‚ç”¨äºæŒ‰é’®å’Œè½¨é“ç¢ç‰‡ã€‚è¡¨ç¤ºå¯¹è±¡ï¼ˆæŒ‰é’® è½¨é“ç¢ç‰‡ï¼‰æ˜¯å¦æ”¾åœ¨æ»‘å—çš„åé¢</span></span><br><span class="line"></span><br><span class="line">:double-button</span><br><span class="line"><span class="comment">//double-buttonä¼ªç±»é€‚ç”¨äºæŒ‰é’®å’Œè½¨é“ç¢ç‰‡ã€‚åˆ¤æ–­è½¨é“ç»“æŸçš„ä½ç½®æ˜¯å¦æ˜¯ä¸€å¯¹æŒ‰é’®ã€‚ä¹Ÿå°±æ˜¯è½¨é“ç¢ç‰‡ç´§æŒ¨ç€ä¸€å¯¹åœ¨ä¸€èµ·çš„æŒ‰é’®ã€‚</span></span><br><span class="line"></span><br><span class="line">:single-button</span><br><span class="line"><span class="comment">//single-buttonä¼ªç±»é€‚ç”¨äºæŒ‰é’®å’Œè½¨é“ç¢ç‰‡ã€‚åˆ¤æ–­è½¨é“ç»“æŸçš„ä½ç½®æ˜¯å¦æ˜¯ä¸€ä¸ªæŒ‰é’®ã€‚ä¹Ÿå°±æ˜¯è½¨é“ç¢ç‰‡ç´§æŒ¨ç€ä¸€ä¸ªå•ç‹¬çš„æŒ‰é’®ã€‚</span></span><br><span class="line"></span><br><span class="line">:no-button</span><br><span class="line">no-buttonä¼ªç±»è¡¨ç¤ºè½¨é“ç»“æŸçš„ä½ç½®æ²¡æœ‰æŒ‰é’®ã€‚</span><br><span class="line"></span><br><span class="line">:corner-present</span><br><span class="line"><span class="comment">//corner-presentä¼ªç±»è¡¨ç¤ºæ»šåŠ¨æ¡çš„è§’è½æ˜¯å¦å­˜åœ¨ã€‚</span></span><br><span class="line"></span><br><span class="line">:<span class="built_in">window</span>-inactive</span><br><span class="line"><span class="comment">//é€‚ç”¨äºæ‰€æœ‰æ»šåŠ¨æ¡ï¼Œè¡¨ç¤ºåŒ…å«æ»šåŠ¨æ¡çš„åŒºåŸŸï¼Œç„¦ç‚¹ä¸åœ¨è¯¥çª—å£çš„æ—¶å€™ã€‚</span></span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-track-piece:start &#123;</span><br><span class="line"><span class="comment">/*æ»šåŠ¨æ¡ä¸ŠåŠè¾¹æˆ–å·¦åŠè¾¹*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-thumb:<span class="built_in">window</span>-inactive &#123;</span><br><span class="line"><span class="comment">/*å½“ç„¦ç‚¹ä¸åœ¨å½“å‰åŒºåŸŸæ»‘å—çš„çŠ¶æ€*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-button:horizontal:decrement:hover &#123;</span><br><span class="line"><span class="comment">/*å½“é¼ æ ‡åœ¨æ°´å¹³æ»šåŠ¨æ¡ä¸‹é¢çš„æŒ‰é’®ä¸Šçš„çŠ¶æ€*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼&quot;&gt;&lt;/a&gt; è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼&lt;/h2&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;::-webkit-scrollbar æ»šåŠ¨æ¡æ•´ä½“éƒ¨åˆ†&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;::-webkit-scrollbar-thumb  æ»šåŠ¨æ¡é‡Œé¢çš„å°æ–¹å—ï¼Œèƒ½å‘ä¸Šå‘ä¸‹ç§»åŠ¨ï¼ˆæˆ–å¾€å·¦å¾€å³ç§»åŠ¨ï¼Œå–å†³äºæ˜¯å‚ç›´æ»šåŠ¨æ¡è¿˜æ˜¯æ°´å¹³æ»šåŠ¨æ¡ï¼‰&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;::-webkit-scrollbar-track  æ»šåŠ¨æ¡çš„è½¨é“ï¼ˆé‡Œé¢è£…æœ‰Thumbï¼‰&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;::-webkit-scrollbar-button æ»šåŠ¨æ¡çš„è½¨é“çš„ä¸¤ç«¯æŒ‰é’®ï¼Œå…è®¸é€šè¿‡ç‚¹å‡»å¾®è°ƒå°æ–¹å—çš„ä½ç½®ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;::-webkit-scrollbar-track-piece å†…å±‚è½¨é“ï¼Œæ»šåŠ¨æ¡ä¸­é—´éƒ¨åˆ†ï¼ˆé™¤å»ï¼‰&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;::-webkit-scrollbar-corner è¾¹è§’ï¼Œå³ä¸¤ä¸ªæ»šåŠ¨æ¡çš„äº¤æ±‡å¤„&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;::-webkit-resizer ä¸¤ä¸ªæ»šåŠ¨æ¡çš„äº¤æ±‡å¤„ä¸Šç”¨äºé€šè¿‡æ‹–åŠ¨è°ƒæ•´å…ƒç´ å¤§å°çš„å°æ§ä»¶&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="scrollbar" scheme="https://qingshaoxi.github.io/blog/categories/scrollbar/"/>
    
      <category term="chrome" scheme="https://qingshaoxi.github.io/blog/categories/scrollbar/chrome/"/>
    
    
      <category term="é»‘ç§‘æŠ€" scheme="https://qingshaoxi.github.io/blog/tags/%E9%BB%91%E7%A7%91%E6%8A%80/"/>
    
  </entry>
  
  <entry>
    <title>setTimeout 0</title>
    <link href="https://qingshaoxi.github.io/blog/post/setTimeout.html"/>
    <id>https://qingshaoxi.github.io/blog/post/setTimeout.html</id>
    <published>2017-01-04T12:30:38.000Z</published>
    <updated>2019-02-27T07:32:29.949Z</updated>
    
    <content type="html"><![CDATA[<p>setTimeout(function(){},0)</p><a id="more"></a><p>è°ƒç”¨ setTimeout å‡½æ•°ä¼šåœ¨ä¸€ä¸ªæ—¶é—´æ®µè¿‡å»ååœ¨é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªæ¶ˆæ¯ã€‚è¿™ä¸ªæ—¶é—´æ®µä½œä¸ºå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°è¢«ä¼ å…¥ã€‚å¦‚æœé˜Ÿåˆ—ä¸­æ²¡æœ‰å…¶å®ƒæ¶ˆæ¯ï¼Œæ¶ˆæ¯ä¼šè¢«é©¬ä¸Šå¤„ç†ã€‚ä½†æ˜¯ï¼Œå¦‚æœæœ‰å…¶å®ƒæ¶ˆæ¯ï¼ŒsetTimeout æ¶ˆæ¯å¿…é¡»ç­‰å¾…å…¶å®ƒæ¶ˆæ¯å¤„ç†å®Œã€‚å› æ­¤ç¬¬äºŒä¸ªå‚æ•°ä»…ä»…è¡¨ç¤ºæœ€å°‘çš„æ—¶é—´ è€Œéç¡®åˆ‡çš„æ—¶é—´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'this is the start'</span>);</span><br><span class="line"></span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">cb</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'this is a msg from call back'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'this is just a message'</span>);</span><br><span class="line"></span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span> <span class="title">cb1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'this is a msg from call back1'</span>);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'this is the  end'</span>);</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// "this is the start"</span></span><br><span class="line"><span class="comment">// "this is just a message"</span></span><br><span class="line"><span class="comment">// "this is the end"</span></span><br><span class="line"><span class="comment">// "this is a msg from call back"</span></span><br><span class="line"><span class="comment">// "this is a msg from call back1"</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;setTimeout(function(){},0)&lt;/p&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://qingshaoxi.github.io/blog/categories/JavaScript/"/>
    
    
      <category term="é»‘ç§‘æŠ€" scheme="https://qingshaoxi.github.io/blog/tags/%E9%BB%91%E7%A7%91%E6%8A%80/"/>
    
  </entry>
  
</feed>
